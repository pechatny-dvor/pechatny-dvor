function getMD5(e){function t(e,t){return e<<t|e>>>32-t}function o(e,t){var o,i,r,a,n;return r=2147483648&e,a=2147483648&t,o=1073741824&e,i=1073741824&t,n=(1073741823&e)+(1073741823&t),o&i?2147483648^n^r^a:o|i?1073741824&n?3221225472^n^r^a:1073741824^n^r^a:n^r^a}function i(e,i,r,a,n,l,s){return e=o(e,o(o(function(e,t,o){return e&t|~e&o}(i,r,a),n),s)),o(t(e,l),i)}function r(e,i,r,a,n,l,s){return e=o(e,o(o(function(e,t,o){return e&o|t&~o}(i,r,a),n),s)),o(t(e,l),i)}function a(e,i,r,a,n,l,s){return e=o(e,o(o(function(e,t,o){return e^t^o}(i,r,a),n),s)),o(t(e,l),i)}function n(e,i,r,a,n,l,s){return e=o(e,o(o(function(e,t,o){return t^(e|~o)}(i,r,a),n),s)),o(t(e,l),i)}function l(e){var t,o="",i="";for(t=0;t<=3;t++)o+=(i="0"+(e>>>8*t&255).toString(16)).substr(i.length-2,2);return o}var s,u,c,d,m,p,f,h,v,g=Array();for(g=function(e){for(var t,o=e.length,i=o+8,r=16*((i-i%64)/64+1),a=Array(r-1),n=0,l=0;l<o;)n=l%4*8,a[t=(l-l%4)/4]=a[t]|e.charCodeAt(l)<<n,l++;return t=(l-l%4)/4,n=l%4*8,a[t]=a[t]|128<<n,a[r-2]=o<<3,a[r-1]=o>>>29,a}(e=function(e){e=e.replace(/rn/g,"n");for(var t="",o=0;o<e.length;o++){var i=e.charCodeAt(o);i<128?t+=String.fromCharCode(i):i>127&&i<2048?(t+=String.fromCharCode(i>>6|192),t+=String.fromCharCode(63&i|128)):(t+=String.fromCharCode(i>>12|224),t+=String.fromCharCode(i>>6&63|128),t+=String.fromCharCode(63&i|128))}return t}(e)),p=1732584193,f=4023233417,h=2562383102,v=271733878,s=0;s<g.length;s+=16)u=p,c=f,d=h,m=v,f=n(f=n(f=n(f=n(f=a(f=a(f=a(f=a(f=r(f=r(f=r(f=r(f=i(f=i(f=i(f=i(f,h=i(h,v=i(v,p=i(p,f,h,v,g[s+0],7,3614090360),f,h,g[s+1],12,3905402710),p,f,g[s+2],17,606105819),v,p,g[s+3],22,3250441966),h=i(h,v=i(v,p=i(p,f,h,v,g[s+4],7,4118548399),f,h,g[s+5],12,1200080426),p,f,g[s+6],17,2821735955),v,p,g[s+7],22,4249261313),h=i(h,v=i(v,p=i(p,f,h,v,g[s+8],7,1770035416),f,h,g[s+9],12,2336552879),p,f,g[s+10],17,4294925233),v,p,g[s+11],22,2304563134),h=i(h,v=i(v,p=i(p,f,h,v,g[s+12],7,1804603682),f,h,g[s+13],12,4254626195),p,f,g[s+14],17,2792965006),v,p,g[s+15],22,1236535329),h=r(h,v=r(v,p=r(p,f,h,v,g[s+1],5,4129170786),f,h,g[s+6],9,3225465664),p,f,g[s+11],14,643717713),v,p,g[s+0],20,3921069994),h=r(h,v=r(v,p=r(p,f,h,v,g[s+5],5,3593408605),f,h,g[s+10],9,38016083),p,f,g[s+15],14,3634488961),v,p,g[s+4],20,3889429448),h=r(h,v=r(v,p=r(p,f,h,v,g[s+9],5,568446438),f,h,g[s+14],9,3275163606),p,f,g[s+3],14,4107603335),v,p,g[s+8],20,1163531501),h=r(h,v=r(v,p=r(p,f,h,v,g[s+13],5,2850285829),f,h,g[s+2],9,4243563512),p,f,g[s+7],14,1735328473),v,p,g[s+12],20,2368359562),h=a(h,v=a(v,p=a(p,f,h,v,g[s+5],4,4294588738),f,h,g[s+8],11,2272392833),p,f,g[s+11],16,1839030562),v,p,g[s+14],23,4259657740),h=a(h,v=a(v,p=a(p,f,h,v,g[s+1],4,2763975236),f,h,g[s+4],11,1272893353),p,f,g[s+7],16,4139469664),v,p,g[s+10],23,3200236656),h=a(h,v=a(v,p=a(p,f,h,v,g[s+13],4,681279174),f,h,g[s+0],11,3936430074),p,f,g[s+3],16,3572445317),v,p,g[s+6],23,76029189),h=a(h,v=a(v,p=a(p,f,h,v,g[s+9],4,3654602809),f,h,g[s+12],11,3873151461),p,f,g[s+15],16,530742520),v,p,g[s+2],23,3299628645),h=n(h,v=n(v,p=n(p,f,h,v,g[s+0],6,4096336452),f,h,g[s+7],10,1126891415),p,f,g[s+14],15,2878612391),v,p,g[s+5],21,4237533241),h=n(h,v=n(v,p=n(p,f,h,v,g[s+12],6,1700485571),f,h,g[s+3],10,2399980690),p,f,g[s+10],15,4293915773),v,p,g[s+1],21,2240044497),h=n(h,v=n(v,p=n(p,f,h,v,g[s+8],6,1873313359),f,h,g[s+15],10,4264355552),p,f,g[s+6],15,2734768916),v,p,g[s+13],21,1309151649),h=n(h,v=n(v,p=n(p,f,h,v,g[s+4],6,4149444226),f,h,g[s+11],10,3174756917),p,f,g[s+2],15,718787259),v,p,g[s+9],21,3951481745),p=o(p,u),f=o(f,c),h=o(h,d),v=o(v,m);return(l(p)+l(f)+l(h)+l(v)).toLowerCase()}function getQuerystring(e,t){null==t&&(t=""),e=e.replace(/[\[]/,"\\[").replace(/[\]]/,"\\]");var o=new RegExp("[\\?&]"+e+"=([^&#]*)").exec(window.location.href);return null==o?t:o[1]}function onProductImageClicked(e){var t=!1;$$(".image-overlay-image")[0]&&(t=!0);var o,i=$$(".form-overlay-item"),r=[];if(i=i.filter(function(e){return"true"===e.getAttribute("hasimages")||"true"===e.getAttribute("hasicon")||!!(e.querySelector("img")&&!e.querySelector("img").src.indexOf("noImage-placeholder.svg")>-1)}),t){i[e]&&("true"===i[e].getAttribute("hasimages")?o=i[e].getElementsByTagName("img"):"false"===i[e].getAttribute("hasimages")&&"true"===i[e].getAttribute("hasicon")&&(o=[i[e].getAttribute("iconValue")]));for(var a=0;a<o.length;a++)r.push(o[a].src||o[a])}else document.querySelector(".form-overlay-item img")?r.push(document.querySelectorAll(".form-overlay-item img")[e].src):document.querySelectorAll(".form-product-item img")&&r.push(document.querySelectorAll(".form-product-item img")[e].src);if(t&&0===r.length&&r.push(document.querySelectorAll(".form-overlay-item img")[e].src),r&&r.length){var n=document.createElement("div"),l=document.createElement("div"),s=document.createElement("div"),u=document.createElement("div"),c=document.createElement("ul");n.id="productImageOverlay",n.className=t?"overlay new_ui":"overlay old_ui",n.tabIndex=-1,l.className="overlay-content",s.className="img-wrapper",u.className="slider-navigation",n.appendChild(l),l.appendChild(s),l.appendChild(u),t&&u.appendChild(c);var d=document.createElement("small"),m=document.createElement("small"),p=document.createElement("small");p.innerText="X",d.className="lb-prev-button",m.className="lb-next-button",p.className="lb-close-button",s.appendChild(d),s.appendChild(m),l.appendChild(p);var f=r.map(function(e){var t=document.createElement("span");return t.setAttribute("style",'background-image: url("'+encodeURI(e)+'"); display: none'),t.setAttribute("url",encodeURI(e)),t});f[0].style.display="block";var h=0,v=f.length;f.each(function(e,t){if(s.appendChild(e),f.length>1){l.hasClassName("has_thumbnail")||l.addClassName("has_thumbnail");var o=document.createElement("li");o.onclick=function(e,t){f[h].style.display="none",c.childElements()[h].classList.remove("selected"),f[h=e].style.display="block",c.childElements()[e].classList.add("selected")}.bind(this,t),o.setAttribute("style",'background-image: url("'+e.getAttribute("url")+'")'),0===t&&(o.className="selected"),c.appendChild(o)}});var g=function(){f[h].style.display="none",-1==(h-=1)&&(h=v-1),f[h].style.display="block",c.childElements().each(function(e,t){e.className=h===t?"selected":""})};d.onclick=g;var y=function(){f[h].style.display="none",(h+=1)==v&&(h=0),f[h].style.display="block",c.childElements().each(function(e,t){h===t?(e.className="selected",e.scrollIntoView()):e.className=""})};m.onclick=y,l.onclick=function(e){e.stopPropagation()};var b=function(){window.onresize=null,n.remove()};p.onclick=b,n.onclick=b;window.onresize=function(e){},n.onkeydown=function(e){e.stopPropagation(),e.preventDefault(),37==e.keyCode||38==e.keyCode?g():39==e.keyCode||40==e.keyCode?y():27==e.keyCode&&n.remove()},document.body.appendChild(n),n.focus()}}function createNewComponent(e,t){var o=new newDefaultThemeHandler(e);return newDefaultThemeHandler.prototype.run=t,o}function newDefaultThemeHandler(e){this.type=e.type||"",this.selector=e.selector||"",this.targetElArr=null,this.initElement=function(){return!!this.selector&&("field"===this.type?this.targetElArr=document.querySelectorAll(".form-line *"+this.selector):this.targetElArr=document.querySelectorAll(this.selector),!(this.targetElArr.length<1))},this.render=function(){this.initElement()&&this.run(this.targetElArr)}}var JotForm={url:"//www.jotform.com/",server:"//www.jotform.com/server.php",conditions:{},calculations:{},condValues:{},progressBar:!1,forms:[],saveForm:!1,imageFiles:["png","jpg","jpeg","ico","tiff","bmp","gif","apng","jp2","jfif"],autoCompletes:{},defaultValues:{},debug:!1,highlightInputs:!0,noJump:!1,initializing:!0,lastFocus:!1,payment:!1,fieldsToPreserve:[],saving:!1,loadingPendingSubmission:!1,sessionID:null,submissionToken:null,submissionID:null,texts:{confirmEmail:"E-mail does not match",pleaseWait:"!!!!!Please wait...",validateEmail:"You need to validate this e-mail",confirmClearForm:"Are you sure you want to clear the form",lessThan:"Your score should be less than or equal to",incompleteFields:"There are incomplete required fields. Please complete them.",required:"This field is required.",requireOne:"At least one field required.",requireEveryRow:"Every row is required.",requireEveryCell:"Every cell is required.",email:"Enter a valid e-mail address",alphabetic:"This field can only contain letters",numeric:"This field can only contain numeric values",alphanumeric:"This field can only contain letters and numbers.",cyrillic:"This field can only contain cyrillic characters",url:"This field can only contain a valid URL",currency:"This field can only contain currency values.",fillMask:"Field value must fill mask.",uploadExtensions:"You can only upload following files:",noUploadExtensions:"File has no extension file type (e.g. .txt, .png, .jpeg)",uploadFilesize:"File size cannot be bigger than:",uploadFilesizemin:"File size cannot be smaller than:",gradingScoreError:"Score total should only be less than or equal to",inputCarretErrorA:"Input should not be less than the minimum value:",inputCarretErrorB:"Input should not be greater than the maximum value:",maxDigitsError:"The maximum digits allowed is",freeEmailError:"Free email accounts are not allowed",minSelectionsError:"The minimum required number of selections is ",maxSelectionsError:"The maximum number of selections allowed is ",pastDatesDisallowed:"Date must not be in the past.",dateLimited:"This date is unavailable.",dateInvalid:"This date is not valid. The date format is {format}",dateInvalidSeparate:"This date is not valid. Enter a valid {element}.",ageVerificationError:"You must be older than {minAge} years old to submit this form.",multipleFileUploads_typeError:"{file} has invalid extension. Only {extensions} are allowed.",multipleFileUploads_sizeError:"{file} is too large, maximum file size is {sizeLimit}.",multipleFileUploads_minSizeError:"{file} is too small, minimum file size is {minSizeLimit}.",multipleFileUploads_emptyError:"{file} is empty, please select files again without it.",multipleFileUploads_uploadFailed:"File upload failed, please remove it and upload the file again.",multipleFileUploads_onLeave:"The files are being uploaded, if you leave now the upload will be cancelled.",multipleFileUploads_fileLimitError:"Only {fileLimit} file uploads allowed.",generalError:"There are errors on the form. Please fix them before continuing.",generalPageError:"There are errors on this page. Please fix them before continuing.",wordLimitError:"Too many words. The limit is",wordMinLimitError:"Too few words.  The minimum is",characterLimitError:"Too many Characters.  The limit is",characterMinLimitError:"Too few characters. The minimum is",ccInvalidNumber:"Credit Card Number is invalid.",ccInvalidCVC:"CVC number is invalid.",ccInvalidExpireDate:"Expire date is invalid.",ccInvalidExpireMonth:"Expiration month is invalid.",ccInvalidExpireYear:"Expiration year is invalid.",ccMissingDetails:"Please fill up the credit card details.",ccMissingProduct:"Please select at least one product.",ccMissingDonation:"Please enter numeric values for donation amount.",disallowDecimals:"Please enter a whole number.",restrictedDomain:"This domain is not allowed",ccDonationMinLimitError:"Minimum amount is {minAmount} {currency}",requiredLegend:"All fields marked with * are required and must be filled.",geoPermissionTitle:"Permission Denied",geoPermissionDesc:"Check your browser's privacy settings.",geoNotAvailableTitle:"Position Unavailable",geoNotAvailableDesc:"Location provider not available. Please enter the address manually.",geoTimeoutTitle:"Timeout",geoTimeoutDesc:"Please check your internet connection and try again."},paymentTexts:{couponApply:"Apply",couponChange:"Change",couponEnter:"Enter Coupon",couponExpired:"Coupon is expired. Please try another one.",couponInvalid:"Coupon is invalid. Please try another one.",couponValid:"Coupon is valid.",couponBlank:"Please enter a coupon.",shippingShipping:"Shipping",totalTotal:"Total",totalSubtotal:"Subtotal",taxTax:"Tax"},validationRegexes:{email:/^(?:[\sa-zA-Z0-9!#$%&'*+\/=?^_`{|}~-]+(?:\.[\sa-zA-Z0-9!#$%&'*+\/=?^_`{|}~-]+)*|"(?:[\s\x01-\x08\x0b\x0c\x0e-\x1f\x21\x23-\x5b\x5d-\x7f]|\\[\x01-\x09\x0b\x0c\x0e-\x7f])*")@(?:(?:[a-zA-Z0-9](?:[a-zA-Z0-9-]*[a-zA-Z0-9])?\.)+[a-zA-Z0-9](?:[a-zA-Z0-9-]*[a-zA-Z0-9]){1,}|\[(?:(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\.){3}(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?|[a-zA-Z0-9-]*[a-zA-Z0-9]:(?:[\x01-\x08\x0b\x0c\x0e-\x1f\x21-\x5a\x53-\x7f]|\\[\x01-\x09\x0b\x0c\x0e-\x7f])+)\])$/,alphanumeric:/^[\u00C0-\u1FFF\u2C00-\uD7FFa-zA-Z0-9\s]+$/,numeric:/^(-?\d+[\.\,]?)+$/,numericDotStart:/^([\.]\d+)+$/,currency:/^-?[\$\£\€]?\d*,?\d*,?\d*(\.\d\d)?¥?$/,alphabetic:/^[\u00C0-\u1FFF\u2C00-\uD7FFa-zA-Z\s]+$/,cyrillic:/^[абвгдеёжзийклмнопрстуфхцчшщьыъэюяАБВГДЕЁЖЗИЙКЛМНОПРСТУФХЦЧШЩЬЫЪЭЮЯ\s]*$/,url:/(http|ftp|https){0,1}:{0,1}[\w\-_]+(\.[\w\-_]+)+([\w\-\.,@?^=%&amp;:/~\+#]*[\w\-\@?^=%&amp;/~\+#])?/},freeEmailAddresses:["gmail","aim","outlook","hotmail","yahoo","mail","inbox","gmx","yandex","tutanota","ymail","mailfence","hushmail","protonmail","rediffmail","msn","live","aol","currently","att","mailinator","getnada","abyssmail","boximail","clrmail","dropjar","getairmail","givmail","inboxbear","tafmail","vomoto","zetmail","sharklasers","guerrillamail","grr","guerrillamailblock","pokemail","spam4","emailcu","mybx","fsmilitary","yopmail","cool","jetable","nospam","nomail","monmail","monemail","moncourrier","courriel","speed","mega"],paymentFields:["control_2co","control_authnet","control_bluepay","control_bluesnap","control_boxpayment","control_braintree","control_cardconnect","control_chargify","control_clickbank","control_dwolla","control_echeck","control_eway","control_firstdata","control_paypalInvoicing","control_gocardless","control_googleco","control_moneris","control_onebip","control_pagseguro","control_payjunction","control_payment","control_paymill","control_paysafe","control_paypal","control_paypalexpress","control_paypalpro","control_paypalcomplete","control_payu","control_sofort","control_skrill","control_square","control_stripe","control_stripeACH","control_stripeACHManual","control_wepay","control_worldpay","control_payoneer","control_paypalSPB","control_cybersource"],isEncrypted:!1,tempUploadFolderInjected:!1,disableSubmitButton:!1,disableSubmitButtonMessage:"",encryptAll:function(e,t){e.stop();var o=["control_captcha","control_paypal","control_stripe","control_stripeACH","control_stripeACHManual","control_2co","control_paypalexpress","control_authnet","control_paypalpro","control_paymill","control_braintree","control_dwolla","control_payment","control_paymentwall","control_square","control_boxpayment","control_eway","control_bluepay","control_worldpay","control_firstdata","control_paypalInvoicing","control_payjunction","control_worldpayus","control_wepay","control_chargify","control_cardconnect","control_echeck","control_bluesnap","control_payu","control_pagseguro","control_moneris","control_sofort","control_skrill","control_payoneer","control_paysafe","control_gocardless","control_paypalSPB","control_cybersource","control_paypalcomplete"],i=["control_number","control_spinner","control_email","control_dropdown","control_datetime","control_matrix","control_birthdate","control_time","control_scale","control_rating"],r=["control_stripe","control_braintree","control_square","control_eway","control_bluepay","control_wepay"],a=!0,n=[];$$(".form-textbox, .form-textarea, .form-radio, .form-checkbox, .form-dropdown, .form-number-input").each(function(e){var t=e.up("li.form-line");if(t){var l=t.readAttribute("data-type"),s=e.id.replace(/[^_]+_(\d+)(.+)?/,"$1"),u=e.name,c=["checkbox","radio"].include(e.type);if(r.indexOf(l)>-1&&JotForm.paymentTotal>0&&JotForm.isPaymentSelected()&&(a=!1),-1===o.indexOf(l)){if(["form-checkbox","form-radio"].include(e.className)){if(!e.checked)return;u=e.name+"_"+e.id.replace(/.+_([0-9]+$)/,"$1")}if(("control_matrix"!=l||!c)&&(c||-1===n.indexOf(u)||e.up().hasClassName("form-matrix-values")||e.up(1).hasClassName("form-matrix-values"))&&void 0!==e.value&&!(e.value.length>300&&e.value.indexOf("==")==e.value.length-2)){var d=JotForm.uniqueField&&JotForm.uniqueField==e.id.replace(/\w+_(\d+)(.+)?/,"$1");if(JotForm.fieldsToPreserve.indexOf(s)>-1||d){var m=e.name.replace(/(\w+)(\[\w+\])?/,"$1_unencrypted$2");JotForm.forms[0].insert(new Element("input",{type:"hidden",name:m}).putValue(e.value))}var p=JotEncrypted.encrypt(e.value);if(n.push(u),"control_textarea"!=l){var f="control_mixed"===l&&"email"===e.type;if(-1!==i.indexOf(l)||"SELECT"==e.tagName||f){if("control_scale"==l&&!e.checked)return void(n=n.filter(function(t){return t!==e.name}));return $$(".jotform-form")[0].insert(new Element("input",{type:"hidden",name:e.name}).putValue(p)),void("control_matrix"==l&&(e.name=""))}if(e.getAttribute("data-masked")){var h=e.getAttribute("maskvalue");JotForm.setQuestionMasking(e,"",h,!0)}"number"===e.type&&(e.type="text"),e.value=p}else{var v=$$('[name="'+e.name+'"]');for(x=0;x<v.length;x++)v[x].value=p}}}}}),t(a)},getServerURL:function(){var e,t=$$(".jotform-form")[0],o=window.location.origin||window.location.protocol+"//"+window.location.hostname;if(t){if(o.include(".jotform.pro"))return this.server=o+"/server.php",void(this.url=o+"/");if(e=t.readAttribute("action"))if(e.include("submit.php")||e.include("server.php")){var i=e.include("server.php")?"server":"submit";this.server=e.replace(i+".php","server.php"),this.url=e.replace(i+".php","")}else{var r=e.replace(/\/submit\/.*?$/,"/");e.include("pci.jotform.com")&&(r=r.replace("pci.","submit.")),void 0!==JotForm.enterprise&&JotForm.enterprise&&(r="https://"+JotForm.enterprise+"/"),this.server=r+"server.php",this.url=r}}},initSentry:function(){var e=window.location.origin?window.location.origin:window.location.protocol+"//"+window.location.hostname+(window.location.port?":"+window.location.port:"");if(!window.Sentry&&"cardform"!==window.FORM_MODE&&!e.include("jotform.pro")){var t=new Element("script",{src:"https://browser.sentry-cdn.com/5.13.2/bundle.min.js",integrity:"sha384-dfLJFVWgMshiEcDOKARUAYP75u71aRBwHGnklTytOvQJrhnj+l2KDLvnyMnHxWj+",crossOrigin:"anonymous"});t.addEventListener("load",function(){window.Sentry&&window.Sentry.init({dsn:"https://fc3f70667fb1400caf8c27ed635bd4e1@sentry.io/4142374",enviroment:"production",whitelistUrls:[/https?:\/\/.*jotform\.com/,/https?:\/\/cdn\.jotfor\.ms/],integrations:[new Sentry.Integrations.GlobalHandlers({onunhandledrejection:!1})],ignoreUrls:[/graph\.facebook\.com/i,/connect\.facebook\.net\/en_US\/all\.js/i,/eatdifferent\.com\.woopra-ns\.com/i,/static\.woopra\.com\/js\/woopra\.js/i,/extensions\//i,/^chrome:\/\//i,/127\.0\.0\.1:4001\/isrunning/i,/webappstoolbarba\.texthelp\.com\//i,/metrics\.itunes\.apple\.com\.edgesuite\.net\//i,/tinymce/i],ignoreErrors:["top.GLOBALS","originalCreateNotification","canvas.contentDocument","MyApp_RemoveAllHighlights","http://tt.epicplay.com","Can't find variable: ZiteReader","jigsaw is not defined","ComboSearch is not defined","http://loading.retry.widdit.com/","atomicFindClose","fb_xd_fragment","bmi_SafeAddOnload","EBCallBackMessageReceived","conduitPage","tinymce","GetScreenshotBoundingBox","Can't execute code from a freed script","for=","JotForm.handleIFrameHeight"],beforeSend:function(e){if((window.parent!==window||e.request.url.match(/(https?:\/\/.*jotform\.com)|(https?:\/\/cdn\.jotfor\.ms)/))&&!/FB_IAB || FBAV || FB4A/.test(window.navigator.userAgent))return e}})}),$$("head")[0].insert(t)}},getAPIEndpoint:function(){var e=window.location.origin;return e.include("jotform.pro")?e+"/API":"https://api.jotform.com"},alterTexts:function(e,t){t&&e?(Object.extend(this.paymentTexts,e),this.changePaymentStrings(e)):Object.extend(this.texts,e||{})},ie:function(){for(var e=3,t=document.createElement("div"),o=t.getElementsByTagName("i");t.innerHTML="\x3c!--[if gt IE "+ ++e+"]><i></i><![endif]--\x3e",o[0];);return e>4?e:void 0},createConsole:function(){$A(["log","info","warn","error"]).each(function(e){this[e]=function(){if(JotForm.debug&&"console"in window)try{console[e].apply(this,arguments)}catch(t){"string"==typeof arguments[0]?console.log(e.toUpperCase()+": "+$A(arguments).join(", ")):Prototype.Browser.IE?alert(e+": "+arguments[0]):console[e](arguments[0])}}}.bind(this)),JotForm.debug&&(JotForm.debugOptions=document.readJsonCookie("debug_options"))},init:function(e){var t=function(){try{if(this.initSentry(),void 0!==$$(".jotform-form")&&void 0!==$$(".jotform-form")[0]&&"function"==typeof $$(".jotform-form")[0].reset&&void 0!==$$(".jotform-form")[0].autocomplete&&"off"==$$(".jotform-form")[0].autocomplete&&(-1===window.navigator.userAgent.indexOf("MSIE ")&&-1===window.navigator.userAgent.indexOf("Trident/")||$$(".jotform-form")[0].reset()),this.populateGet(),"1"==document.get.debug&&(this.debug=!0),this.createConsole(),this.getServerURL(),this.checkJSON(),e&&e(),-1!==window.location.href.indexOf("/edit/")){var t=window.location.href.split("/");document.get.sid=t[t.indexOf("edit")+1],this.editMode()}if("edit"!=document.get.mode&&"inlineEdit"!=document.get.mode&&"submissionToPDF"!=document.get.mode&&"true"!=document.get.offline_forms||!document.get.sid||this.editMode(),this.noJump="nojump"in document.get,this.uniqueID=this.uniqid(),this.sessionID="session"in document.get&&document.get.session.length>0&&document.get.session,this.submissionToken="stoken"in document.get&&document.get.stoken.length>0&&document.get.stoken,this.submissionID="sid"in document.get&&document.get.sid.length>0&&document.get.sid,this.handleSavedForm(),this.setHTMLClass(),this.getDefaults(),this.noJump&&window.parent.postMessage("removeIframeOnloadAttr","*"),$$('input[name="simple_fpc"]').length>0&&(this.payment=$$('input[name="simple_fpc"]')[0].getAttribute("data-payment_type")),$$(".form-product-custom_price").length&&this.handleSubscriptionPrice(),"paypalpro"===this.payment&&this.handlePaypalPro(),"paypalcomplete"===this.payment&&this.handlePaypalComplete(),"cybersource"===this.payment&&this.handleCybersource(),"braintree"===this.payment&&this.handleBraintree(),"pagseguro"===this.payment&&this.handlePagseguro(),"square"===this.payment&&this.handleSquare(),"stripeACH"===this.payment&&this.handleStripeACH(),"authnet"===this.payment&&this.handleAuthNet(),"paypalexpress"===this.payment&&this.handlePaypalExpress(),"paypalSPB"===this.payment){if("function"==typeof JotForm.browserInformations){var o=$$(".jotform-form")[0],i=JotForm.browserInformations();o&&o.insert(new Element("input",{type:"hidden",name:"browserDetails"}).putValue(i))}var r=setInterval(function(){"undefined"!=typeof __paypalSPB&&"undefined"!=typeof paypal&&(clearInterval(r),this.handlePaypalSPB())}.bind(this),100)}if($("coupon-button")&&this.handleCoupon(),$$(".paypal-button").length>0&&$("use_paypal_button")&&this.handlePaypalButtons(),this.handleFormCollapse(),this.handlePages(),this.checkEmbed(),$$(".form-product-has-subproducts").length>0&&(JotForm.newDefaultTheme?this.handlePaymentSubProductsV1():this.handlePaymentSubProducts()),"#hw-izmir"===window.location.hash&&$(document.body).addClassName("hw-izmir"),window.parent&&window.parent!=window){if(((document.referrer&&document.referrer.split("?")[1]||"").indexOf("disableSmartEmbed")>-1||!this.jsForm)&&$$(".isSmartEmbed").each(function(e){e.removeClassName("isSmartEmbed")}),this.setIFrameDeviceType(),this.handleIFrameHeight(),$$('li[data-type="control_captcha"]').length)var a=setInterval(function(){$("recaptcha_challenge_image")&&(clearInterval(a),JotForm.handleIFrameHeight())},500)}else $$(".isSmartEmbed").each(function(e){e.removeClassName("isSmartEmbed")});if(Element.prototype.triggerEvent=function(e){var t=!(!this.hasClassName("form-dropdown")||!this.disabled)&&!!this.enable();if(document.createEvent){var o=document.createEvent("HTMLEvents");o.initEvent(e,!0,!0),this.dispatchEvent(o)}else this.fireEvent&&this.fireEvent("on"+e);t&&this.disable()},this.jumpToPage(),this.highLightLines(),this.setButtonActions(),this.initGradingInputs(),this.initSpinnerInputs(),this.initNumberInputs(),this.setConditionEvents(),this.setCalculationEvents(),this.runAllCalculations(),this.setCalculationResultReadOnly(),this.prePopulations(),this.handleAutoCompletes(),this.handleTextareaLimits(),this.handleDateTimeChecks(),this.handleTimeChecks(),this.handleOtherOptions(),this.setFocusEvents(),this.disableAcceptonChrome(),this.handleScreenshot(),this.handleSignatureEvents(),JotForm.newDefaultTheme&&(createNewComponent({selector:".form-radio + label",type:"field"},this.initRadioInputV2).render(),this.initTimev2Inputs(),this.initDateV2Inputs(),this.initOtherV2Options()),$A(document.forms).each(function(e){e.name!="form_"+e.id&&e.name!="q_form_"+e.id||this.forms.push(e)}.bind(this)),this.validator(),this.fixIESubmitURL(),this.disableHTML5FormValidation(),$("progressBar")&&this.setupProgressBar(),$$('input[id*="_donation"]').length>0&&this.handleDonationAmount(),getQuerystring("nosubmit")&&$$(".form-submit-button").each(function(e){e.disable()}),getQuerystring("displayAllSections")){$$(".form-section").each(function(e){e.setStyle({display:"block"})})}navigator.userAgent.match(/iPhone|iPad/g)&&(window.onpageshow=function(e){e.persisted&&JotForm.enableButtons()});var n=getQuerystring("preview");(n=!!n&&"true"===n)?this.handlePreview("true"===getQuerystring("filled")):this.initializing&&this.track(),this.additionalActionsFormEmbedded();var l=function(){var e=document.querySelector(".form-submit-button"),t=e.parentNode.querySelector(".badge-wrapper");if(t)return t;var o=function(){var e=document.createElement("div");return e.setAttribute("class","badge-wrapper"),e}();return e.parentNode.appendChild(o),o},s=function(e){l().appendChild(e),e.addEventListener("load",JotForm.handleIFrameHeight)};if(JotForm.showHIPAABadge){s(new Element("img",{class:"hipaa-badge",src:"https://cdn.jotfor.ms/assets/img/uncategorized/hipaa-badge.png",style:"display:block;width:110px;"}))}else"old_footer"==JotForm.showJotFormPowered&&function(){var e=Array.from(document.querySelectorAll(".form-submit-button")).find(function(e){return!(e.hasClassName("form-sacl-button")||e.hasClassName("js-new-sacl-button"))}),t=JotForm.newDefaultTheme&&JotForm.poweredByText?JotForm.poweredByText.replace(/JotForm/,"<b>JotForm</b>"):JotForm.poweredByText;if(e){var o=$$(".jotform-form")[0].getAttribute("id"),i=e.parentNode,r=document.createElement("a");r.target="_blank",r.href="https://www.jotform.com/?utm_source=powered_by_jotform&utm_medium=banner&utm_term="+o+"&utm_content=powered_by_jotform_text&utm_campaign=powered_by_jotform_signup_hp",r.setText(t),r.style.display="inline-block",r.style.textDecoration="none";var a="#000000",n="";null!==document.querySelector(".form-label")&&(a=getComputedStyle(document.querySelector(".form-label")).color,n=getComputedStyle(document.querySelector(".form-label")).fontFamily),r.style.opacity=.8,r.style.webkitFontSmoothing="antialiased",r.style.color=a,r.style.fontFamily=n,r.style.fontSize=JotForm.newDefaultTheme?"12px":"11px",r.className="jf-branding";var l=document.createElement("br");if(JotForm.newDefaultTheme){var s=document.createElement("div");s.className="submitBrandingWrapper",s.appendChild(e),s.appendChild(l),s.appendChild(r),i.appendChild(s)}else i.appendChild(l),i.appendChild(r);if("center"!==getComputedStyle(i).textAlign){var u=r.getBoundingClientRect(),c=e.getBoundingClientRect(),d=Math.abs((u.width-c.width)/2);u.width>c.width?r.style.marginLeft="-"+d+"px":r.style.marginLeft=d+"px"}}}();if(JotForm.showA11yBadge){s(new Element("img",{class:"accessibility-badge",src:"https://cdn.jotfor.ms/assets/img/uncategorized/access-image.png",alt:"accessibility badge",style:"display:block;width:74px;"}))}if(void 0!==JotForm.enterprise&&JotForm.enterprise){o=document.querySelector(".jotform-form");var u=new Element("input",{id:"enterprise_server",type:"hidden",name:"enterprise_server",value:JotForm.enterprise});o.appendChild(u)}if(JotForm.hipaa){o=document.querySelector(".jotform-form");var c=new Element("input",{id:"file_server",type:"hidden",name:"file_server",value:"hipaa-app1"});o.appendChild(c)}JotForm.forms[0].id,0}catch(e){JotForm.error(e)}(o=$$(".jotform-form")[0])&&o.addEventListener("submit",function(e){var t=$$('input[type="email"]');"undefined"!=typeof punycode&&t.forEach(function(e){e.value=punycode.toASCII(e.value)})}),this.handleWidgetStyles(),this.initializing=!1}.bind(this);"complete"==document.readyState||this.jsForm&&(void 0===document.readyState||"interactive"===document.readyState)?t():document.ready(t)},browserIs:{userAgent:"navigator"in window&&"userAgent"in navigator&&navigator.userAgent.toLowerCase()||"",vendor:"navigator"in window&&"vendor"in navigator&&navigator.vendor.toLowerCase()||"",appVersion:"navigator"in window&&"appVersion"in navigator&&navigator.appVersion.toLowerCase()||"",chrome:function(){return/chrome|chromium/i.test(this.userAgent)&&/google inc/.test(this.vendor)},firefox:function(){return/firefox/i.test(this.userAgent)},ie:function(){return/msie/i.test(this.userAgent)||"ActiveXObject"in window||/edge\//i.test(this.userAgent)},safari:function(){return/safari/i.test(this.userAgent)&&/apple computer/i.test(this.vendor)},operabrowser:function(){return this.userAgent.indexOf("Opera")>-1},iphone:function(){return/iphone/i.test(this.userAgent)||/iphone/i.test(this.appVersion)},ipad:function(){return/ipad/i.test(this.userAgent)||/ipad/i.test(this.appVersion)},ios:function(){return this.iphone()||this.ipad()},android:function(){return/android/i.test(this.userAgent)},androidPhone:function(){return this.android()&&/mobile/i.test(this.userAgent)},androidTablet:function(){return this.android()&&!this.androidPhone()},blackberry:function(){return/blackberry/i.test(this.userAgent)||/BB10/i.test(this.userAgent)},linux:function(){return/linux/i.test(this.appVersion)},mac:function(){return/mac/i.test(this.appVersion)},windows:function(){return/win/i.test(this.appVersion)},windowsPhone:function(){return this.windows()&&/phone/i.test(this.userAgent)},windowsTablet:function(){return this.windows()&&!this.windowsPhone()&&/touch/i.test(this.userAgent)},mobile:function(){return this.iphone()||this.androidPhone()||this.blackberry()||this.windowsPhone()},tablet:function(){return this.ipad()||this.androidTablet()||this.windowsTablet()},desktop:function(){return!this.mobile()&&!this.tablet()}},iframeRezizeTimeout:null,iframeHeightCaller:function(){window.parent&&window.parent!=window&&(clearTimeout(this.iframeRezizeTimeout),this.iframeRezizeTimeout=setTimeout(function(){this.handleIFrameHeight()}.bind(this),50))},setIFrameDeviceType:function(){"cardform"===window.FORM_MODE&&window.parent.postMessage("setDeviceType:"+window.CardLayout.layoutParams.deviceType+":","*")},handleIFrameHeight:function(){var e=$$(".jotform-form").length>0?$$(".jotform-form")[0]:$$("body")[0],t=Math.max(e.getHeight(),e.scrollHeight,e.offsetHeight),o=document.querySelector(".form-all"),i=parseInt(getComputedStyle(o).marginTop,10);if(isNaN(i)||(t+=i),t="Please Complete"===document.title?300:t,"cardform"===window.FORM_MODE){$(document.body).addClassName("isEmbed");if($(document.body).hasClassName("welcomeMode")){if((r=$$(".welcomeMode .jfWelcome-wrapper")).length>0){r[0].getHeight();100}}var r,a=0;(r=$$(".welcomeMode")).length>0&&window.innerWidth>768&&(a=60);var n=a,l=$$(".jfWelcome-header");l.length>0&&(n+=l[0].getHeight());var s=0;$$(".jfQuestion-fields").each(function(e){s=Math.max(e.getHeight(),s)});$$(".jfCard").forEach(function(e){var t=0;return e.getElementsBySelector(".jfQuestion-label, .jfQuestion-description").forEach(function(e){t+=e.getHeight()}),Math.max(0,t)},0);var u=document.querySelector("jfCard");if(u)u.getStyle("fontSize").slice(0,-2);t=$(document.body).hasClassName("isSmartEmbed")?464:640;try{var c=window.parent.document.querySelector('[id="'+e.id+'"], [id="JotFormIFrame-'+e.id+'"]');c&&c.hasAttribute("data-frameHeight")&&(t=c.getAttribute("data-frameHeight"))}catch(e){}}"console"in window&&"log"in console&&JotForm.debug&&console.log("Debug : setting height to ",t," from iframe"),window.parent.postMessage("setHeight:"+t+":"+e.id,"*")},removeCover:function(){$$(".form-cover-wrapper").each(function(e){e.remove()}),$$(".form-all").each(function(e){e.removeClassName("top-cover").removeClassName("left-cover").removeClassName("right-cover")})},fixIESubmitURL:function(){try{this.ie()<=8&&navigator.appVersion.indexOf("NT 5.")&&$A(this.forms).each(function(e){e.action.include("s://submit.")&&(e.action=e.action.replace(/\/\/submit\..*?\//,"//secure.jotform.com/"))})}catch(e){}},screenshot:!1,passive:!1,onprogress:!1,compact:!1,imageSaved:!1,handleScreenshot:function(){var e=this;setTimeout(function(){$$(".form-screen-button").each(function(t){window.parent&&window.parent.JotformFeedbackManager&&(e.getContainer(t).show(),t.observe("click",function(){e.passive=!1;try{e.takeScreenShot(t.id.replace("button_",""))}catch(e){console.error(e)}}),setTimeout(function(){e.passive=!window.parent.wishboxInstantLoad,e.takeScreenShot(t.id.replace("button_",""))},0))})},300)},getCharset:function(e){return e||(e=document),e.characterSet||e.defaultCharset||e.charset||"UTF-8"},bytesToSize:function(e,t){var o=["B","KB","MB","GB","TB"],i=0;if(0==e)return"n/a";if(e<1024)return Number(e)+" "+o[i];for(;e>=1024;)i++,e/=1024;return e.toFixed(t||2)+" "+o[i]},disableHTML5FormValidation:function(){$$("form").each(function(e){e.setAttribute("novalidate",!0)})},takeScreenShot:function(e){var t=window.parent,o='<div id="js_loading" style="position:fixed; z-index:10000000; text-align:center; background:#333; border-radius:5px; top: 20px; right: 20px; padding:10px; box-shadow:0 0 5 rgba(0,0,0,0.5);"><img src="'+this.url+'images/loader-black.gif" /><div style="font-family:verdana; font-size:12px;color:#fff;">Please !!!! Wait</div></div>';if(this.onprogress)t.$jot(o).appendTo("body");else{if(t.wishboxCompactLoad&&(this.compact=!0),this.screenshot)return this.compact?t.$jot(".jt-dimmer").hide():t.$jot(".jt-dimmer, .jotform-feedback-link, .jt-feedback").hide(),t.jotformScreenshotURL=this.screenshot.data,void this.injectEditor(this.screenshot.data,this.screenshot.shotURL);this.scuniq=JotForm.uniqid(),this.scID=e;var i=JotForm.getForm($("button_"+this.scID));this.sformID=i.formID.value,this.onprogress=!0;var r=this;this.wishboxServer="https://screenshots.jotform.com/wishbox-server.php";var a=new Element("form",{action:this.wishboxServer,target:"screen_frame",id:"screen_form",method:"post","accept-charset":"utf-8"}).hide(),n='<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en" >';t.$jot(".jt-dimmer, .jotform-feedback-link, .jt-feedback").hide(),t.$jot(".hide-on-screenshot, .hide-on-screenshot *").css({visibility:"hidden"});var l=t.document.getElementsByTagName("html")[0].innerHTML;l=(l=l.replace(/(<noscript\b[^>]*>.*?<\/noscript>)+/gim,"")).replace(/(<noscript\b[^>]*>(\s+.*\s+)+)+<\/noscript>/gim,""),t.$jot(".hide-on-screenshot, .hide-on-screenshot *").css({visibility:"visible"}),l=l.replace(/(\<\/head\>)/gim,"<style>body,html{ min-height: 800px; }</style>$1");var s=r.ie();void 0!==s&&s<9&&(l=l.replace(/(\<\/head\>)/gim,"<style>*{ border-radius:0 !important; text-shadow:none !important; box-shadow:none !important; }</style>$1")),this.passive?t.$jot(".jt-dimmer, .jotform-feedback-link, .jt-feedback").show():(t.$jot(".jotform-feedback-link").show(),t.$jot(o).appendTo("body"));var u=new Element("textarea",{name:"html"});"utf-8"!==this.getCharset(t.document).toLowerCase()?(u.value=encodeURIComponent(n+l+"</html>"),a.insert(new Element("input",{type:"hidden",name:"nozip"}).putValue("1"))):(a.insert(new Element("input",{type:"hidden",name:"nozip"}).putValue("0")),u.value=encodeURIComponent(t.$jot.jSEND(n+l+"</html>")));var c=new Element("input",{type:"hidden",name:"charset"}).putValue(this.getCharset(t.document)),d=new Element("input",{type:"hidden",name:"height"}).putValue(parseFloat(t.$jot(t).height())),m=new Element("input",{type:"hidden",name:"scrollTop"}).putValue(t.$jot(t).scrollTop()),p=new Element("input",{type:"hidden",name:"url"}).putValue(t.location.href),f=new Element("input",{type:"hidden",name:"uniqID"}).putValue(this.scuniq),h=new Element("input",{type:"hidden",name:"formID"}).putValue(this.sformID),v=new Element("input",{type:"hidden",name:"action"}).putValue("getScreenshot"),g=new Element("iframe",{name:"screen_frame",id:"screen_frame_id"}).hide();g.observe("load",function(){r.checkScreenShot()}),t.wishboxInstantLoad&&(void 0===s||s>8)&&this.injectEditor(!1,!1),a.insert(u).insert(d).insert(m).insert(v).insert(f).insert(p).insert(h).insert(c),$(document.body).insert(a).insert(g),a.submit()}},checkJSON:function(){if("object"!=typeof JSON){var e=document.createElement("script");e.type="text/javascript",e.src="/js/vendor/json2.js",$(document.body).appendChild(e)}},checkScreenShot:function(){var e=this,t=window.parent,o=10;t.$jot.getJSON("https://screenshots.jotform.com/queue/"+this.scuniq+"?callback=?",function(i){!0===i.success?t.$jot.getJSON(i.dataURL+"?callback=?",function(o){!1===e.passive&&(t.jotformScreenshotURL=o.data,e.injectEditor(o.data,o.shotURL)),e.screenshot=o,e.onprogress=!1,$("screen_form")&&$("screen_form").remove(),$("screen_frame_id")&&$("screen_frame_id").remove()}):"waiting"!=i.status&&"working"!=i.status||!--o?(alert("We are under heavy load right now. Please try again later."),t.$jot(".jt-dimmer, .jotform-feedback-link").show(),t.$jot(".jt-feedback").show("slow")):setTimeout(function(){e.checkScreenShot()},1e3)})},injectEditor:function(e,t){if(!this.injected){this.injected=!0;var o=this,i=window.parent;i.$jot("#js_loading").remove(),i.$jot.getJSON(this.server+"?callback=?",{action:"getScreenEditorTemplate",compact:this.compact},function(r){var a='<iframe allowtransparency="true" id="wishbox-frame" src="" frameborder="0" style="display:none;border:none;display:block; ';o.compact?a+="position:absolute;left:0;top:10px;height:"+(i.$jot(i).height()-120)+"px;width:"+(i.$jot(i).width()-100-i.$jot("#js-form-content").width())+"px;":a+="position:fixed;top:0;width:100%;height:100%;left:0;z-index:100000000;",a+='" scrolling="no"></iframe>';var n;i.iframeWidth=i.$jot(i).width()-100-i.$jot("#js-form-content").width(),i.iframeHeight=i.$jot(i).height()-120,n=o.compact?i.$jot(a).insertBefore("#js-form-content"):i.$jot(a).appendTo("body"),o.compact&&i.$jot("#js-form-content").css({float:"right"});var l=o.ie();if(void 0!==l&&l<9){n.attr("src","https://screenshots.jotform.com/opt/templates/screen_editor.html?shot="+t+"&uniq="+o.scuniq);var s=i.$jot('<button style="color:#fff;font-size:14px;background:#F59202;border:1px solid #Fa98a2;font-weight:bold;position:fixed;top:5px;right:40px;width:100px;z-index:100000001;">Close Editor</button>').appendTo("body");s.click(function(){i.$jot.getJSON("https://screenshots.jotform.com/wishbox-server.php?callback=?",{action:"getImage",uniqID:o.scuniq},function(e){e.success?(d(),s.remove(),m(e.data,e.shotURL)):confirm("You haven't save your edits. Are you sure you want to close the editor?")&&(d(),s.remove())})})}else{var u=n[0],c=u.contentWindow?u.contentWindow:u.contentDocument.document?u.contentDocument.document:u.contentDocument;c.document.open(),c.document.write(r.template),setTimeout(function(){c.document.close()},200),i.jotformScreenshotURL=e}var d=function(){o.compact?(n.remove(),i.$jot("#js-form-content").css("width","100%")):n.hide("slow",function(){n.remove()}),o.injected=!1,i.$jot(".jt-dimmer, .jotform-feedback-link").show(),i.$jot(".jt-feedback").show("slow")},m=function(e,t){$("screen_"+o.scID).update('<img width="100%" align="center" src="'+(t||e)+'" />'),$("data_"+o.scID).value=e,$("screen_"+o.scID).up().show()};i.JotformCancelEditor=function(){d()},i.JotformFinishEditing=function(e){d(),m(e),o.imageSaved=!0,o.compact&&setTimeout(function(){$(document).fire("image:loaded")},100)}})}},populateGet:function(){try{if("FrameBuilder"in window.parent&&"get"in window.parent.FrameBuilder&&window.parent.FrameBuilder.get!=[]){var e={},t=window.parent.FrameBuilder.get;$H(t).each(function(t){if("object"==typeof t[1])for(prop in t[1])e[t[0]+"["+prop+"]"]=t[1][prop];else e[t[0]]=t[1]}),document.get=Object.extend(document.get,e)}}catch(e){}},uniqid:function(e,t){void 0===e&&(e="");var o,i=function(e,t){return e=parseInt(e,10).toString(16),t<e.length?e.slice(e.length-t):t>e.length?Array(t-e.length+1).join("0")+e:e};return this.php_js||(this.php_js={}),this.php_js.uniqidSeed||(this.php_js.uniqidSeed=Math.floor(123456789*Math.random())),this.php_js.uniqidSeed++,o=e,o+=i(parseInt((new Date).getTime()/1e3,10),8),o+=i(this.php_js.uniqidSeed,5),t&&(o+=(10*Math.random()).toFixed(8).toString()),o},initMultipleUploads:function(){var e=this,t=JotForm.isJotFormNext||/jotformNext=1/.test(window.location.href);if(JotForm.browserIs.mobile()&&!t){var o=!0;JotForm.loadScript(window.location.protocol+"//"+window.location.host+"/js/vendor/NoSleep.min.js?v_"+(new Date).getTime(),function(){o=!1});var i=function(){if(!o&&"undefined"!=typeof NoSleep){(new NoSleep).enable(),document.removeEventListener("click",i,!0)}};document.addEventListener("click",i,!0)}t&&JotForm.switchedToOffline&&JotForm.rawMultipleFileInputs&&JotForm.resetMultipleUploadsBasicMarkup(),$$(".form-upload-multiple").each(function(o){var i=o.up("div"),r=JotForm.getForm(o),a=r.formID.value;t&&JotForm.captureMultipleUploadsBasicMarkup(o);var n=a+"_"+JotForm.uniqueID;i.addClassName("validate[multipleUpload]");if(o.className.include("validate[required]")&&-1===i.className.indexOf("validate[required]")&&i.addClassName("validate[required]"),i.validateInput=function(){if(!JotForm.isVisible(i))return JotForm.corrected(i),!0;if(JotForm.isFillingOffline())return JotForm.corrected(i);var e=i.select(".qq-upload-list li:not(.file-deleted)");if(e.length<1)return i.match("[class*=validate[required]]")?(JotForm.corrected(i),JotForm.errored(i,JotForm.texts.required)):(JotForm.corrected(i),!0);var t=!0;return e.each(function(e){e.getAttribute("class")&&e.getAttribute("class").indexOf("fail")>=0&&(t=!1)}),t?(JotForm.corrected(i),!0):(JotForm.errored(i,JotForm.texts.multipleFileUploads_uploadFailed),!1)},!JotForm.tempUploadFolderInjected){var l=new Element("input",{type:"hidden",name:"temp_upload_folder"}).setValue(n);r.insert({bottom:l}),JotForm.tempUploadFolderInjected=!0}var s=(o.readAttribute("data-file-accept")||o.readAttribute("file-accept")||"").strip();s="*"!==s?s.split(", "):[];var u,c="";(u=o.next())&&u.hasClassName("form-sub-label")&&(c=u.innerHTML);var d,m,p="Cancel",f="of";if((d=o.previous(".qq-uploader-buttonText-value"))&&(m=d.innerHTML),d=o.up("li.form-line").querySelector(".jfUpload-button")){m="v2"===d.readAttribute("data-version")?d.innerHTML:d.innerText}m||(m="Upload a File"),c?((d=i.querySelector(".cancelText"))&&(p=d.innerText),(d=i.querySelector(".ofText"))&&(f=d.innerText)):((d=i.siblings().find(function(e){return"cancelText"===e.className}))&&(p=d.innerText),(d=i.siblings().find(function(e){return"ofText"===e.className}))&&(f=d.innerText));var h=o.className.split(" "),v="";$A(h).each(function(e){0===e.indexOf("form-submit-button-")&&(v=e)});try{var g=!JotForm.isFillingOffline()&&new qq.FileUploader({debug:JotForm.debug,element:i,action:JotForm.server,subLabel:c,buttonText:m,buttonStyle:v,fileLimit:o.readAttribute("data-file-limit")||o.readAttribute("file-limit"),sizeLimit:1024*parseInt(o.readAttribute("data-file-maxsize")||o.readAttribute("file-maxsize"),10),minSizeLimit:1024*parseInt(o.readAttribute("data-file-minsize")||o.readAttribute("file-minsize"),10),allowedExtensions:s,cancelText:p,ofText:f,messages:{typeError:e.texts.multipleFileUploads_typeError,sizeError:e.texts.multipleFileUploads_sizeError,minSizeError:e.texts.multipleFileUploads_minSizeError,emptyError:e.texts.multipleFileUploads_emptyError,onLeave:e.texts.multipleFileUploads_onLeave,fileLimitError:e.texts.multipleFileUploads_fileLimitError},onComplete:function(e,t,a){if(console.log("onComplete",arguments),a.success){var l=o.name.replace("[]","");"message"in a&&(t=a.message);var s=[n,l,t].join("_"),u=$(s);u||(u=new Element("input",{id:s,type:"hidden",name:"temp_upload["+l+"][]"}),r.insert({bottom:u})),u.setValue(t);var c=$("file_server");c||(c=new Element("input",{id:"file_server",type:"hidden",name:"file_server"}),r.insert({bottom:c})),c.setValue(a.fileServer),i.value="uploaded",JotForm.corrected(i)}},onDelete:function(e,t,o){var i=[e,t,o].join("_");$(i)&&$(i).remove()},showMessage:function(e){console.log("showMessage",arguments),JotForm.corrected(i),JotForm.errored(i,e)},params:{action:"multipleUpload",field:o.name?o.name.replace("[]",""):"",origin:window.location.origin||window.location.protocol+"//"+window.location.hostname,folder:n}});!function(t){setTimeout(function(){g._options.messages={typeError:e.texts.multipleFileUploads_typeError,sizeError:e.texts.multipleFileUploads_sizeError,minSizeError:e.texts.multipleFileUploads_minSizeError,emptyError:e.texts.multipleFileUploads_emptyError,onLeave:e.texts.multipleFileUploads_onLeave,fileLimitError:e.texts.multipleFileUploads_fileLimitError}},t)}(1e3)}catch(e){console.log(e)}})},captureMultipleUploadsBasicMarkup:function(e){JotForm.rawMultipleFileInputs||(JotForm.rawMultipleFileInputs={});var t=e.getAttribute("id").match(/input_(.*)/)[1];t&&(JotForm.rawMultipleFileInputs[t]=e.outerHTML)},resetMultipleUploadsBasicMarkup:function(){Object.keys(JotForm.rawMultipleFileInputs).forEach(function(e){var t=document.querySelector("li#id_"+e+' input[type="file"]').up("div.validate\\[multipleUpload\\]"),o=JotForm.rawMultipleFileInputs[e];if(t&&o){var i=t.querySelector("ul.qq-upload-list"),r="";for(i&&(i.querySelectorAll(".qq-upload-delete").forEach(function(e){e.remove()}),r=i.outerHTML);t.firstChild;)t.removeChild(t.firstChild);t.insertAdjacentHTML("afterbegin",o),t.insertAdjacentHTML("beforeend",r)}})},initNewMultipleUploads:function(){$$(".form-upload-multiple-new").each(function(e){var t=e.up("div"),o=JotForm.getForm(e),i=o.formID.value+"_"+JotForm.uniqueID;if(e.className.include("validate[required]")&&(-1===t.className.indexOf("validate[required]")&&t.addClassName("validate[required]"),t.validateInput=function(){return JotForm.isVisible(t)&&t.select(".new-file-list li").length<1?(JotForm.errored(t,JotForm.texts.required),!1):(JotForm.corrected(t),!0)}),!JotForm.tempUploadFolderInjected){var r=new Element("input",{type:"hidden",name:"temp_upload_folder"}).setValue(i);o.insert({top:r}),JotForm.tempUploadFolderInjected=!0,window.setFolder()}var a=(e.readAttribute("data-file-accept")||e.readAttribute("file-accept")||"").strip();a="*"!==a?a.split(", "):[];var n;(n=e.next())&&n.hasClassName("form-sub-label")&&n.innerHTML;var l,s;(l=e.previous(".qq-uploader-buttonText-value"))&&(s=l.innerHTML),s||(s="Upload a File")})},hiddenSubmit:function(e,t){JotForm.currentSection&&JotForm.currentSection.select(".form-pagebreak")[0].insert(new Element("div",{className:"form-saving-indicator"}).setStyle("float:right;padding:21px 12px 10px").update('<img src="'+JotForm.url+'images/ajax-loader.gif" align="absmiddle" /> Saving...')),setTimeout(function(){JotForm.saving=!0,JotForm.disableButtons()},10);var o="cardform"==window.FORM_MODE;if(!$("hidden_submit_form")){var i=new Element("iframe",{name:"hidden_submit",id:"hidden_submit_form"}).hide();i.observe("load",function(){JotForm.makeUploadChecks(),$$(".form-saving-indicator").invoke("remove"),JotForm.saving=!1,JotForm.enableButtons()}),$(document.body).insert(i)}if($$(".form-radio-other,.form-checkbox-other").each(function(e){!e.checked&&JotForm.getOptionOtherInput(e)&&JotForm.getOptionOtherInput(e).disable()}),$$(".custom-hint-group").each(function(e){e.hideCustomPlaceHolder()}),$("current_page")&&($("current_page").value=JotForm.currentSection.pagesIndex),e.writeAttribute("target","hidden_submit"),e.insert({top:new Element("input",{type:"hidden",name:"hidden_submission",id:"hidden_submission"}).putValue("1")}),o&&e.insert({top:new Element("input",{type:"hidden",name:"continueLater",id:"continueLater"}).putValue("1")}),t&&t.async){var r=new XMLHttpRequest;if(r.withCredentials=!0,r.open("POST",e.action,!0),r.addEventListener("load",function(){o&&(JotForm.saving=!1,JotForm.enableButtons()),200===this.status?t.onSuccessCb&&t.onSuccessCb(this):t.onFailureCb&&t.onFailureCb(),t.onCompleteCb&&t.onCompleteCb(),e.writeAttribute("target",""),o&&$("continueLater")&&$("continueLater").remove(),$("hidden_submission")&&$("hidden_submission").remove(),$$(".custom-hint-group").each(function(e){e.showCustomPlaceHolder()}),$$(".form-radio-other,.form-checkbox-other").each(function(e){!e.checked&&JotForm.getOptionOtherInput(e)&&JotForm.getOptionOtherInput(e).enable()})}),t&&t.isClone)for(var a=e.querySelectorAll('input[type="hidden"]'),n=0;n<a.length;n++)a[n].getAttribute("name")&&a[n].getAttribute("name").indexOf("other")>-1&&""===a[n].value&&a[n].remove();r.send(new FormData(e))}else e.submit(),e.writeAttribute("target",""),o&&$("continueLater").remove(),$("hidden_submission").remove(),$$(".custom-hint-group").each(function(e){e.showCustomPlaceHolder()}),$$(".form-radio-other,.form-checkbox-other").each(function(e){!e.checked&&JotForm.getOptionOtherInput(e)&&JotForm.getOptionOtherInput(e).enable()})},makeUploadChecks:function(){var e=$$('input[name="formID"]')[0],t={action:"getSavedUploadResults",formID:e.value,sessionID:this.sessionID};this.submissionID&&(t.submissionID=this.submissionID),this.submissionToken&&(t.submissionToken=this.submissionToken);new Ajax.Jsonp(JotForm.server,{parameters:t,evalJSON:"force",onComplete:function(t){var o=t.responseJSON;o&&o.success&&(o.submissionID&&!$("submission_id")&&(JotForm.submissionID||JotForm.setSubmissionID(o.submissionID),e.insert({after:new Element("input",{type:"hidden",name:"submission_id",id:"submission_id"}).putValue(o.submissionID)})),"cardform"===window.FORM_MODE?JotForm.editMode(o,!0,null,!0):JotForm.editMode(o,!0))}})},handleSavedForm:function(){if(JotForm.sessionID){JotForm.saveForm=!0;var e="cardform"==window.FORM_MODE,t=$$('input[name="formID"]')[0];document.getElementById("session")||t.insert({after:new Element("input",{type:"hidden",name:"session_id",id:"session"}).putValue(JotForm.sessionID)});document.getElementById("submission_token")||e||!this.submissionToken||t.insert({after:new Element("input",{type:"hidden",name:"submission_token",id:"submission_token"}).putValue(this.submissionToken)}),e||t.insert({after:new Element("input",{type:"hidden",id:"current_page",name:"current_page"}).putValue(0)}),JotForm.loadingPendingSubmission=!0;var o={action:"getSavedSubmissionResults",formID:t.value,sessionID:this.sessionID,URLparams:window.location.href};this.submissionID&&(o.submissionID=this.submissionID),this.submissionToken&&(o.submissionToken=this.submissionToken);new Ajax.Jsonp(JotForm.url+"/server.php",{parameters:o,evalJSON:"force",onComplete:function(e){var o=e.responseJSON;if(o.success){if(o.submissionID){if(!$("submission_id")){var i=JotForm.submissionID||o.submissionID;t.insert({after:new Element("input",{type:"hidden",name:"submission_id",id:"submission_id"}).putValue(i)}),JotForm.submissionID||JotForm.setSubmissionID(o.submissionID)}try{JotForm.editMode(o)}catch(e){JotForm.loadingPendingSubmission=!1,console.error(e)}JotForm.openInitially=o.currentPage-1}o.jfFormUserSCL_emailSentTo&&!$("jfFormUserSCL_emailSentTo")&&t.insert({after:new Element("input",{type:"hidden",name:"jfFormUserSCL_emailSentTo",id:"jfFormUserSCL_emailSentTo"}).putValue(o.jfFormUserSCL_emailSentTo)})}JotForm.loadingPendingSubmission=!1}})}},setSubmissionID:function(e){this.submissionID=e},setHTMLClass:function(){var e=this.ie();e&&$$("html")[0].addClassName("ie-"+e)},setFocusEvents:function(){$$(".form-radio, .form-checkbox").each(function(e){e.observe("mousedown",function(){JotForm.lastFocus=e})}),$$(".form-textbox, .form-password, .form-textarea, .form-upload, .form-dropdown").each(function(e){e.observe("focus",function(){JotForm.lastFocus=e})}),JotForm.newDefaultTheme&&"product"===window.paymentType&&($$(".form-product-item").each(function(e){e.observe("click",function(t){"text"===t.target.type||"select-one"===t.target.type||"checkbox"===t.target.type||"LABEL"===t.target.tagName||t.target.hasClassName("image_zoom")||e.down(".form-checkbox").click();var o=e.down(".form-dropdown");if("checkbox"===t.target.type&&o){for(var i=o.options,r=!1,a=0;a<i.length;a++)if("0"===i[a].value){r=!0;break}o&&!t.target.checked&&r&&(o.value="0")}}),e.observe("change",function(t){"select-one"===t.target.type&&("0"===t.target.value?e.classList.remove("p_selected"):e.classList.add("p_selected"))})}),$$(".form-checkbox").each(function(e){e.checked&&e.up(".form-product-item").classList.add("p_selected"),e.observe("click",function(){e.checked?e.up(".form-product-item").classList.add("p_selected"):e.up(".form-product-item").classList.remove("p_selected")})})),JotForm.newDefaultTheme&&"subscription"===window.paymentType&&($$(".form-product-item").each(function(e){e.observe("click",function(t){"radio"===t.target.type||"text"===t.target.type||t.target.hasClassName("image_zoom")||e.down(".form-radio").click()})}),$$(".form-product-item").each(function(e){e.up(".form-line").classList.add("subscription_cont")}),$$(".form-product-item .form-radio").each(function(e){e.checked&&e.up(".form-product-item").classList.add("p_selected"),e.observe("change",function(){e.up(".form-product-item").classList.add("p_selected"),$$(".form-product-item .form-radio").each(function(t){t!==e&&t.up(".form-product-item").classList.remove("p_selected")})})}))},disableAcceptonChrome:function(){Prototype.Browser.WebKit&&$$(".form-upload").each(function(e){if(e.hasAttribute("accept")){var t=e.readAttribute("accept");e.writeAttribute("accept",""),e.writeAttribute("data-file-accept",t),e.writeAttribute("file-accept",t)}})},browserInformations:function(){var e=JotForm.browserIs,t=(new Date).getTimezoneOffset(),o="GMT "+(t<0?"+":"")+-t/60,i=navigator.language||navigator.browserLanguage||navigator.userLanguage;return["BROWSER: "+(e.ie()?"Internet Explorer":e.firefox()?"Firefox":e.chrome()?"Chrome":e.safari()?"Safari":e.operabrowser()?"Opera":"Unknown Browser"),"OS: "+(e.android()?"Android":e.windows()?"Windows":e.blackberry()?"Blackberry":e.linux()?"Linux":e.ios()?"iOS":e.mac()&&!e.ios()?"MacOS":"Unknown OS"),"DEVICE: "+function(){if(e.mobile()){if(e.windowsPhone()||e.androidPhone()||e.blackberry())return"Mobile";if(e.ios())return"iPhone"}else if(e.tablet()){if(e.windowsTablet()||e.androidTablet())return"Tablet";if(e.ios())return"iPad"}else if(e.desktop())return"Desktop";return"Unknown Device"}(),"LANGUAGE: "+i,"RESOLUTION: "+screen.width+"*"+screen.height,"TIMEZONE: "+o,"USER AGENT: "+navigator.userAgent].join("\n")},populateBrowserInfo:function(e){var t=JotForm.browserInformations();setTimeout(function(){$(e).getValue().length>0&&(t=[$(e).getValue(),t].join("\n")),$(e).setValue(t)},20)},displayTimeRangeDuration:function(e){var t=function(){if($("input_"+e+"_hourSelectRange")){var t=$("input_"+e+"_hourSelect").value,o=$("input_"+e+"_minuteSelect").value,i=$("input_"+e+"_ampm")?$("input_"+e+"_ampm").value:"no",r=$("input_"+e+"_hourSelectRange").value,a=$("input_"+e+"_minuteSelectRange").value,n=$("input_"+e+"_ampmRange")?$("input_"+e+"_ampmRange").value:"no",l=$("input_"+e+"_ampmRange")&&!JotForm.newDefaultTheme?"_ampmRange":"_dummy",s=$$("label[for=input_"+e+l+"]").first();if("cardform"===window.FORM_MODE&&(s="_ampmRange"==l?$$("label[for=input_"+e+l+"]").first():$$("#input_"+e+l).first()),t.length>0&&o.length>0&&r.length>0&&a.length>0){"PM"==i&&12!=t&&(t=parseInt(t)+12),"AM"==i&&12==t&&(t=0),"PM"==n&&12!=r&&(r=parseInt(r)+12),"AM"==n&&12==r&&(r=0);var u=new Date(0,0,0,t,o,0),c=new Date(0,0,0,r,a,0),d=c.getTime()-u.getTime();d<0&&(d=(c=new Date(0,0,1,r,a,0)).getTime()-u.getTime());var m=Math.floor(d/1e3/60/60);d-=1e3*m*60*60;var p=Math.floor(d/1e3/60);p<10&&(p="0"+p),s.update("<b>Total "+m+":"+p+"</b>"),s.setStyle({color:"black"}),$$("input[id=duration_"+e+'_ampmRange][type="hidden"]').first().setValue(m+":"+p)}else s.update("&nbsp")}};$("input_"+e+"_timeInput")?($("input_"+e+"_timeInput").observe("blur",t),$("input_"+e+"_timeInputRange").observe("blur",t)):($("input_"+e+"_hourSelect").observe("change",t),$("input_"+e+"_minuteSelect").observe("change",t),$("input_"+e+"_hourSelectRange").observe("change",t),$("input_"+e+"_minuteSelectRange").observe("change",t)),$("input_"+e+"_ampm")&&$("input_"+e+"_ampmRange")&&($("input_"+e+"_ampm").observe("change",t),$("input_"+e+"_ampmRange").observe("change",t)),t()},displayLocalTime:function(e,t,o,i){if($(e)&&!$(e).hasClassName("noDefault")){var r=new Date,a=r.getHours(),n="",l=!0;$(o)&&(l=!1,n=a>11?"PM":"AM",a=0==(a=a>12?a-12:a)?12:a);var s=r.getMinutes();if(!i){var u=Number($(t).options[2].value)-Number($(t).options[1].value);s=Math.round(s/u)*u}(s=this.addZeros(s,2))>=60&&(s="00",a++,l?24==a&&(a=0):"AM"==n&&12==a?n="PM":"PM"==n&&12==a?n="AM":13==a&&(a=1)),a<10&&(i||$(e).options[1].value.length>1)&&(a="0"+a),$(e).value=a,$(t).value=s,$(e+"Range")&&($(e+"Range").value=a,$(t+"Range").value=s),$(o)&&("PM"==n?($(o).select('option[value="PM"]').length>0&&($(o).value="PM"),$(o+"Range")&&$(o+"Range").select('option[value="PM"]').length>0&&($(o+"Range").value="PM")):($(o).select('option[value="AM"]').length>0&&($(o).value="AM"),$(o+"Range")&&$(o+"Range").select('option[value="AM"]').length>0&&($(o+"Range").value="AM"))),i&&($(i).value=a+":"+s)}},displayDynamicDate:function(e,t){var o=parseInt(t.split("today")[1])||0,i=new Date;i.setDate(i.getDate()+o),JotForm.formatDate({date:i,dateField:$("id_"+e)})},dateLimits:{},setCalendar:function(e,t,o,i){try{JotForm.dateLimits[e]=o;var r=$("id_"+e),a=Calendar.setup({triggerElement:"input_"+e+"_pick",dateField:"year_"+e,parentElement:i,closeHandler:function(){JotForm.calendarClose.apply(this,arguments)},selectHandler:function(){JotForm.formatDate.apply(this,arguments)},startOnMonday:t,limits:o});r.observe("keyup",function(){r.fire("date:changed")});var n=function(){$("month_"+e).value=$("day_"+e).value=$("year_"+e).value=""},l=function(e,t){e.addClassName("invalidDate"),n()};if($("lite_mode_"+e)&&($("lite_mode_"+e).dateChanged=function(e,t){var o=e.currentTarget,i=o.readAttribute("seperator")||o.readAttribute("data-seperator"),a=(o.readAttribute("format")||o.readAttribute("data-format")).toLowerCase();if(o.removeClassName("invalidDate"),r.removeClassName("form-line-error"),r.removeClassName("form-datetime-validation-error"),""===o.value)return r.fire("date:changed"),n();if(o.value.length==2*i.length+a.length){var s=a.indexOf("yy"),u=a.indexOf("mm"),c=a.indexOf("dd"),d=new Array(s,u,c),m=(d=d.sort()).indexOf(s),p=d.indexOf(u),f=d.indexOf(c),h=parseInt(o.value.split(i)[m]),v=parseInt(o.value.split(i)[p])-1,g=parseInt(o.value.split(i)[f]),y=new Date(h,v,g);y&&y.getDate()?(t.setDate(y),t.selectHandler(t)):l(o)}else l(o);o.hasClassName("invalidDate")&&(JotForm.errored(o,"Enter a valid date"),r.addClassName("form-line-error"),r.addClassName("form-datetime-validation-error"))},$("lite_mode_"+e).observe("blur",function(e){return e.stopPropagation(),e.currentTarget.dateChanged(e,a),e.currentTarget.setAttribute("date-val",a.date.getTime()),!1}),$("lite_mode_"+e).observe("keydown",function(e){var t=e.target.value;"Backspace"===e.key&&t[t.length-1]===e.target.dataset.seperator&&(t=t.substr(0,t.length-1)),e.target.value=t.substr(0,10)}),$("lite_mode_"+e).observe("input",function(e){var t=e.target.value.split(e.target.dataset.seperator).map(function(e){return e.replace(/\D/g,"")}),o=[];o="yyyymmdd"!==e.target.dataset.format?t.map(function(t,o){return 2==t.length&&o<2?t+e.target.dataset.seperator:t}):t.map(function(t,o){return 4==t.length&&0==o||2==t.length&&1==o?t+e.target.dataset.seperator:t}),e.target.value=o.join("").substr(0,10),e.currentTarget.dateChanged(e,a)})),!i){var s=function(){var e=this;setTimeout(function(){JotForm.newDefaultTheme&&handlePopupUI(a,{width:e.parentNode.parentNode.offsetWidth}),a.showAtElement(e)},50)};if($("input_"+e+"_pick").hasClassName("showAutoCalendar")||JotForm.isSourceTeam){var u=["#day_"+e,"#month_"+e,"#year_"+e,"#lite_mode_"+e];$$(u.join(",")).each(function(e){e.observe("focus",s),e.observe("click",s)})}$("year_"+e).observe("blur",function(){a.hide()}),$("lite_mode_"+e)&&$("lite_mode_"+e).observe("blur",function(){a.hide()})}}catch(e){JotForm.error(e)}},currentDateReadonly:function(){},calendarClose:function(e){var t=$$('input[id*="'+e.dateField.id.match(/_[0-9]+/)[0]+'"]'),o=e.dateField.className.replace(/.*validate\[(.*)\].*/,"$1").split(/\s*,\s*/),i=t.any(function(e){return e.value.empty()});(o.include("required")||o.include("disallowPast"))&&i&&e.dateField.validateInput(),o.include("required")&&!i&&JotForm.corrected($("id_"+e.id)),e.hide()},getDefaults:function(){$$(".form-textbox, .form-dropdown, .form-textarea").each(function(e){e.hinted||""===e.value||(JotForm.defaultValues[e.id]=e.value)}),$$(".form-radio, .form-checkbox").each(function(e){e.checked&&(JotForm.defaultValues[e.id]=e.value)})},handleOtherOptions:function(){$$(".form-radio-other-input, .form-checkbox-other-input").each(function(e){e.hint(e.getAttribute("data-otherhint")||"Other")}),$$(".form-radio, .form-checkbox").each(function(e){var t=e.id.replace(/input_(\d+)_\d+/gim,"$1");t.match("other_")&&(t=e.id.replace(/other_(\d+)/,"$1"));var o=$("other_"+t);if(o){var i=$("input_"+t);i.observe("keyup",function(){o.value=i.value;var e=""!==i.value;!o.checked&&e&&i.click(),setTimeout(function(){o.checked=e})}),i.observe("click",function(e){i.value=i.value===i.getAttribute("data-otherhint")?"":i.value,o.checked||(o.checked=!0)}),o.observe("click",function(e){o.getAttribute("class").indexOf("[required]")>-1?i.value=i.value===i.getAttribute("data-otherhint")?"":i.value:i.value=""!==i.value?i.value:i.getAttribute("data-otherhint"),o.checked?i.select():i.hintClear&&i.hintClear()}),e.observe("click",function(t){e!==o&&e.checked&&!o.checked&&(i.value="")})}})},shuffleOptions:function(e){var t=JotForm.calculationType(e);if("radio"===t||"checkbox"===t)try{for(var o=$("id_"+e).select(".form-"+t+"-item"),i=$("id_"+e).down(".form-"+t+"-other-input")?o.length-1:o.length,r=0;r<i-1;r++){var a=$("id_"+e).select(".form-"+t+"-item")[r],n=o[c=Math.floor(Math.random()*i)].replace(a),l=a.next();(l&&l!==o[i]?l:a).insert({after:n})}if($("id_"+e).down(".form-multiple-column")){var s=$("id_"+e).down(".form-multiple-column").readAttribute("data-columncount");$("id_"+e).select(".form-"+t+"-item").each(function(e,t){e.setStyle({clear:t%s==0?"left":"none"})})}}catch(e){console.log(e)}else if("select"===t)try{var u=$("input_"+e).clone(!0);$("input_"+e).update("");i=u.length;$("input_"+e).insert(u[0].clone(!0));for(r=1;r<i;r++){var c=Math.floor(Math.random()*(u.length-1))+1;$("input_"+e).insert(u[c].clone(!0)),u[c].remove()}}catch(e){console.log(e)}else if("matrix"===t)try{var d=$("id_"+e).select("tr"),m=d.length;for(r=1;r<m;r++){n=d[c=Math.floor(Math.random()*(m-1))+1].replace(d[r]);(d[r].next()?d[r].next():d[r]).insert({after:n})}}catch(e){console.log(e)}},handleDateTimeChecks:function(){try{$$("[name$=[month]]").each(function(e){var t="tel"!==e.type&&"text"!==e.type,o=t?e.id.replace(new RegExp(".*?([0-9]+).*","gim"),"$1"):e.id.split("month_").last(),i=$("id_"+o);if(i){var r=i.down("[id*=day]"),a=i.down("[id*=year]"),n=i.select("#hour_"+o).first(),l=i.select("#min_"+o).first(),s=i.select("#ampm_"+o).first();e.dateTimeCheck=function(u){var c=null;if(!(t&&(""===e.value||""===r.value||""===a.value))&&(""!=e.value||""!=r.value||""!=a.value)){var d=t?e.selectedIndex:e.value,m=parseInt(d,10),p=+r.value,f=+a.value;if(isNaN(f)||f<1)c=a;else if(isNaN(d)||isNaN(m)||m<1||m>12)c=e;else if(isNaN(p)||p<1)c=r;else switch(m){case 2:(f%4==0?p>29:p>28)&&(c=r);break;case 4:case 6:case 9:case 11:p>30&&(c=r);break;default:p>31&&(c=r)}}var h=u&&u.target&&u.target===document.activeElement;if("cardform"===window.FORM_MODE&&void 0!==document.activeElement&&document.activeElement&&"function"==typeof document.activeElement.up&&e&&(h=e.up(".jfCard-question")===document.activeElement.up(".jfCard-question")),!c&&n&&l&&(""!=n.value||""!=l.value)&&!h){var v=""==n.value.strip()?-1:+n.value,g=""==l.value.strip()?-1:+l.value;isNaN(v)||(s?v<0||v>12:v<0||v>23)?c=n:(isNaN(g)||g<0||g>59)&&(c=l)}var y=document.activeElement;if(c&&y!=a&&y!=e&&y!=r){if(c===n||c===l)c.errored=!1,JotForm.errored(c,"Enter a valid time");else{c.errored=!1;var b=JotForm.texts.dateInvalidSeparate.replace("{element}",c.id.replace("_"+o,""));JotForm.errored(c,b)}return i.addClassName("form-line-error"),i.addClassName("form-datetime-validation-error"),!1}return JotForm.corrected(e),JotForm.corrected(r),JotForm.corrected(a),n&&l&&(JotForm.corrected(n),JotForm.corrected(l)),i.removeClassName("form-line-error"),i.removeClassName("form-datetime-validation-error"),!0},n&&l&&(n.observe("change",function(t){e.dateTimeCheck(t)}),l.observe("change",function(t){e.dateTimeCheck(t)}))}})}catch(e){console.error(e)}},handleTimeChecks:function(){try{$$(".form-line[data-type=control_time]").each(function(e){var t=e.id.split("_")[1],o=e.select("#input_"+t+"_hourSelect").first(),i=e.select("#input_"+t+"_minuteSelect").first(),r=e.select("#input_"+t+"_ampm").first(),a=e.select("#input_"+t+"_hourSelectRange").first(),n=e.select("#input_"+t+"_minuteSelectRange").first(),l=e.select("#input_"+t+"_ampmRange").first();o.timeCheck=function(){var t=null;if(!t&&o&&i&&(""!=o.value||""!=i.value)){var s=""==o.value.strip()?-1:+o.value,u=""==i.value.strip()?-1:+i.value;isNaN(s)||(r?s<0||s>12:s<0||s>23)?t=o:(isNaN(u)||u<0||u>59)&&(t=i)}if(!t&&a&&n&&(""!=a.value||""!=n.value)){s=""==a.value.strip()?-1:+a.value,u=""==n.value.strip()?-1:+n.value;isNaN(s)||(l?s<0||s>12:s<0||s>23)?t=a:(isNaN(u)||u<0||u>59)&&(t=n)}return t?(JotForm.errored(t,"Enter a valid time"),e.addClassName("form-line-error"),!1):(o&&i&&(JotForm.corrected(o),JotForm.corrected(i)),a&&n&&(JotForm.corrected(a),JotForm.corrected(n)),!0)},o&&i&&(o.observe("change",function(){o.timeCheck()}),i.observe("change",function(){o.timeCheck()})),a&&n&&(a.observe("change",function(){o.timeCheck()}),n.observe("change",function(){o.timeCheck()}))})}catch(e){console.error(e)}},handleTextareaLimits:function(){$$(".form-textarea-limit-indicator span").each(function(e){var t=e.id.split("-")[0];if($(t)){var o,i=e.readAttribute("data-minimum"),r=e.readAttribute("data-limit"),a=$(t),n=function(t){if(""===a.value||a.hasClassName("form-custom-hint"))return $(e.parentNode).removeClassName("form-textarea-limit-indicator-error"),e.update("0/"+(i>-1?i:r)),JotForm.corrected(e);var n=(a.hasClassName("form-textarea")&&a.up("div").down(".nicEdit-main")?a.value.stripTags(" ").replace(/&nbsp;/g," "):a.value).replace(/(\<\w*)((\s\/\>)|(.*\<\/\w*\>))/gm," ").replace(/&nbsp;|&#160;/gi," ");$(e.parentNode).removeClassName("form-textarea-limit-indicator-error"),JotForm.corrected(e.up(".form-line").down("textarea"));var l=function(a){var l="min"==a?e.readAttribute("data-typeminimum"):e.readAttribute("type");"Words"==l?o=$A(n.split(/\s+/)).without("").length:"Letters"==l&&(o=n.length);var s=!1;if(("min"==a&&o<i||"max"==a&&o>r)&&!0!==t){$(e.parentNode).addClassName("form-textarea-limit-indicator-error");var u="min"==a?"Min":"",c="min"==a?i:r,d="Words"===l?"word":"character",m=JotForm.texts[d+u+"LimitError"]+" "+c;JotForm.errored(e.up(".form-line").down("textarea"),m+"."),s=!0}return e.update(o+"/"+(i&&o<i&&"min"==a||-1==r?i:r)),s},s=!0;i&&i>0&&(s=!l("min")),r&&r>0&&s&&l("max")};if(n(!0),a.observe("change",n),a.observe("focus",n),a.observe("keyup",n),a.hasClassName("form-textarea")&&a.up("div").down(".nicEdit-main")){var l=a.up("div").down(".nicEdit-main"),s=function(){a.value=l.innerHTML,n()};l.observe("keyup",s),l.observe("blur",function(){setTimeout(s,0)})}}})},handleAutoCompletes:function(){var e=[];$H(JotForm.autoCompletes).each(function(t){var o=$(t.key);o.writeAttribute("autocomplete","off");$(o.parentNode);var i,r=t.value.split(/\r\n|\r|\n|\|/g),a=$A(r),n=0,l=0,s=new Element("div",{className:"form-autocomplete-list"}).setStyle({listStyle:"none",listStylePosition:"outside",position:"absolute",zIndex:"10000"}).hide();$(document.body).insert(s),s.close=function(){s.update(),s.hide(),n=0},o.observe("blur",function(){s.close()}),o.observe("keyup",function(t){var r=o.value;if(i!=r)if(i=r,s.update(),r){var n,u="Yes"==o.readAttribute("data-fuzzySearch"),c=r.toLowerCase();n=a.collect(function(e){if(u&&e.toLowerCase().include(c)||0==e.toLowerCase().indexOf(c))return e}).compact();var d=o.readAttribute("data-maxMatches");d>0&&(n=n.slice(0,d)),n.length>0?(n.each(function(e){var t=new Element("li",{className:"form-autocomplete-list-item"}),i=e;t.val=i;try{i=e.replace(new RegExp("("+r+")","gim"),"<b>$1</b>")}catch(e){JotForm.error(e)}t.insert(i),t.onmousedown=function(){o.value=JotForm.decodeHtmlEntities(e),s.close()},s.insert(t)}),function(){if("cardform"===window.FORM_MODE){var e=o.getBoundingClientRect(),t=e.top+e.height-5+"px",i=e.left+"px",r=(e.width<1?100:e.width)+"px";s.setStyle({top:t,left:i,width:r}),s.show()}else{var a=o.getDimensions(),n=o.cumulativeOffset();s.setStyle({top:a.height+n[1]+"px",left:n[0]+"px",width:(a.width<1?100:a.width)-2+"px"}),s.show()}}(),l=l||$(s.firstChild).getHeight()+(parseInt($(s.firstChild).getStyle("padding"),10)||0)+(parseInt($(s.firstChild).getStyle("margin"),10)||0),s.setStyle({height:l*(n.length>9?10:n.length)+4+"px",overflow:"auto"}),JotForm.isEditMode()&&-1===e.indexOf(o.id)&&(s.hide(),e.push(o.id))):s.close()}else s.close()}),o.observe("keydown",function(e){var t;if(s.visible()&&s.firstChild)switch((t=s.select(".form-autocomplete-list-item-selected")[0])&&t.removeClassName("form-autocomplete-list-item-selected"),e.keyCode){case Event.KEY_UP:t&&t.previousSibling?$(t.previousSibling).addClassName("form-autocomplete-list-item-selected"):$(s.lastChild).addClassName("form-autocomplete-list-item-selected"),n<=1?t&&t.previousSibling?($(t.previousSibling).scrollIntoView(!0),n=0):($(s.lastChild).scrollIntoView(!1),n=10):n--;break;case Event.KEY_DOWN:t&&t.nextSibling?$(t.nextSibling).addClassName("form-autocomplete-list-item-selected"):$(s.firstChild).addClassName("form-autocomplete-list-item-selected"),n>=9?t&&t.nextSibling?($(t.nextSibling).scrollIntoView(!1),n=10):($(s.firstChild).scrollIntoView(!0),n=0):n++;break;case Event.KEY_ESC:s.close();break;case Event.KEY_TAB:case Event.KEY_RETURN:t&&(o.value=JotForm.decodeHtmlEntities(t.val),i=o.value),s.close(),e.keyCode==Event.KEY_RETURN&&e.stop();break;default:return}}),s.close()})},decodeHtmlEntities:function(e){var t=document.createElement("textarea");return t.innerHTML=e,t.value},getFileExtension:function(e){return/[.]/.exec(e)?/[^.]+$/.exec(e)[0]:void 0},prePopulations:function(){$H(document.get).each(function(e){e.key.match(/[\s\S]+;/)&&(e.key=e.key.replace(/[\s\S]+;/,""));var t,o=e.key.length<3?'[name$="_'+e.key+'"]':'[name*="_'+e.key+'"]',i='[name$="_'+e.key+'"]';if("cardform"!==window.FORM_MODE&&(t=$$(".form-star-rating"+o)[0]))t.setRating(parseInt(e.value));else if("object"==typeof e.value&&(e.value=e.value[0]||""),t=$$(".form-slider"+o)[0])t.setSliderValue(parseInt(e.value));else{if("coupon-input"==e.key&&$("coupon-input"))return $("coupon-input").setValue(e.value),$("coupon-button").triggerEvent("click"),void $(window).scrollTo(0,0);if((t=$$(".form-textbox%s, .form-dropdown%s, .form-textarea%s, .form-hidden%s".replace(/\%s/gim,i))[0])||(t=$$(".form-textbox%s, .form-dropdown%s, .form-textarea%s, .form-hidden%s".replace(/\%s/gim,o))[0]),!t&&e.key.indexOf("[")>0){var r=e.key.substr(0,e.key.lastIndexOf("["));if(r.length>0&&$$("select[name*="+r+"], input[name*="+r+"]").length>0){var a=e.key.substr(e.key.lastIndexOf("[")+1).replace("]","");if($$("select[name*="+r+"], input[name*="+r+"]").length>a){switch($$("select[name*="+r+"]").length>0?"select":$$("input[name*="+r+"]")[a].type){case"select":$$("select[name*="+r+"]")[a].value=e.value.replace(/\+/g," ");break;case"text":case"tel":case"number":$$("input[name*="+r+"]")[a].value=e.value.replace(/\+/g," ");break;case"radio":case"checkbox":try{"true"!=e.value&&1!=e.value||!$$("input[name*="+r+"]")[a]||"control_matrix"===$$("input[name*="+r+"]").first().up(".form-line").readAttribute("data-type")&&r.indexOf("[")<0||$$("input[name*="+r+"]")[a].click()}catch(e){console.log(e)}}}}}if(t&&"input-grading"==t.readAttribute("data-type"))for(var n=e.value.split(","),l=t.id.substr(0,t.id.lastIndexOf("_")+1),s=0;s<n.length;s++)$(l+s)&&($(l+s).value=n[s]);else if(t&&(t.hasClassName("form-checkbox-other-input")||t.hasClassName("form-radio-other-input")))if(o.indexOf("[other]")>-1)t.value=e.value.replace(/\+/g," "),JotForm.defaultValues[t.id]=t.value;else try{var u="control_checkbox"===t.up(".form-line").readAttribute("data-type")?e.value.split(","):[e.value];for(s=0;s<u.length;s++){t.up(".form-input, .form-input-wide").select('input[type="radio"], input[type="checkbox"]').any(function(e){return u[s]===e.value})||(t.value=u[s],u[s]="other")}e.value=u.join(",")}catch(e){console.error(e)}else if(t&&t.hasClassName("form-textarea")&&t.up("div").down(".nicEdit-main"))t.up("div").down(".nicEdit-main").update(e.value.replace(/\+/g," "));else if(t&&t.hasClassName("form-dropdown")){var c=e.value.replace(/\+/g," "),d=t.readAttribute("multiple")?c.split(","):[c],m=t.select("option");t.value=d,$A(m).each(function(e){e.writeAttribute("selected",!!d.include(e.value)&&"selected")})}else if(t){t.value=e.value.replace(/\{\+\}/g,"{plusSign}").replace(/\+/g," ").replace(/\{plusSign\}/g,"+");var p=t.up(".form-line");(document.referrer.match(/jotform/)||"email"===t.getAttribute("type")||p&&["control_textarea"].indexOf(p.readAttribute("data-type"))>-1)&&(t.value=e.value),JotForm.defaultValues[t.id]=t.value;try{if(p&&"control_datetime"==p.readAttribute("data-type")){var f=p.down('input[id*="year_"]').value,h=p.down('input[id*="month_"]').value,v=p.down('input[id*="day_"]').value;if(""!=f&&""!=h&&""!=v){JotForm.formatDate({date:new Date(f,h-1,v),dateField:p});var g=p.down('input[id*="input_"]'),y=p.down('input[id*="lite_mode_"]');if(g){var b=f+"-"+h+"-"+v;JotForm.defaultValues[g.id]=b,g.value=b}y&&(JotForm.defaultValues[y.id]=y.value)}}}catch(e){console.log(e)}}$$(".form-textbox%s, .form-textarea%s, .form-hidden%s".replace(/\%s/gim,o)).each(function(e){e.triggerEvent("keyup")}),$$(".form-dropdown%s".replace(/\%s/gim,o)).each(function(e){e.triggerEvent("change")}),$$(".form-checkbox%s, .form-radio%s".replace(/\%s/gim,o)).each(function(t){var o=!!t.disabled&&!!t.enable(),i=e.value.replace(/\{\+\}/g,"{plusSign}").replace(/\+/g," ").replace(/\{plusSign\}/g,"+");i==t.value||$A(i.split(",")).include(t.value)||$A(i.split("<br>")).include(t.value)?t.checked||(t.disabled?(t.enable(),t.click(),t.disable()):t.click(),JotForm.defaultValues[t.id]=t.value):$A(e.value.split(",")).include("other")&&(t.name.indexOf("[other]")>-1||t.id&&t.id.indexOf("other_")>-1)&&t.click(),o&&setTimeout(function(){t.disable()})}),t&&t.hasClassName("form-textarea")&&t.hasClassName("form-custom-hint")&&t.hasContent&&t.removeClassName("form-custom-hint")}}),setTimeout(function(){JotForm.runAllConditions()},1500)},resetForm:function(e){var t=$(e).select('input[type="hidden"], #input_language');return t.each(function(e){e.__defaultValue=e.value}),$(e).reset(),t.each(function(e){e.value=e.__defaultValue}),e},editMode:function(e,t,o,i){this.isNewSaveAndContinueLaterActive&&this.isEditMode()&&$$(".js-new-sacl-button").forEach(function(e){e.hide()});var r="";JotForm.debug||(r=-1==this.url.search("https")?"http://cdn.jotfor.ms/":"https://cdn.jotfor.ms/"),"true"==document.get.offline_forms&&1==document.get.jotformNext&&(r=window.location.pathname.replace("/index.html",""));var a=this;window.editModeFunction?a.editMode(e,t,o,i):this.loadScript(r+"/js/form.edit.mode.js?v_"+(new Date).getTime(),function(){a.editMode=editModeFunction,JotForm.sessionID&&e&&(e.fromSession=!0),a.editMode(e,t,o,i)})},isEditMode:function(){return"cardform"===window.FORM_MODE?CardForm.layoutParams.isEditMode:window.location.pathname.match(/^\/edit\//)||window.location.pathname.match(/^\/\/edit/)||window.location.href.match(/mode=inlineEdit/)||window.location.href.match(/mode=submissionToPDF/)},setConditions:function(e){e.reverse(),JotForm.conditions=e,e.each(function(e){e.action=[].concat(e.action)})},setCalculations:function(e){JotForm.calculations&&0!==Object.keys(JotForm.calculations).length?Object.values(e).forEach(function(e){JotForm.calculations.push(e)}):JotForm.calculations=e},prepareCalculationsOnTheFly:function(e){function t(e){return e[0].map(function(t,o){return e.map(function(e){return e[o]})})}var o=[];e.length>0&&(Object.keys(JotForm.calculations).length<=0&&(JotForm.calculations=[]),e.each(function(e){e&&(o[e.name]=e.qid)}),e.each(function(e){if(e){var i=[];switch(e.type){case"control_textbox":""!==e.text&&i.push(e.text),""!==e.subLabel&&i.push(e.subLabel),""!==e.description&&i.push(e.description);break;case"control_image":""!==e.labelText&&i.push(e.labelText);break;default:""!==e.text&&i.push(e.text),""!==e.description&&i.push(e.description)}for(var r;r=i.shift();){for(var a=/\{([^\}]*)\}/gim,n=[];result=a.exec(r);n.push(result));n.length>0&&(n=t(n))[1].forEach(function(t){var i;i=t.indexOf(":")>-1?o[t.split(":")[0]]:o[t.split("[")[0]];var r=/\[(.*?)\]/gi.exec(t),a=r?i+"|"+r[1]:"";JotForm.calculations.push({decimalPlaces:"2",defaultValue:"",equation:"{"+(a||i)+"}",ignoreHiddenFields:"",insertAsText:"1",isLabel:"control_text"===e.type?"":"1",newCalculationType:"1",operands:a||i,readOnly:"",replaceText:t,resultField:e.qid,showBeforeInput:"",tagReplacement:"1",useCommasForDecimals:""})})}}}))},runConditionForId:function(e){$H(JotForm.fieldConditions).each(function(t){var o=t.value.conditions;$A(o).each(function(t){$A(t.terms).each(function(o){o.field===e&&JotForm.checkCondition(t)})})})},otherConditionTrue:function(e,t){t=t.replace(/multiple/,"");var o=!1;return $H(JotForm.fieldConditions).each(function(i){var r=i.value.conditions;$A(r).each(function(i){$A(i.action).each(function(i){i.fields&&i.fields.each(function(r){r===e&&i.visibility&&i.visibility.toLowerCase().replace(/multiple/,"")===t&&i.hasOwnProperty("currentlyTrue")&&i.currentlyTrue&&(o=!0)}),i.field===e&&i.visibility&&i.visibility.toLowerCase()===t&&i.hasOwnProperty("currentlyTrue")&&i.currentlyTrue&&(o=!0)})})}),o},showField:function(e,t){if(!JotForm.otherConditionTrue(e,"hide")){var o=null,i=$("id_"+e),r=$("cid_"+e),a=$("section_"+e);if(!(o=a&&r?a:r&&!i?r:i)){var n=$$('input[name*="q'+e+'"][type="hidden"]');return n.length>0&&n[0].setAttribute("selected",!0),o}var l=o.hasClassName("form-field-hidden")||o.hasClassName("always-hidden");o.removeClassName("form-field-hidden"),o.removeClassName("always-hidden"),o.hasClassName("form-section")||o.hasClassName("form-section-closed")||!o.down(".always-hidden")||o.down(".always-hidden").removeClassName("always-hidden"),JotForm.paymentFields.indexOf(o.getAttribute("data-type"))>-1&&$("hiddenPaymentField")&&$("hiddenPaymentField").remove(),a&&(o.hasClassName("form-section-closed")?o.select(".form-collapse-table")[0].hasClassName("form-collapse-hidden")?(o.removeClassName("form-section-closed"),o.addClassName("form-section"),o.setStyle({height:"auto",overflow:"visible"})):o.setStyle({overflow:"hidden"}):o.setStyle({height:"auto",overflow:"visible"})),"html"===JotForm.getInputType(e)&&$("text_"+e).innerHTML.match(/google.*maps/gi)&&($("text_"+e).innerHTML=$("text_"+e).innerHTML);var s=o.show();if("widget"===JotForm.getInputType(e)&&JotForm.showWidget(e),"signature"===JotForm.getInputType(e)&&l&&JotForm.showAndResizeESignature(e),"collapse"===JotForm.getInputType(e)&&a&&!o.hasClassName("form-section-closed")&&o.select("li.form-line").each(function(e,t){var o=e.id.split("_")[1];"widget"===JotForm.getInputType(o)?JotForm.showWidget(o):"signature"===JotForm.getInputType(o)&&JotForm.showAndResizeESignature(o)}),"cardform"==window.FORM_MODE&&l&&$("id_"+e)&&"control_matrix"==$("id_"+e).readAttribute("data-type")&&JotForm.setMatrixLayout(e,!1),JotForm.donationField&&o.down('[data-component="paymentDonation"][data-custom-amount-field]')&&JotForm.updateDonationAmount(),"control_paypalSPB"===o.getAttribute("data-type")&&$$('[data-paypal-button="Yes"]')[0]){var u=$$(".paypal-buttons.paypal-buttons-context-iframe")[0];if(u){var c=JotForm.getContainer(u);c&&c.setAttribute("paypal-button-status","show")}}return s}},collectStylesheet:function(){var e=[];return $$("style, link").forEach(function(t){"text/css"!==t.type&&"stylesheet"!==t.rel||e.push(t.outerHTML)}),e},handleWidgetStyles:function(){var e=getQuerystring("team");if("marvel"===e||"muse"===e){var t=JotForm.collectStylesheet();$$("[data-type=control_widget] iframe").forEach(function(e){e.addEventListener("load",function(){e.contentWindow.postMessage({cmd:"injectStyle",styleTags:t},"*")})})}},showWidget:function(e){var t=!!document.getElementById("customFieldFrame_"+e)&&document.getElementById("customFieldFrame_"+e).src;if(t){var o=-1!=navigator.userAgent.indexOf("Firefox")&&"undefined"!=typeof getIframeWindow?getIframeWindow(window.frames["customFieldFrame_"+e]):window.frames["customFieldFrame_"+e],i=!(!$("customFieldFrame_"+e).hasClassName("frame-xd-ready")&&!$("customFieldFrame_"+e).retrieve("frame-xd-ready"));o&&i&&(XD.postMessage(JSON.stringify({type:"show",qid:e}),t,o),void 0!==window.JCFServerCommon&&JotForm.isVisible(JotForm.getSection($("id_"+e)))&&JotForm.isVisible($("id_"+e))&&window.JCFServerCommon.frames.hasOwnProperty(e)&&window.JCFServerCommon.frames[e].sendReadyMessage(e))}},reloadWidget:function(e){var t=!!document.getElementById("customFieldFrame_"+e)&&document.getElementById("customFieldFrame_"+e).src;if(t){var o=-1!=navigator.userAgent.indexOf("Firefox")&&"undefined"!=typeof getIframeWindow?getIframeWindow(window.frames["customFieldFrame_"+e]):window.frames["customFieldFrame_"+e],i=!(!$("customFieldFrame_"+e).hasClassName("frame-xd-ready")&&!$("customFieldFrame_"+e).retrieve("frame-xd-ready"));o&&i&&XD.postMessage(JSON.stringify({type:"reload",qid:e}),t,o)}},shouldWidgetSkipSubmit:function(){if(JotForm.isEncrypted||JotForm.disableSubmitButton)return!0;return!!(!JotForm.isEditMode()&&JotForm.isPaymentSelected()&&["stripe","braintree","square","eway","bluepay","moneris","paypalcomplete"].indexOf(JotForm.payment)>-1)&&(JotForm.paymentTotal>0||"stripe"==JotForm.payment&&"subscription"==window.paymentType)},showAndResizeESignature:function(e){var t=$("id_"+e);t&&JotForm.isVisible(t)&&t.select(".pad").length>0&&t.select(".pad").first().fire("on:sigresize")},hideField:function(e,t,o){if(!JotForm.otherConditionTrue(e,"show")){var i="id_";$("cid_"+e)&&!$("id_"+e)&&(i="cid_"),$("cid_"+e)&&$("section_"+e)&&(i="section_");var r=$(i+e);if(r){if(r.addClassName("form-field-hidden"),JotForm.paymentFields.indexOf(r.getAttribute("data-type"))>-1&&!$("hiddenPaymentField")&&$$("form")[0].insert(new Element("input",{type:"hidden",name:"hiddenPaymentField",id:"hiddenPaymentField",value:1})),"control_paypalSPB"===r.getAttribute("data-type")&&$$('[data-paypal-button="Yes"]')[0]){var a=$$(".paypal-buttons.paypal-buttons-context-iframe")[0];if(a){var n=JotForm.getContainer(a);n&&n.setAttribute("paypal-button-status","hide")}}if("enable"==JotForm.clearFieldOnHide&&!o&&!JotForm.ignoreInsertionCondition)try{JotForm.clearField(e)}catch(e){console.log(e)}return r.style.setProperty?r.style.setProperty("display","none","important"):r.hide(),JotForm.donationField&&r.down('[data-component="paymentDonation"][data-custom-amount-field]')&&JotForm.updateDonationAmount(0),JotForm.corrected(r),r}var l=$$('input[name*="q'+e+'"][type="hidden"]');l.length>0&&l[0].setAttribute("selected",!1)}},clearField:function(e,t,o){var i=JotForm.calculationType(e);if(i){var r="input_"+e in JotForm.defaultValues?JotForm.defaultValues["input_"+e]:"";if("collapse"!=i){if("matrix"===i&&t&&$(t))$(t).value="",!o&&$(t).triggerEvent&&$(t).triggerEvent("keyup");else if("matrix"===i){if($("id_"+e).select('input[type="text"], input[type="tel"], input[type="number"]').each(function(e){e.value=e.id in JotForm.defaultValues?JotForm.defaultValues[e.id]:""}),$("id_"+e).select('input[type="radio"], input[type="checkbox"]').each(function(e){JotForm.defaultValues[e.id]||(e.checked=!1)}),$("id_"+e).select("select").each(function(e){e.id in JotForm.defaultValues?e.value=JotForm.defaultValues[e.id]:e.selectedIndex=0}),0===$("id_"+e).select("input, select").length)return;var a=$("id_"+e).select("input, select").first();if(a&&a.triggerEvent){"input"===a.nodeName.toLowerCase()?"checkbox"===a.type||"radio"===a.type?a.up().triggerEvent("click"):a.triggerEvent("keyup"):a.triggerEvent("change")}}else if(["address","combined","datetime","time"].include(i)){"control_mixed"===$("id_"+e).readAttribute("data-type")?$("id_"+e).select(".jfField").each(function(e){if("mixed-dropdown"===e.readAttribute("data-type")){var t=e.querySelector("select").id;e.querySelector("input")&&(e.querySelector("input").value=t in JotForm.defaultValues?JotForm.defaultValues[t]:"")}}):$("id_"+e).select("input").each(function(e){e.value=e.id in JotForm.defaultValues?JotForm.defaultValues[e.id]:""}),$("id_"+e).select("select").each(function(e){e.id in JotForm.defaultValues?e.value=JotForm.defaultValues[e.id]:e.selectedIndex=0});var n=$("input_"+e)?$("input_"+e):$("id_"+e).select("input").first();n&&n.triggerEvent&&n.triggerEvent("keyup"),$("input_"+e+"_full")&&"true"==$("input_"+e+"_full").readAttribute("data-masked")&&JotForm.setQuestionMasking("#input_"+e+"_full","textMasking",$("input_"+e+"_full").readAttribute("maskValue"))}else if(["braintree","stripe","paypalpro","authnet"].include(i))$("id_"+e).select('input[type="text"], .form-address-country').each(function(e){e.value=e.id in JotForm.defaultValues?JotForm.defaultValues[e.id]:""});else if("html"===i)try{$("id_"+e).select(".replaceTag").each(function(e){var t=e.readAttribute("default");e.update(t)})}catch(e){console.log(e)}else if("textarea"==i){$("input_"+e).value=r,$("input_"+e).triggerEvent&&!o&&$("input_"+e).triggerEvent("keyup"),$("input_"+e).showCustomPlaceHolder&&$("input_"+e).showCustomPlaceHolder();var l=$("id_"+e).down(".nicEdit-main");l&&(l.innerHTML=r,$("input_"+e).hasClassName("custom-hint-group")&&!$("input_"+e).hasContent&&l.setStyle({color:"#babbc0"}))}else if("checkbox"==i||"radio"==i)$("id_"+e).select('input[type="radio"], input[type="checkbox"]').each(function(e){e.id in JotForm.defaultValues?e.checked=!0:e.checked=!1}),$("id_"+e).triggerEvent&&!o&&$("id_"+e).triggerEvent("change");else if("select"==i)$("input_"+e)?($("input_"+e).value=r,$("input_"+e).triggerEvent&&!o&&$("input_"+e).triggerEvent("change")):$("id_"+e).select("select").each(function(e){"mixed-dropdown"!==e.readAttribute("data-component")&&(e.value="",e.triggerEvent&&!o&&e.triggerEvent("change"))});else if($("input_"+e)){if($("input_"+e).value=r,$("input_"+e).triggerEvent&&!o)if("widget"==i){var s=$("input_"+e);s.fire("widget:clear",{qid:parseInt(s.id.split("_")[1])}),s.triggerEvent("change")}else $("input_"+e).triggerEvent("keyup");""===r&&$("input_"+e).hintClear&&$("input_"+e).hintClear(),"true"==$("input_"+e).readAttribute("data-masked")&&JotForm.setQuestionMasking("#input_"+e,"textMasking",$("input_"+e).readAttribute("maskValue")),$("input_"+e).hasClassName("form-star-rating")&&$("input_"+e).setRating&&$("input_"+e).setRating(0)}}else $("section_"+e).select(".form-line").each(function(e){var t=e.id.replace("id_","");JotForm.clearField(t)})}},checkValueByOperator:function(e,t,o){try{"string"==typeof t&&t.indexOf("{")>-1&&t.indexOf("}")>-1&&(t=t.replace(/\{.*?\}/gi,function(e,t,o,i){var r=e.replace(/[\{\}]/g,""),a=$$('input[name$="_'+r+'"]');if(a.length>0){var n=a.first();if(n&&n.value)return n.value}return e}))}catch(e){console.log(e)}var i=Object.isBoolean(o)?o:o.toString().strip().toLowerCase(),r=Object.isBoolean(t)?t:t.toString().strip().toLowerCase();switch(e){case"equals":case"quantityEquals":case"equalDate":return i==r;case"equalDay":return JotForm.getDayOfWeek(i)==r;case"notEquals":case"notEqualDate":case"quantityNotEquals":return i!=r;case"notEqualDay":return JotForm.getDayOfWeek(i)!=r;case"endsWith":return i.endsWith(r);case"notEndsWith":return!i.endsWith(r);case"startsWith":return i.startsWith(r);case"notStartsWith":return!i.startsWith(r);case"contains":return condValues=r.split(","),$A(condValues).any(function(e){return i.include(e.replace(/^\s+|\s+$/g,""))});case"notContains":return condValues=r.split(","),!$A(condValues).any(function(e){return i.include(e.replace(/^\s+|\s+$/g,""))});case"greaterThan":case"quantityGreater":return(parseFloat(i,10)||0)>(parseFloat(r,10)||0);case"lessThan":case"quantityLess":return!!i.length&&(parseFloat(i,10)||0)<(parseFloat(r,10)||0);case"isEmpty":return Object.isBoolean(i)?!i:i.empty();case"isFilled":return Object.isBoolean(i)?i:!i.empty();case"before":return o<t;case"after":return o>t;default:JotForm.error("Could not find this operator",e)}return!1},getDayOfWeek:function(e){return["sunday","monday","tuesday","wednesday","thursday","friday","saturday"][(e=new Date(e)).getDay()]},typeCache:{},getInputType:function(e){if(JotForm.typeCache[e])return JotForm.typeCache[e];if("string"==typeof e&&e.indexOf("|")>-1){var t=e.split("|");e=t[0]+"_field_"+t[1]}var o="other";if($("id_"+e)&&"control_text"==$("id_"+e).readAttribute("data-type"))o="html";else if($("input_"+e+"_pick")||$("id_"+e)&&"control_datetime"==$("id_"+e).readAttribute("data-type"))o="datetime";else if($("input_"+e))o="input"==$("input_"+e).nodeName.toLowerCase()?$("input_"+e).readAttribute("type").toLowerCase():$("input_"+e).nodeName.toLowerCase(),$("input_"+e).hasClassName("form-radio-other-input")&&(o="radio"),$("input_"+e).hasClassName("js-forMixed")&&(o="mixed"),$("input_"+e).hasClassName("form-checkbox-other-input")&&(o="checkbox"),$("input_"+e).hasClassName("form-autocomplete")&&(o="autocomplete"),$$("#id_"+e+" .pad").length>0&&(o="signature"),$("input_"+e).hasClassName("form-slider")&&(o="slider"),$("input_"+e).hasClassName("form-widget")&&(o="widget"),$("input_"+e).hasClassName("form-star-rating")&&(o="rating");else if($("input_"+e+"_month"))o="birthdate";else if($("input_"+e+"_hourSelect"))o="time";else{if($("cid_"+e)&&"control_collapse"==$("cid_"+e).getAttribute("data-type"))return"collapse";$$("#id_"+e+" .form-product-item").length>0?o=$$("#id_"+e+" .form-product-item")[0].select("input")[0].readAttribute("type").toLowerCase():$$("#id_"+e+" .product--subscription").length>0?o=$$("#id_"+e+" .product--subscription")[0].select("input")[0].readAttribute("type").toLowerCase():$$("#id_"+e+" .form-address-table").length>0?o="address":$$("input[id^=input_"+e+"_]")[0]&&$$("input[id^=input_"+e+"_]")[0].hasClassName("form-grading-input")?o="grading":$("id_"+e)&&"control_mixed"==$("id_"+e).getAttribute("data-type")?o="mixed":$$("#id_"+e+" input")[0]?"text"!=(o=$$("#id_"+e+" input")[0].readAttribute("type").toLowerCase())&&"tel"!=o&&"number"!==o||(o="combined"):$$("#id_"+e+" select")[0]&&(o="select")}return JotForm.typeCache[e]=o,o},strToDate:function(e){var t=new Date(void 0),o=/(\d{4})\-(\d{2})-(\d{2})T?(\d{2})?\:?(\d{2})?/gim;if(e.empty())return t;if(!o.test(e))return t;var i=new Date;return e.replace(o,function(e,t,o,r,a,n){return i=a?new Date(parseInt(t,10),parseInt(o,10)-1,parseInt(r,10),parseInt(a,10),parseInt(n,10)):new Date(parseInt(t,10),parseInt(o,10)-1,parseInt(r,10)),e}),i},getBirthDate:function(e){var t=$("input_"+e+"_day").getValue()||"%empty%",o=$("input_"+e+"_month").selectedIndex||"%empty%";o=String(o);var i=($("input_"+e+"_year").getValue()||"%empty%")+"-"+(1==o.length?"0"+o:o)+"-"+(1==t.length?"0"+t:t);return i.include("%empty%")?"":i},get24HourTime:function(e){var t=$("input_"+e+"_hourSelect").getValue();if(""==t)return"";var o=$("input_"+e+"_minuteSelect").getValue();0==o.length&&(o="00");var i=$("input_"+e+"_ampm")?$("input_"+e+"_ampm").getValue():"";return t=Number(t),"PM"==i&&12!=t?t+=12:"AM"==i&&12==t&&(t=0),(t=t<10?"0"+t:String(t))+o},getDateValue:function(e){var t="";if($("year_"+e)&&(t+=$("year_"+e).value||"%empty%"),$("month_"+e)){t+="-"+($("month_"+e).value?$("month_"+e).value.length>1?$("month_"+e).value:"0"+$("month_"+e).value:"%empty%")}if($("day_"+e)){t+="-"+($("day_"+e).value?$("day_"+e).value.length>1?$("day_"+e).value:"0"+$("day_"+e).value:"%empty%")}if(t.include("%empty%"))return JotForm.info("Wrong date: "+t),"";var o="";return $("ampm_"+e)?$("hour_"+e)&&(o=$("hour_"+e).value,"pm"==$("ampm_"+e).value&&(o=parseInt(o,10)+12),"24"==o&&(o=0),t+="T"+((1==o.length?"0"+o:o)||"00")):$("hour_"+e)&&(t+="T"+((1==(o=$("hour_"+e).value).length?"0"+o:o)||"00")),$("min_"+e)&&(t+=":"+($("min_"+e).value||"00")),""===o&&(t+="T00:00"),t},hidePages:{},checkCondition:function(e){var t,o=!1,i=!0,r={notEquals:[],equals:[],equalsCount:0,notEqualsCount:0};$A(e.terms).each(function(a){var n,l=JotForm.getFieldIdFromFieldRef(a.value);a.field=String(a.field);try{var s=JotForm.getInputType(a.field);switch(s){case"combined":if(["isEmpty","isFilled"].include(a.operator))return t=$$("#id_"+a.field+" input").collect(function(e){return e.value}).any(),void(JotForm.checkValueByOperator(a.operator,a.value,t)?o=!0:i=!1);n=$$("#id_"+a.field+" input").collect(function(e){return e.value}),JotForm.checkValueByOperator(a.operator,a.value,n)?o=!0:i=!1;break;case"address":if(["isEmpty","isFilled"].include(a.operator))t=$$("#id_"+a.field+" input").collect(function(e){return e.value}).any(),JotForm.checkValueByOperator(a.operator,a.value,t)?o=!0:i=!1;else{var u=a.value;l&&(u=$("input_"+l+"_country").value),$("input_"+a.field+"_country").select("option").each(function(e){if(u===e.value)throw C=e,$break}),C&&("equalCountry"==a.operator?C.selected?o=!0:i=!1:"notEqualCountry"==a.operator&&(C.selected?i=!1:o=!0))}break;case"birthdate":case"datetime":if(void 0===(n="datetime"==s?JotForm.getDateValue(a.field):JotForm.getBirthDate(a.field)))return;if(["isEmpty","isFilled"].include(a.operator))JotForm.checkValueByOperator(a.operator,a.value,n)?o=!0:i=!1;else{u=a.value;if((u=a.value.toLowerCase().replace(/\s/g,"")).indexOf("today")>-1){var c=parseInt(u.split("today")[1])||0,d=new Date;d.setDate(d.getDate()+c);var m=d.getFullYear();f=(f=d.getMonth()+1)<10?"0"+f:f;var p=d.getDate();u=m+"-"+f+"-"+(p=p<10?"0"+p:p)}else if(l){m=$("year_"+l).value;var f=$("month_"+l).value;p=$("day_"+l).value;u="equalDay"===a.operator||"notEqualDay"===a.operator?JotForm.getDayOfWeek(JotForm.strToDate(m+"-"+f+"-"+p)):m+"-"+f+"-"+p}["equalDate","notEqualDate","after"].include(a.operator)?JotForm.checkValueByOperator(a.operator,JotForm.strToDate(u),JotForm.strToDate(n.split("T")[0]))?o=!0:i=!1:["equalDay","notEqualDay"].include(a.operator)?JotForm.checkValueByOperator(a.operator,u,JotForm.strToDate(n))?o=!0:i=!1:JotForm.checkValueByOperator(a.operator,JotForm.strToDate(u),JotForm.strToDate(n))?o=!0:i=!1}break;case"time":n=JotForm.get24HourTime(a.field);u=a.value?a.value.replace(/:/,""):"";l&&(u=JotForm.get24HourTime(l)),3==u.length&&(u="0"+u),"before"==a.operator&&n.empty()?i=!1:JotForm.checkValueByOperator(a.operator,u,n)?o=!0:i=!1;break;case"checkbox":case"radio":if(["isEmpty","isFilled"].include(a.operator))return t=$$("#id_"+a.field+" input").collect(function(e){return e.checked}).any(),void(JotForm.checkValueByOperator(a.operator,a.value,t)?o=!0:i=!1);if(a.value&&(a.value=a.value.replace(/&amp;/g,"&").replace(/&gt;/g,">").replace(/&lt;/g,"<")),["lessThan","greaterThan"].include(a.operator)){var h=!1;return $$("#id_"+a.field+" input").each(function(e){n=e.checked?e.value:"",JotForm.checkValueByOperator(a.operator,a.value,n)&&(o=!0,h=!0)}),void(h||(i=!1))}var v=$("id_"+a.field).down(".form-"+s+"-other-input")?$("id_"+a.field).down(".form-"+s+"-other-input").getAttribute("data-otherhint"):"";"notEquals"!=a.operator&&"equals"!=a.operator||r[a.operator+"Count"]++,$$("#id_"+a.field+" input").each(function(t){n=t.hasClassName("form-"+s+"-other")&&t.checked?"-- "+v+" --":(n=t.checked?t.value:"").replace(/_expanded/,"");var l=a.value.strip(),u=JotForm.checkValueByOperator(a.operator,l,n);if("notEquals"!=a.operator&&"equals"!=a.operator||r[a.operator].push(u),u)o=!0;else if("notEquals"==a.operator&&l==n){if(i=!1,"all"==e.link.toLowerCase())throw $break}else(t.value==l||t.hasClassName("form-"+s+"-other")&&l=="-- "+v+" --")&&(i=!1)});break;case"select":a.value&&(a.value=a.value.replace(/&amp;/g,"&"));var g="";if(a.field.indexOf("|")>-1){g="input_"+(x=a.field.split("|"))[0]+"_field_"+x[1]}else g="input_"+a.field;if($(g)&&$(g).multiple){if("equals"==a.operator){(C=$(g).select("option[value="+a.value+"]")).length>0&&C[0].selected?o=!0:i=!1}else if("notEquals"==a.operator){(C=$(g).select("option[value="+a.value+"]")).length>0&&!C[0].selected?o=!0:i=!1}else if(["isEmpty","isFilled"].include(a.operator)){for(var y=!1,b=$(g).options,F=0;F<b.length;F++)b[F].value.empty()||1!=b[F].selected||(y=!0);"isEmpty"==a.operator&&(y?i=!1:o=!0),"isFilled"==a.operator&&(y?o=!0:i=!1)}}else if($(g)){if(void 0===(n=$(g).value))return;JotForm.checkValueByOperator(a.operator,a.value,n)?o=!0:i=!1}else["isEmpty","isFilled"].include(a.operator)?(t=$$("#id_"+a.field+" select").collect(function(e){return e.value}).any(),JotForm.checkValueByOperator(a.operator,a.value,t)?o=!0:i=!1):(n=$$("#id_"+a.field+" select").collect(function(e){return e.value}),JotForm.checkValueByOperator(a.operator,a.value,n)?o=!0:i=!1);break;case"grading":["isEmpty","isFilled"].include(a.operator)?(t=$$("input[id^=input_"+a.field+"_]").collect(function(e){return e.value}).any(),JotForm.checkValueByOperator(a.operator,a.value,t)?o=!0:i=!1):(n=$("grade_point_"+a.field).innerHTML.stripTags(),JotForm.checkValueByOperator(a.operator,a.value,n)?o=!0:i=!1);break;case"file":if(void 0===(n=$("id_"+a.field).select(".qq-uploader").length>0?$("id_"+a.field).select(".qq-upload-file").length>0:$("input_"+a.field).uploadMarked?$("input_"+a.field).uploadMarked:$("input_"+a.field).value))return;JotForm.checkValueByOperator(a.operator,a.value,n,a.field)?o=!0:i=!1;break;case"textarea":if(n=$("input_"+a.field).value,($("input_"+a.field).hinted||$("input_"+a.field).hasClassName("form-custom-hint"))&&(n=""),void 0===n)return;$("id_"+a.field).down(".nicEdit-main")&&(n=n.stripTags().replace(/\s/g," ").replace(/&nbsp;/g," ")),JotForm.checkValueByOperator(a.operator,a.value,n,a.field)?o=!0:i=!1;break;case"widget":if(void 0===(n=$("input_"+a.field).value))return;if(n.indexOf("widget_metadata")>-1)try{n=JSON.parse(n).widget_metadata.value;var _=!1;for(F=0;F<n.length;F++){var w=n[F];for(var J in w)JotForm.checkValueByOperator(a.operator,a.value,w[J],a.field)&&(o=!0,_=!0)}_||(i=!1)}catch(e){console.log(e)}else n="greaterThan"!==a.operator&&"lessThan"!==a.operator||"string"!=typeof n?n:n.replace(/,/g,""),JotForm.checkValueByOperator(a.operator,a.value,n,a.field)?o=!0:i=!1;break;case"hidden":n=$("input_"+a.field+"_donation")?$("input_"+a.field+"_donation").value:$("input_"+a.field).value,JotForm.checkValueByOperator(a.operator,a.value,n,a.field)?o=!0:i=!1;break;case"rating":n=$("input_"+a.field).value||"",JotForm.checkValueByOperator(a.operator,a.value,n,a.field)?o=!0:i=!1;break;default:g="";if(a.field.indexOf("|")>-1){var x;g="input_"+(x=a.field.split("|"))[0]+"_field_"+x[1]}else g="input_"+a.field;if(!$(g))return;if($(g)&&$(g).multiple){if("equals"==a.operator){(C=$(g).select("option[value="+a.value+"]")).length>0&&C[0].selected?o=!0:i=!1}else if("notEquals"==a.operator){var C;(C=$(g).select("option[value="+a.value+"]")).length>0&&!C[0].selected?o=!0:i=!1}else if(["isEmpty","isFilled"].include(a.operator)){for(y=!1,b=$(g).options,F=0;F<b.length;F++)b[F].value.empty()||1!=b[F].selected||(y=!0);"isEmpty"==a.operator&&(y?i=!1:o=!0),"isFilled"==a.operator&&(y?o=!0:i=!1)}}else if($(g)){if(void 0===(n=$(g).value))return;JotForm.checkValueByOperator(a.operator,a.value,n,a.field)?o=!0:i=!1}else["isEmpty","isFilled"].include(a.operator)?(t=$$("#id_"+a.field+" select").collect(function(e){return e.value}).any(),JotForm.checkValueByOperator(a.operator,a.value,t,a.field)?o=!0:i=!1):(n=$$("#id_"+a.field+" select").collect(function(e){return e.value}),JotForm.checkValueByOperator(a.operator,a.value,n,a.field)?o=!0:i=!1)}}catch(e){JotForm.error(e)}}),"any"==e.link.toLowerCase()&&o&&e.terms.length==r.notEqualsCount+r.equalsCount&&(anyLengthNotEquals=r.notEquals.reduce(function(e,t){return t||e++,e},0),anyLengthEquals=r.equals.reduce(function(e,t){return t&&e++,e},0),(r.equalsCount&&!anyLengthEquals||r.notEqualsCount&&anyLengthNotEquals&&anyLengthNotEquals===r.notEqualsCount)&&(o=!1));if(!function(){var t=(new Date).getTime(),o=t%1e3;o=o<500?"0":"1";var i=parseInt(t/1e3),r=e.id+"-"+i+"-"+o;if("__antiConditionLoopCache"in window||(window.__antiConditionLoopCache={}),r in window.__antiConditionLoopCache){if(window.__antiConditionLoopCache[r]++,window.__antiConditionLoopCache[r]>19)return!0}else window.__antiConditionLoopCache[r]=1;return!1}()){if("field"==e.type){var a="any"==e.link.toLowerCase()&&o||"all"==e.link.toLowerCase()&&i;if(1==e.disabled)return;e.action.each(function(t){var o=e.terms.any(function(e){return e.field==t.field});a?(t.currentlyTrue=!0,"show"==t.visibility.toLowerCase()?JotForm.showField(t.field):"hide"==t.visibility.toLowerCase()?JotForm.hideField(t.field,!1,o):"showmultiple"==t.visibility.toLowerCase()&&t.fields?t.fields.each(function(e){JotForm.showField(e,!0)}):"hidemultiple"==t.visibility.toLowerCase()&&t.fields&&t.fields.each(function(e){JotForm.hideField(e,!0,o)})):(t.currentlyTrue=!1,"show"==t.visibility.toLowerCase()?JotForm.hideField(t.field,!1,o):"hide"==t.visibility.toLowerCase()?JotForm.showField(t.field):"showmultiple"==t.visibility.toLowerCase()&&t.fields?t.fields.each(function(e){JotForm.hideField(e,!0,o)}):"hidemultiple"==t.visibility.toLowerCase()&&t.fields&&t.fields.each(function(e){JotForm.showField(e,!0)})),"cardform"!==window.FORM_MODE&&JotForm.iframeHeightCaller(),($("section_"+t.field)||"fields"in t)&&JotForm.runAllCalculations(!0),$("input_"+t.field)&&$("input_"+t.field).triggerEvent&&!o&&$("input_"+t.field).className.indexOf("-other-")<0&&$("input_"+t.field).triggerEvent("keyup")})}else if("require"==e.type){a="any"==e.link.toLowerCase()&&o||"all"==e.link.toLowerCase()&&i;e.action.each(function(e){e.currentlyTrue=a,"require"==e.visibility.toLowerCase()?JotForm.requireField(e.field,a):"unrequire"==e.visibility.toLowerCase()?JotForm.requireField(e.field,!a):"requiremultiple"==e.visibility.toLowerCase()&&e.fields?e.fields.each(function(e){JotForm.requireField(e,a)}):"unrequiremultiple"==e.visibility.toLowerCase()&&e.fields?e.fields.each(function(e){JotForm.requireField(e,!a)}):"enable"==e.visibility.toLowerCase()?JotForm.enableDisableField(e.field,a):"disable"==e.visibility.toLowerCase()?JotForm.enableDisableField(e.field,!a):"disablesubmit"==e.visibility.toLowerCase()&&JotForm.disableSubmitForCard(e,a)})}else if("mask"==e.type)try{e.action.each(function(t){if("any"==e.link.toLowerCase()&&o||"all"==e.link.toLowerCase()&&i)e.conditionTrue=!0,JotForm.setQuestionMasking("#input_"+t.field,"textMasking",t.mask),$("input_"+t.field).writeAttribute("masked","true");else{e.conditionTrue=!1;var r=!0;$A(JotForm.conditions).each(function(e){1!=e.disabled&&"mask"===e.type&&e.conditionTrue&&$A(e.action).each(function(e){e.field==t.field&&(r=!1)})}),r&&(JotForm.setQuestionMasking("#input_"+t.field,"","",!0),$("input_"+t.field).writeAttribute("masked","false"))}})}catch(e){console.log(e)}else if("calculation"==e.type){var n=e.action[0].resultField,l=$("id_"+n);if(n.indexOf("|")>-1){var s=n.split("|");n="input_"+s[0]+"_field_"+s[1],l=$(n)}if(!l)return;for(var u=JotForm.calculations,c=0;c<u.length;c++)u[c].conditionId===e.id&&(calc=u[c]);if("any"==e.link.toLowerCase()&&o||"all"==e.link.toLowerCase()&&i){if(calc.conditionTrue=!0,JotForm.ignoreInsertionCondition)return;JotForm.checkCalculation(calc)}else{if(calc.conditionTrue=!1,JotForm.ignoreInsertionCondition)return;setTimeout(function(t){for(var o,i={},r=0;r<u.length;r++)e.action[0].resultField==u[r].resultField&&u[r].hasOwnProperty("conditionTrue")&&u[r].conditionTrue&&("html"!==JotForm.getInputType(e.action[0].resultField)||e.action[0].replaceText===u[r].replaceText)&&(o=u[r].resultSubField||"",i[u[r].resultField+o]=!0);if(o="resultSubField"in e.action[0]?e.action[0].resultSubField:"",!i[e.action[0].resultField+o])try{var a=e.terms.map(function(t){return t.field===e.action[0].resultField}).any();a||(a=e.action[0].operands&&e.action[0].operands.split(",").include(e.action[0].resultField));var n=e.action[0].resultField;JotForm.clearField(n,o,a),"object"==typeof window.__antiLoopCache&&n in window.__antiLoopCache&&delete window.__antiLoopCache[n]}catch(e){console.log(e)}},50,calc)}}else{if("url"==e.type)return"any"==e.link.toLowerCase()&&o||"all"==e.link.toLowerCase()&&i;if($A(e.action).length>0&&"hidePage"===e.action.first().skipHide){var d=e.action.first();return void("cardform"==window.FORM_MODE?"any"==e.link.toLowerCase()&&o||"all"==e.link.toLowerCase()&&i?JotForm.hideField(d.skipTo):JotForm.showField(d.skipTo):"any"==e.link.toLowerCase()&&o||"all"==e.link.toLowerCase()&&i?JotForm.hidePages[parseInt(d.skipTo.replace("page-",""),10)]=!0:JotForm.hidePages[parseInt(d.skipTo.replace("page-",""),10)]=!1)}if(JotForm.nextPage)return;if("any"==e.link.toLowerCase()&&o||"all"==e.link.toLowerCase()&&i){var m;d=e.action[0];if(m="cardform"==window.FORM_MODE?$$(".form-all > .form-line"):$$(".form-all > .page-section"),"cardform"==window.FORM_MODE)if("end"==d.skipTo)JotForm.nextPage=m[m.length-1];else try{var p=window.CardLayout.layoutParams.allQuestions,f=p.findIndex(function(e){return e.id===d.skipTo||e.id===d.skipTo.replace("page-","")});JotForm.headerInBetween=!1;for(c=f;c<p.length;c++)p[f]&&"control_head"===p[f].type&&(JotForm.headerInBetween=!0,f++);var h=p[f].id;m.find(function(e){return e.id==="id_"+h})&&(JotForm.nextPage=m.find(function(e){return e.id==="id_"+h}),JotForm.prevPage=m.find(function(e){return e.firstChild&&e.firstChild.classList.contains("isVisible")}))}catch(e){console.log(e)}else"end"==d.skipTo?JotForm.nextPage=m[m.length-1]:JotForm.nextPage=m[parseInt(d.skipTo.replace("page-",""),10)-1];if($$('[data-type="control_paypalSPB"]')[0]&&$$('[data-paypal-button="Yes"]')[0]){var v=JotForm.getSection($$('[data-type="control_paypalSPB"]')[0]).pagesIndex,g=JotForm.currentSection.pagesIndex,y=JotForm.nextPage.pagesIndex;if(v>g&&v<y||v<g&&v>y){var b=$$(".paypal-buttons.paypal-buttons-context-iframe")[0],F=JotForm.getContainer(b);b&&F&&F.setAttribute("paypal-button-status","hide")}}}else JotForm.info("Fail: Skip To: page-"+JotForm.currentPage+1),JotForm.nextPage=!1}if(JotForm.nextPage&&JotForm.isEditMode()&&"cardform"!==window.FORM_MODE){var _=$$(".page-section").indexOf(JotForm.currentSection);JotForm.nextPage=("any"==e.link.toLowerCase()?!e.terms.every(function(e){return $$(".page-section").indexOf($("id_"+e.field).up(".page-section"))>_}):!e.terms.some(function(e){return $$(".page-section").indexOf($("id_"+e.field).up(".page-section"))>_}))&&JotForm.nextPage}JotForm.enableDisableButtonsInMultiForms()}},currentPage:!1,nextPage:!1,previousPage:!1,fieldConditions:{},setFieldConditions:function(e,t,o){var i="";if(e.indexOf("|")>-1){var r=e.split("|");i=r[0]+"_field_"+r[1]}else i=e;JotForm.fieldConditions[i]||(JotForm.fieldConditions[i]={event:t,conditions:[]}),JotForm.fieldConditions[i].conditions.push(o)},widgetsAsCalculationOperands:[],requireField:function(e,t){if($("id_"+e)&&!JotForm.otherConditionTrue(e,t?"unrequire":"require")){$$("#id_"+e+" input, #id_"+e+" textarea, #id_"+e+" select").each(function(o){if(!("coupon-input"===o.id||"hidden"===o.type&&!o.up(".form-star-rating")&&!o.hasClassName("form-widget")||o.hasClassName("form-checkbox-other-input")||o.hasClassName("form-radio-other-input")||o.hasClassName("jfModal-input")||$A(["prefix","middle","suffix","addr_line2"]).any(function(e){return o.name.indexOf("["+e+"]")>-1})||o.hasClassName("jfDropdown-search")||o.hasClassName("jfRating-shortcut-input"))){var i=[];if(i=o.className.indexOf("validate[")>-1?(i=o.className.substr(o.className.indexOf("validate[")+9)).substr(0,i.indexOf("]")).split(/\s*,\s*/):[],"file"==JotForm.getInputType(e)&&"multiple"==o.getAttribute("multiple")&&o.up("[class*=validate[multipleUpload]]")){var r=o.up("[class*=validate[multipleUpload]]");r.className=r.className.replace(/validate\[required\]/gi,""),t?r.addClassName("validate[required]"):r.removeClassName("form-validation-error")}o.className=o.className.replace(/validate\[.*\]/,"");for(var a=i.length-1;a>=0;a--)"required"===i[a]&&i.splice(a,1);t?(i.push("required"),o.hasClassName("form-widget")&&o.addClassName("widget-required")):(o.removeClassName("form-validation-error"),o.removeClassName("widget-required")),i.length>0&&o.addClassName("validate["+i.join(",")+"]"),JotForm.setFieldValidation(o)}});var o=$$("div.pad#sig_pad_"+e)[0];o&&(o.setAttribute("data-required",t),o.className=o.className.replace("validate[required]","").trim(),t&&(o.className=o.className+" validate[required]")),t?$("label_"+e)&&!$("label_"+e).down(".form-required")&&$("label_"+e).insert('<span class="form-required">*</span>'):($("label_"+e)&&$("label_"+e).down(".form-required")&&$("label_"+e).down(".form-required").remove(),$("id_"+e).down(".form-error-message")&&$("id_"+e).down(".form-error-message").remove(),$("id_"+e).removeClassName("form-line-error"),0==$$(".form-line-error").length&&JotForm.hideButtonMessage())}},enableDisableField:function(e,t){if($("id_"+e))try{$("id_"+e).select("input, textarea, select, button").each(function(o){if(t){if(o.removeClassName("conditionallyDisabled"),!JotForm.isEditMode())return void o.enable();switch(o.tagName){case"SELECT":$$("#"+o.id+" > option").each(function(e){e.enable()});break;default:o.removeAttribute("readonly"),o.enable()}}else if(o.addClassName("conditionallyDisabled"),JotForm.isEditMode())switch(o.tagName){case"SELECT":$$("#"+o.id+" > option:not(:selected)").each(function(e){e.disable()});break;case"INPUT":(["checkbox","radio"].include(o.type)&&!o.checked||"file"===o.type||["year_"+e,"month_"+e,"day_"+e,"lite_mode_"+e].include(o.id))&&o.disable();default:o.setAttribute("readonly","")}else o.disable()})}catch(e){console.log(e)}},triggerWidgetCalculation:function(e){if(JotForm.widgetsAsCalculationOperands.include(e))if(document.createEvent){var t=document.createEvent("HTMLEvents");t.initEvent("change",!0,!0),$("input_"+e).dispatchEvent(t)}else if($("input_"+e).fireEvent)return $("input_"+e).fireEvent("onchange")},setCalculationResultReadOnly:function(){$A(JotForm.calculations).each(function(e,t){e.readOnly&&"0"!=e.readOnly&&null!=$("input_"+e.resultField)&&$("input_"+e.resultField).setAttribute("readOnly","true")})},setCalculationEvents:function(){var e=function(e,t,o){$(e).observe(t,function(){"paste"===t?setTimeout(function(){e.addClassName("calculatedOperand"),JotForm.checkCalculation(o)},10):(e.addClassName("calculatedOperand"),JotForm.checkCalculation(o))})};$A(JotForm.calculations).each(function(t,o){if(t.operands)for(var i=t.operands.split(","),r=0;r<i.length;r++){var a=i[r],n="";if(a.indexOf("|")>-1&&(n="input_"+a.split("|")[0]+"_field_"+a.split("|")[1]),a&&!a.empty()&&($("id_"+a)||$(n))){switch(JotForm.calculationType(a)){case"mixed":$(n)&&(e($(n),"change",t),e($(n),"blur",t),e($(n),"keyup",t),e($(n),"paste",t));break;case"widget":e($("id_"+a),"change",t),JotForm.widgetsAsCalculationOperands.push(a);break;case"radio":case"checkbox":e($("id_"+a),"change",t),$("input_"+a)&&e($("id_"+a),"keyup",t);break;case"select":case"file":Protoplus&&Protoplus.getIEVersion&&8==Protoplus.getIEVersion()?e($("id_"+a),"click",t):e($("id_"+a),"change",t);break;case"datetime":e($("id_"+a),"date:changed",t),$$("#id_"+a+" select").each(function(o){e($(o),"change",t)});break;case"time":case"birthdate":$$("#id_"+a+" select").each(function(o){e($(o),"change",t)});break;case"address":e($("id_"+a),"change",t),e($("id_"+a),"blur",t),e($("id_"+a),"keyup",t),$$("#id_"+a+" select").each(function(o){e($(o),"change",t)});break;case"number":e($("id_"+a),"keyup",t),e($("id_"+a),"paste",t),e($("id_"+a),"click",t);break;default:e($("id_"+a),"change",t),e($("id_"+a),"blur",t),e($("id_"+a),"keyup",t),e($("id_"+a),"paste",t),"cardform"===window.FORM_MODE&&$("id_"+a).querySelector(".jfQuestion-fullscreen")&&!$("id_"+a).querySelector(".jfQuestion-fullscreen").hasClassName("isHidden")&&e($("id_"+a),"click",t)}}}})},runAllCalculations:function(e,t){$A(JotForm.calculations).each(function(o,i){t&&"html"!==JotForm.getInputType(o.resultField)||(!e||o.readOnly&&"0"!=o.readOnly)&&o.equation&&JotForm.checkCalculation(o)})},calculationType:function(e){return $("id_"+e)&&$("id_"+e).readAttribute("data-type")&&["control_stripe","control_stripeACH","control_stripeACHManual","control_paymill","control_payment","control_paymentwall","control_paypal","control_paypalexpress","control_paypalpro","control_paypalcomplete","control_clickbank","control_2co","control_googleco","control_worldpay","control_onebip","control_authnet","control_dwolla","control_braintree","control_square","control_boxpayment","control_eway","control_bluepay","control_firstdata","control_paypalInvoicing","control_payjunction","control_chargify","control_cardconnect","control_echeck","control_bluesnap","control_payu","control_pagseguro","control_moneris","control_sofort","control_skrill","control_payoneer","control_paysafe","control_gocardless","control_paypalSPB","control_cybersource"].include($("id_"+e).readAttribute("data-type"))?$("id_"+e).readAttribute("data-type").replace("control_",""):$("id_"+e)&&"control_matrix"==$("id_"+e).readAttribute("data-type")?"matrix":JotForm.getInputType(e)},checkCalculation:function(e){if(!e.resultField||e.hasOwnProperty("conditionTrue")&&!e.conditionTrue)return"";var t=e.resultField,o=!1;t.indexOf("|")>-1&&(o="input_"+t.split("|")[0]+"_field_"+t.split("|")[1]);var i=!(!e.showBeforeInput||"0"==e.showBeforeInput)&&e.showBeforeInput,r=!(!e.ignoreHiddenFields||"0"==e.ignoreHiddenFields)&&e.ignoreHiddenFields,a=!(!e.useCommasForDecimals||"0"==e.useCommasForDecimals)&&e.useCommasForDecimals;if($("id_"+t)||$(o)){try{if(!["text","email","textarea","calculation","combined","address","datetime","time","html","authnet","paypalpro","number","radio","checkbox","select","matrix","widget","signature","braintree","stripe","square","eway","bluepay","firstdata","chargify","echeck","payu","pagseguro","moneris","paypal","dwolla","bluesnap","paymentwall","payment","paypalexpress","payjunction","2co","cardconnect","clickbank","onebip","worldpay","rating","hidden","file","other","mixed","sofort","payoneer","paysafe","gocardless","stripeACH","paypalSPB","cybersource","paypalcomplete"].include(JotForm.calculationType(t)))return}catch(e){console.log(e)}var n={},l=function(o,l){var s="";o.indexOf("_")>-1&&(s=o.substring(o.indexOf("_")),o=o.substring(0,o.indexOf("_")));var u=!1;if(o.indexOf("|")>-1&&(u=!0),0==u){if(!$("id_"+o))return"";if(!$("id_"+o).hasClassName("calculatedOperand")&&i)return"";if(r&&($("id_"+o).hasClassName("form-field-hidden")||$("id_"+o).up(".form-section")&&$("id_"+o).up(".form-section").hasClassName("form-field-hidden")))return l?0:""}var c="";switch(JotForm.calculationType(o)){case"matrix":if($("input_"+o+s)){var d=$("input_"+o+s).type;if(["checkbox","radio"].indexOf(d)>-1){if($("input_"+o+s).checked){var m=$("input_"+o+s);c=m.readAttribute("data-calcvalue")?m.readAttribute("data-calcvalue"):m.value}}else c=$("input_"+o+s).value}else $("id_"+o).down(".form-radio")&&$$('input[id^="input_'+o+s+'_"]').each(function(e){e.checked&&(c=e.readAttribute("data-calcvalue")?e.readAttribute("data-calcvalue"):e.value)});break;case"mixed":var p;o.indexOf("|")>-1&&(v=(p=o.split("|"))[0],g=p[1]);(h=$("input_"+v+"_field_"+g))&&void 0!==h.value&&(c=h.value);break;case"2co":case"authnet":case"bluepay":case"bluesnap":case"boxpayment":case"braintree":case"cardconnect":case"chargify":case"clickbank":case"cybersource":case"dwolla":case"echeck":case"eway":case"firstdata":case"gocardless":case"googleco":case"moneris":case"onebip":case"pagseguro":case"payjunction":case"payment":case"paymill":case"paysafe":case"payoneer":case"paypal":case"paypalexpress":case"paypalSPB":case"paypalpro":case"paypalcomplete":case"payu":case"square":case"sofort":case"stripe":case"stripeACH":case"wepay":case"worldpay":$("id_"+o).down("#payment_total")?c=$("id_"+o).down("#payment_total").innerHTML:$("input_"+o+"_donation")&&(c=$("input_"+o+"_donation").value),JotForm.currencyFormat&&","===JotForm.currencyFormat.dSeparator&&(c=c.replace(/\./g,"").replace(/\,/g,"."));break;case"radio":$$("#id_"+o+' input[type="radio"]').each(function(e,t){if(e.checked)if(e.readAttribute("data-calcvalue"))c=e.readAttribute("data-calcvalue");else{var o=JotForm.getOptionOtherInput(e);"undefined"!=typeof FormTranslation&&o&&o.innerText?c=JotForm.getOptionOtherInput(e).innerText:(c=e.value,"undefined"!=typeof FormTranslation&&(c=FormTranslation.translate(c)))}});break;case"checkbox":var f=[];$$("#id_"+o+' input[type="checkbox"]').each(function(e,t){e.checked&&(e.readAttribute("data-calcvalue")?f.push(e.readAttribute("data-calcvalue")):"undefined"!=typeof FormTranslation?f.push(FormTranslation.translate(e.value)):f.push(e.value))}),c=l?f.inject(0,function(e,t){return e+(parseFloat(t.replace(/-?([^0-9])/g,"$1").replace(/[^0-9\.-]/g,""))||0)}):f.join();break;case"select":l&&(c=0);var h;if(o.indexOf("|")>-1){var v=(p=o.split("|"))[0],g=p[1];h=$("input_"+v+"_field_"+g)}else h=$("input_"+o);h.select("option").each(function(t,o){if((t=h.options[o])&&t.selected){var i=!t.readAttribute("data-calcvalue")||e.hasOwnProperty("insertAsText")&&(!e.hasOwnProperty("insertAsText")||0!=e.insertAsText&&"0"!==e.insertAsText)?function(e){return e.textContent?e.textContent.replace(/^\s+|\s+$/g,""):e.innerText.replace(/^\s+|\s+$/g,"")}(t):t.readAttribute("data-calcvalue");l?/\d/.test(i)?c+=""===i?0:parseFloat(i.replace(/[^\-0-9.]/g,"")):c+=0:c+=i}});break;case"number":if($$("#id_"+o+' input[type="number"]').length>1){f=[];$$("#id_"+o+' input[type="number"]').each(function(e){f.push(e.value)}),c=f.join(" ")}else $("input_"+o).value.empty()||isNaN($("input_"+o).value)||(c=parseFloat($("input_"+o).value));break;case"combined":case"grading":f=[];n={},$$("#id_"+o+' input[type="text"]').each(function(e){e.value.empty()||f.push(e.value);var t=e.id.replace(/_.*/,"");n[t]=e.value}),$$("#id_"+o+' input[type="tel"]').each(function(e){e.value.empty()||f.push(e.value);var t=e.id.replace(/input_[0-9].*_+/,"");n[t]=e.value}),c=f.join(" ");break;case"datetime":f=[];if(l?(f.push($("month_"+o).value),f.push($("day_"+o).value),f.push($("year_"+o).value)):($$("#id_"+o+' input[type="tel"]').each(function(e){f.push(e.value);var t=e.id.replace(/_.*/,"");n[t]=e.value}),$$("#id_"+o+" select").each(function(e){var t=e.id.replace(/_.*/,"");n[t]=e.value})),$$("#id_"+o+" select").each(function(e){f.push(e.value)}),l)if(f[0].empty()||f[1].empty()||f[2].empty())c=0;else{var y=x=C="";f.length>4&&!f[3].empty()&&!f[4].empty()&&(y=parseInt(f[3]),6!=f.length||f[5].empty()||("PM"==(C=f[5])&&12!=y?y+=12:"AM"==C&&12==y&&(y=0)),x=f[4]);var b=new Date(f[2],f[0]-1,f[1],y,x).getTime();c=b/60/60/24/1e3}else{if(f.length>2&&!f[0].empty()&&!f[1].empty()&&!f[0].empty()){var F="/",_=$$("#id_"+o+" span[class=date-separate]").first();_&&(F=_.innerHTML.replace(/[^\/\-\.]/g,"")),c=f[0]+F+f[1]+F+f[2]}f.length>4&&!f[3].empty()&&!f[4].empty()&&(c+=" "+f[3]+":"+f[4],6!=f.length||f[5].empty()||(c+=" "+f[5]))}break;case"time":if($("until_"+o)&&$("duration_"+o+"_ampmRange")){if(l){var w=$("duration_"+o+"_ampmRange").value;if(w.indexOf(":")>-1){var J=w.split(":"),x=(y=J[0]||0,J[1]||0);b=Date.UTC("1970","0","1",y,x);c=b/60/60/1e3}}else c=$("duration_"+o+"_ampmRange").value;break}f=[];if(n={},l){$$("#id_"+o+" select").each(function(e){f.push(e.value)});var C="";y=parseInt(f[0])||0,3!=f.length||f[2].empty()||("PM"==(C=f[2])&&12!=y?y+=12:"AM"==C&&12==y&&(y=0)),x=f[1];b=Date.UTC("1970","0","1",y,x);c=b/60/60/1e3}else $("input_"+o+"_hourSelect")&&!$("input_"+o+"_hourSelect").value.empty()&&$("input_"+o+"_minuteSelect")&&!$("input_"+o+"_minuteSelect").value.empty()&&(c=$("input_"+o+"_hourSelect").value+":"+$("input_"+o+"_minuteSelect").value,$("input_"+o+"_ampm")&&(c+=" "+$("input_"+o+"_ampm").value)),$("input_"+o+"_hourSelectRange")&&!$("input_"+o+"_hourSelectRange").value.empty()&&$("input_"+o+"_minuteSelectRange")&&!$("input_"+o+"_minuteSelectRange").value.empty()&&(c+=" - "+$("input_"+o+"_hourSelectRange").value+":"+$("input_"+o+"_minuteSelectRange").value,$("input_"+o+"_ampmRange")&&(c+=" "+$("input_"+o+"_ampmRange").value),$("duration_"+o+"_ampmRange")&&!$("duration_"+o+"_ampmRange").value.empty()&&(c+=" ("+$("duration_"+o+"_ampmRange").value+")")),$$("#id_"+o+" select").each(function(e){var t=e.id.replace(/.*_.*_/,"");n[t]=e.value});break;case"birthdate":f=[];if(l)try{var k=["January","February","March","April","May","June","July","August","September","October","November","December"].indexOf($("input_"+o+"_month").value),S=$("input_"+o+"_day").value,E=$("input_"+o+"_year").value;b=new Date(E,k,S).getTime();c=b/60/60/24/1e3}catch(e){console.log("birthdate error"),console.log(e)}else $$("#id_"+o+" select").each(function(e){f.push(e.value)}),f[0].empty()||f[1].empty()||f[2].empty()||(c=f[0]+" "+f[1]+" "+f[2]);break;case"address":f=[];n={},$$("#id_"+o+' input[type="text"]').each(function(e){e.value.empty()||f.push(e.value);var t=e.id.replace(/input_[0-9].*?_+/,"");n[t]=e.value}),$$("#id_"+o+" select").each(function(e){e.value.empty()||f.push(e.value);var t=e.id.replace(/input_[0-9].*_+/,"");n[t]=e.value}),c=f.join(", ");break;case"file":c=(c=$("input_"+o).value).substring(c.lastIndexOf("\\")+1);break;case"textarea":if($("input_"+o)&&void 0!==$("input_"+o).value){c=$("input_"+o).value;$("id_"+o).down(".nicEdit-main")&&(c=c.stripTags().replace(/\s/g," ").replace(/&nbsp;/g," "))}break;case"widget":var A=JotForm.getWidgetType(o);switch(A){case"timer":case"fancyTimer":if(l)c=$("input_"+o).value;else{var N=$("input_"+o).value,T=Math.floor(N/60);N-=60*T,N=JotForm.addZeros(N,2),c=T+":"+N}break;case"configurableList":case"dynMatrix":var M="html"===JotForm.calculationType(t)?"<br/>":"\n",I=$("input_"+o).value;l&&(c=0);try{I=JSON.parse(I);for(var O=0;O<I.length;O++){f=[];for(line in I[O])if(I[O].hasOwnProperty(line)&&!I[O][line].empty())if(l){/^(^-?\d+[\.]?)+$/.test(I[O][line])&&(c+=parseFloat(I[O][line]))}else f.push(I[O][line]);f.length>0&&(c+=f.join(",")+M)}}catch(t){console.log($("input_"+o).value),console.log(e)}break;case"giftRegistry":c=$("input_"+o).value,"html"===JotForm.calculationType(t)&&(c=c.replace(/\n/g,"<br/>"));break;case"imagelinks":case"links":for(M="html"===JotForm.calculationType(t)?"<br/>":"\n",I=JSON.parse($("input_"+o).value).widget_metadata.value,O=0;O<I.length;O++)if(!I[O].url.replace(/\s/g,"").empty()){var D=I[O].name&&!I[O].name.replace(/\s/g,"").empty();"html"===JotForm.calculationType(t)?c+="imagelinks"===A?'<a href="'+I[O].url+'"><img src="'+I[O].url+'" /></a>':'<a href="'+I[O].url+'">'+(D?I[O].name:I[O].url)+"</a>":(c+=D?I[O].name+": ":"",c+=I[O].url+M)}break;case"htmltext":var L=JSON.parse($("input_"+o).value).widget_metadata.value;c=window.atob?window.atob(L):"","html"!==JotForm.calculationType(t)&&(c=c.strip().replace(/<br>/g,"\n").stripTags().replace(/&nbsp;/g," "));break;case"drivingDistance":if((c=$("input_"+o).value).indexOf("Distance")>-1){var j=c.match(/Distance(.*)/);j.length>1&&(c=j[1])}break;case"pickers":c=$("input_"+o).value;if(l&&-1!==$("customFieldFrame_"+o).src.indexOf("datepicker.html")){f=c.split("/"),b=Date.UTC(f[2],f[0]-1,f[1],0,0);c=b/60/60/24/1e3}break;case"ios7Date":c=$("input_"+o).value;if(l&&c){f=c.split("/"),b=Date.UTC(f[2],f[0]-1,f[1],0,0);c=b/60/60/24/1e3}break;default:c=$("input_"+o).value}break;default:$("input_"+o)&&void 0!==$("input_"+o).value&&(c=$("input_"+o).value)}return l&&"number"!=typeof c&&(a&&(/\..*\,/.test(c)&&(c=c.replace(/\./g,"")),c=c.replace(",",".")),c=c.replace(/-?([^0-9])/g,"$1").replace(/[^0-9\.-]/g,"")),l&&c<0&&(c="("+c+")"),l&&""===c&&(c=0),c},s=function(t,o){for(var i="",r={abs:Math.abs,acos:Math.acos,acosh:Math.acosh,asin:Math.asin,asinh:Math.asinh,atan:Math.atan,atanh:Math.atanh,atan2:Math.atan2,cbrt:Math.cbrt,ceil:Math.ceil,cos:Math.cos,cosh:Math.cosh,exp:Math.exp,expm1:Math.expm1,floor:Math.floor,fround:Math.fround,hypot:Math.hypot,imul:Math.imul,log:Math.log,log1p:Math.log1p,log10:Math.log10,log2:Math.log2,max:Math.max,min:Math.min,pow:Math.pow,random:Math.random,round:Math.round,sign:Math.sign,sin:Math.sin,sinh:Math.sinh,sqrt:Math.sqrt,tan:Math.tan,tanh:Math.tanh,toSource:Math.toSource,trunc:Math.trunc,E:Math.E,LN2:Math.LN2,LN10:Math.LN10,LOG2E:Math.LOG2E,LOG10E:Math.LOG10E,PI:Math.PI,SQRT1_2:Math.SQRT1_2,SQRT2:Math.SQRT2},n=0;n<t.length;n++)if(character=t.charAt(n),"["!==character||o)if("|*|"===t.substr(n,3))try{n+=3;if(-1===(J=t.indexOf("|*|",n)))continue;var u=t.substring(n,J);if(n+=J+2-n,"("===t.charAt(n+1)||"["===t.charAt(n+1)&&"("===t.charAt(n+2)){for(var c=-1,d=1,m=n+="["===t.charAt(n+1)?3:2;m<t.length;m++)if(")"===t.charAt(m)){if(0==--d){c=m;break}}else"("===t.charAt(m)&&d++;if(-1===c)continue;for(var p=t.substring(n,c),f=(p=p.split(",")).slice(0),h=0;h<p.length;h++)p[h]=s(p[h],!0),p[h]&&(p[h]=(new MathProcessor).parse(p[h]));if(n+=c-n,"dateString"===u){var v=24*p[0]*60*60*1e3+3e4;i+=function(e){return["Sun","Mon","Tue","Wed","Thu","Fri","Sat"][e.getDay()]+" "+["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"][e.getMonth()]+" "+JotForm.addZeros(e.getDate(),2)+" "+e.getFullYear()}(new Date(v)),"]"===t.charAt(n)?n++:t=t.substr(0,n+1)+"["+t.substr(n+1)}else if("date"===u){if(p.length>2){i+=(v=Date.UTC(p[0],p[1]-1,p[2]))/60/60/24/1e3}}else if("nth"===u){var g=p[0];i+=(p=(p=(p=p.splice(1)).sort(function(e,t){return parseInt(e)>parseInt(t)?1:parseInt(t)>parseInt(e)?-1:0})).reverse())[parseInt(g)-1]}else if("avg"===u||"avgNoZero"===u){var y=sum=0;for(h=0;h<p.length;h++)parseFloat(p[h])>0&&(y++,sum+=parseFloat(p[h]));i+="avg"===u?sum/p.length:sum/y}else if("count"===u){var b=f[0];b=b.replace(/[\{\}]/g,"");var $=JotForm.getInputType(b);i+=y=$$("#id_"+b+' input[type="'+$+'"]:checked').length}else if("commaSeparate"===u)if("number"==typeof p[0]){p[0]=p[0].toFixed(e.decimalPlaces);var F=p[0].toString().split(".");F[0]=F[0].replace(/\B(?=(\d{3})+(?!\d))/g,","),i+=F.join(".")}else i+=p[0];else i+=r[u].apply(void 0,p)}else i+="random"===u?Math.random():r[u]}catch(e){console.log(e)}else if("{"===character){J=t.indexOf("}",n);var _=t.substring(n+1,J);try{var w=l(_,o)}catch(e){console.log("error catching value"),console.log(e)}if(""===w&&o)return!1;i+=w,n+=J-n}else i+=character;else{var J=t.indexOf("]",n);try{var x=s(t.substring(n+1,J),!0);x&&(-1==x.indexOf(",")&&(x=(new MathProcessor).parse(x),"datetime"!==JotForm.getInputType(e.resultField)&&(x=x.toFixed(e.decimalPlaces),e.showEmptyDecimals&&"0"!=e.showEmptyDecimals||(x=parseFloat(x))%1!=0&&(x=x.toFixed(e.decimalPlaces||2))),isFinite(x)||(x=0)),a&&(x=x.toString().replace(".",",")),i+=x)}catch(o){console.log("exception in "+e.conditionId+" : "+x+"("+t+")")}n=J}return i},u=s(e.equation);"string"==typeof u&&u.length>1||0!==parseFloat(u)||!$("input_"+t)||null==$("input_"+t).readAttribute("defaultValue")&&null==$("input_"+t).readAttribute("data-defaultvalue")||(u=$("input_"+t).readAttribute("defaultValue")||$("input_"+t).readAttribute("data-defaultvalue"));var c=e.isLabel?"html":JotForm.calculationType(t);switch(c){case"html":try{if(e.replaceText||(e.replaceText=""),e.replaceText.indexOf(":")>-1){var d=e.replaceText.substr(e.replaceText.indexOf(":")+1);d in n&&(u=n[d])}u.empty()&&e.defaultValue&&(u=e.defaultValue);var m=t+"_"+e.replaceText.replace(/\[/g,"_field_").replace(/\:/g,"_");m=m.replace("]","");var p=$$("."+m),f=[];f="cardform"==window.FORM_MODE?$$(".jfField-sublabel").filter(function(e){return e.htmlFor=="input_"+t}):$$(".form-sub-label").filter(function(e){return e.htmlFor=="input_"+t});var h=e.replaceText.replace("[","\\["),v=new RegExp("{"+h+"}","g"),g=e.defaultValue||"",y=$$('a[href="{'+h+'}"]'),b=$$('a[replace-link="'+m+'"]'),F=new RegExp(/([--:\w?@%&+~#=]*\.[a-z]{2,4}\/{0,2})((?:[?&](?:\w+)=(?:\w+))+|[--:\w?@%&+~#=]+)?/),_=u.match(F);if(y.each(function(e){if(e.setAttribute("replace-link",m),e.setAttribute("href",""),_){var t=-1===_[0].indexOf("//")?"//"+_[0]:_[0];e.setAttribute("href",t)}}),b.each(function(e){if(_){var t=-1===_[0].indexOf("//")?"//"+_[0]:_[0];e.setAttribute("href",t)}}),0==p.length){var w=e.isLabel?$("label_"+t).innerHTML:$("text_"+t).innerHTML;if(e.isLabel)w=w.replace(v,'<span class="replaceTag '+m+'" default="'+g+'">'+u+"</span>");else for(var J=new RegExp("(>[^<>]*){"+h+"}([^<>]*<)","g");w.match(J)&&-1===u.indexOf("{"+h+"}");)w=w.replace(J,'$1<span class="replaceTag '+m+'" default="'+g+'">'+u+"</span>$2");e.isLabel?$("label_"+t).update(w):$("text_"+t).update(w)}else p.each(function(e){e.update(u.stripScripts().stripEvents())});f.each(function(e){var t=e.innerHTML.replace(v,'<span class="replaceTag '+m+'" default="'+g+'">'+u+"</span>");e.update(t)});var x=$("input_"+t+"_description");if(x){var C=x.innerHTML;C.indexOf(e.replaceText)>-1&&(C=C.replace(v,'<span class="replaceTag '+m+'" default="'+g+'">'+u+"</span>"),x.update(C))}}catch(e){console.log(e)}break;case"address":case"authnet":case"paypalpro":case"combined":case"time":case"braintree":case"stripe":for(var k in n)if(""!==k&&$("id_"+t).select("input[id*="+k+"], select[id*="+k+"]").length>0){var S=$("id_"+t).select("input[id*="+k+"], select[id*="+k+"]").first();S.value=n[k],"address"==c&&"cardform"==window.FORM_MODE&&(S.parentElement.querySelector("input").value=n[k]),n[k]&&S.parentNode.addClassName("isFilled")}$("input_"+t+"_full")&&"true"==$("input_"+t+"_full").readAttribute("masked")&&JotForm.setQuestionMasking("#input_"+t+"_full","textMasking",$("input_"+t+"_full").readAttribute("maskValue"));break;case"datetime":if(n&&"year"in n)for(var k in n)$("id_"+t).select("input[id*="+k+"], select[id*="+k+"]").length>0&&($("id_"+t).select("input[id*="+k+"], select[id*="+k+"]").first().value=n[k]);else try{if("number"==typeof u&&u>0||"string"==typeof u&&u.replace(/\s/g,"").length>0&&"0"!==u){isNaN(u)||(u=Math.round(60*u*60*24*1e3));var E=(T=new Date(u)).getFullYear(),A=JotForm.addZeros(T.getMonth()+1,2),N=JotForm.addZeros(T.getDate(),2);$("input_"+t)?($("input_"+t).value=E+"-"+A+"-"+N,isNaN(E)||($$("#cid_"+t+' .jfField[data-type="year"] input')[0].value=E),isNaN(A)||($$("#cid_"+t+' .jfField[data-type="month"] input')[0].value=A),isNaN(N)||($$("#cid_"+t+' .jfField[data-type="day"] input')[0].value=N)):(isNaN(E)||($("year_"+t).value=E),isNaN(A)||($("month_"+t).value=A),isNaN(N)||($("day_"+t).value=N))}}catch(e){console.log(e)}if($("lite_mode_"+t)){var T;(T=new Date($("year_"+t).value,$("month_"+t).value-1,$("day_"+t).value)).getTime()&&JotForm.formatDate({date:T,dateField:$("id_"+t)})}break;case"number":u=u.replace(/[^\-0-9\.]/g,""),$("input_"+t).value=u;var M=$("input_"+t).parentElement;"cardform"==window.FORM_MODE&&M&&!M.hasClassName("isFilled")&&M.addClassName("isFilled");break;case"radio":var I=$$("#id_"+t+' input[type="radio"]');$A(I).each(function(e){e.checked=!1,e.value==u.strip()&&(e.checked=!0)});break;case"checkbox":var O=$$("#id_"+e.operands+' input[type="checkbox"]:checked'),D=O.length?O.collect(function(e){return e.value.strip()}):u.split(",").collect(function(e){return e.strip()}),L=$$("#id_"+t+' input[type="checkbox"]');$A(L).each(function(e){JotForm.defaultValues[e.id]||(e.checked=!1),D.include(e.value)&&(e.checked=!0)});break;case"select":try{var j=$$("#id_"+e.operands+" select"),q=j[0]?j[0].value:u;t.indexOf("|")>0?$("input_"+t.split("|").join("_field_")).setValue(q.strip()):$("input_"+t).setValue(q.strip());break}catch(e){console.log(e)}case"matrix":"resultSubField"in e&&$(e.resultSubField)&&($(e.resultSubField).value=u);break;case"textarea":(u=u.replace(/<br>|<br\/>/gi,"\r\n"))&&u.length>0&&$("input_"+t).removeClassName("form-custom-hint").removeAttribute("spellcheck");var P="cardform"==window.FORM_MODE?"#input_"+t+"_editor":".nicEdit-main",B=$("id_"+t).down(P);B&&(B.innerHTML=u,B.setStyle({color:""})),$("input_"+t).value=u;break;case"mixed":if($(o)){$(o).value=u;M=$(o).up();"cardform"==window.FORM_MODE&&M&&!M.hasClassName("isFilled")&&M.addClassName("isFilled")}break;default:try{if($("input_"+t)&&!0===$("input_"+t).hinted&&$("input_"+t).clearHint(),$("input_"+t)&&($("input_"+t).value=u),$("input_"+t)&&u&&0===u.length&&$("input_"+t).hintClear&&$("input_"+t).hintClear(),$("input_"+t)&&"true"==$("input_"+t).readAttribute("data-masked")&&JotForm.setQuestionMasking("#input_"+t,"textMasking",$("input_"+t).readAttribute("maskValue")),"widget"===c){var R=$("input_"+t);R&&(R.fire("widget:populate",{qid:t,value:u}),R.triggerEvent("change"))}break}catch(e){console.log(e)}}if(!function(){var t="object"==typeof u?JSON.stringify(u):u,o=e.resultSubField||e.resultField;return"__antiLoopCache"in window||(window.__antiLoopCache={}),window.__antiLoopCache[o]===t||(window.__antiLoopCache[o]=t,!1)}()){!o&&$("id_"+t).hasClassName("form-line-error")&&$("id_"+t).select("select[class*='required'], textarea[class*='required'], input[class*='required']").each(function(e){e.validateInput&&e.validateInput()});var V,H;if("checkbox"==c||"radio"==c?(H="change",V=$("id_"+t)):"select"==c?(H="change",t.indexOf("|")>0?$("input_"+t.split("|").join("_field_"))&&(V=$("input_"+t.split("|").join("_field_"))):$("input_"+t)&&(V=$("input_"+t))):"mixed"==c?(H="change",t.indexOf("|")>0&&(V=$("input_"+t.split("|").join("_field_")))):(H="keyup",$(o)?V=$(o):e.isLabel||(V=$("input_"+t)?$("input_"+t):$("id_"+t).select("input").first())),V){if(document.createEvent){var U=document.createEvent("HTMLEvents");U.initEvent(H,!0,!0),V.dispatchEvent(U)}V.fireEvent&&V.fireEvent("on"+H)}}}},getWidgetType:function(e){try{if(!$("id_"+e||$("id_"+e).down("iframe")))return!1;if($("input_"+e).value.indexOf("widget_metadata")>1)return JSON.parse($("input_"+e).value).widget_metadata.type;var t=$("id_"+e).down("iframe").src,o=new RegExp("jotform.io/(.*)/").exec(t);return!(!o||o.length<2||!o[1])&&o[1]}catch(e){return console.error("get widget type error"),!1}},widgetsWithConditions:[],triggerWidgetCondition:function(e){if(JotForm.widgetsWithConditions.include(e))if(document.createEvent){var t=document.createEvent("HTMLEvents");t.initEvent("change",!0,!0),$("input_"+e).dispatchEvent(t)}else if($("input_"+e).fireEvent)return $("input_"+e).fireEvent("onchange")},getFieldIdFromFieldRef:function(e){try{if("string"==typeof e&&e.indexOf("{")>-1&&e.indexOf("}")>-1){var t=e.strip().replace(/[\{\}]/g,""),o=$$('input[name*="_'+t+'["],select[name*="_'+t+'["]');if(o&&0!=o.length||(o=$$('input[name*="_'+t+'"],select[name*="_'+t+'"]')),o.length>0){var i=o.first().up(".form-line");if(i)return i.id.replace(/.*id_/,"")}}}catch(e){console.log(e)}return!1},setConditionEvents:function(){try{$A(JotForm.conditions).each(function(e){if(1!=e.disabled)if("field"==e.type||"calculation"==e.type||"require"==e.type||"mask"==e.type||$A(e.action).length>0&&"hidePage"===e.action.first().skipHide){var t=[];$A(e.terms).each(function(e){e.field=String(e.field);var o="";if(e.field.indexOf("|")>-1){var i=e.field.split("|");o=i[0]+"_field_"+i[1]}else o=e.field;t.push(o);var r=JotForm.getFieldIdFromFieldRef(e.value);r&&t.push(r)}),$A(t).each(function(t){switch(JotForm.getInputType(t)){case"widget":case"signature":JotForm.setFieldConditions("input_"+t,"change",e),JotForm.widgetsWithConditions.push(t);break;case"combined":case"email":t.indexOf("_field_")>-1?JotForm.setFieldConditions("input_"+t,"autofill",e):JotForm.setFieldConditions("id_"+t,"autofill",e);break;case"address":JotForm.setFieldConditions("id_"+t,"autofill",e),JotForm.setFieldConditions("input_"+t+"_country","change",e);break;case"datetime":JotForm.setFieldConditions("id_"+t,"date:changed",e);break;case"birthdate":JotForm.setFieldConditions("input_"+t+"_day","change",e),JotForm.setFieldConditions("input_"+t+"_month","change",e),JotForm.setFieldConditions("input_"+t+"_year","change",e);break;case"time":JotForm.setFieldConditions("input_"+t+"_hourSelect","change",e),JotForm.setFieldConditions("input_"+t+"_minuteSelect","change",e),JotForm.setFieldConditions("input_"+t+"_ampm","change",e);case"select":case"file":$("input_"+t)?JotForm.setFieldConditions("input_"+t,"change",e):$("id_"+t).select("select").each(function(t){JotForm.setFieldConditions(t.id,"change",e)});break;case"checkbox":case"radio":JotForm.setFieldConditions("id_"+t,"change",e);break;case"number":JotForm.setFieldConditions("input_"+t,"number",e);break;case"autocomplete":JotForm.setFieldConditions("input_"+t,"autocomplete",e);break;case"grading":JotForm.setFieldConditions("id_"+t,"keyup",e);break;case"text":case"textarea":JotForm.setFieldConditions("input_"+t,"autofill",e);break;case"hidden":$("input_"+t+"_donation")?JotForm.setFieldConditions("input_"+t+"_donation","keyup",e):JotForm.setFieldConditions("input_"+t,"keyup",e);break;case"mixed":if(t.indexOf("_field_")>-1){var o,i=t.split("_field_")[0];this.CardLayout.layoutParams.allQuestions.forEach(function(e){e.id==i&&(o=e)}),o&&o.fields&&o.fields.forEach(function(t){var o="input_"+i+"_field_"+t.fieldID;JotForm.setFieldConditions(o,"change",e),JotForm.widgetsWithConditions.push(o)})}break;default:JotForm.setFieldConditions("input_"+t,"keyup",e)}})}else $A(e.terms).each(function(t){var o=t.field.toString();if(-1!==o.indexOf("_")&&(o=o.split("_")[0]),-1!==o.indexOf("|")&&(o=o.split("|")[0]),$("id_"+o)){var i;(i="cardform"===window.FORM_MODE?$("id_"+o).select(".forNext")[0]:JotForm.getSection($("id_"+o)).select(".form-pagebreak-next")[0])&&i.observe("mousedown",function(){JotForm.checkCondition(e)})}})}),$H(JotForm.fieldConditions).each(function(e){var t=e.key,o=e.value.event,i=e.value.conditions;$(t)&&("autocomplete"==o?($(t).observe("blur",function(){$A(i).each(function(e){JotForm.checkCondition(e)})}).run("blur"),$(t).observe("keyup",function(){$A(i).each(function(e){JotForm.checkCondition(e)})}).run("keyup")):"number"==o?($(t).observe("change",function(){$A(i).each(function(e){JotForm.checkCondition(e)})}).run("change"),$(t).observe("keyup",function(){$A(i).each(function(e){JotForm.checkCondition(e)})}).run("keyup")):"autofill"==o?($(t).observe("blur",function(){$A(i).each(function(e){JotForm.checkCondition(e)})}).run("blur"),$(t).observe("keyup",function(){$A(i).each(function(e){JotForm.checkCondition(e)})}).run("keyup"),(Prototype.Browser.IE9||Prototype.Browser.IE10||!Prototype.Browser.IE)&&$(t).observe("change",function(){$A(i).each(function(e){JotForm.checkCondition(e)})}).run("change")):($(t).observe(o,function(){$A(i).each(function(e){JotForm.checkCondition(e)})}),$(t).id.match(/input_[0-9]+_quantity_[0-9]+_[0-9]+/)?JotForm.runConditionForId(t.replace("input_","")):$(t).run(o)))})}catch(e){JotForm.error(e)}},setFieldsToPreserve:function(e){var t=$$('input[name="simple_fpc"]').length>0&&["braintree","dwolla","stripe","paypal","paypalpro","paypalexpress","authnet"].indexOf($$('input[name="simple_fpc"]')[0].getAttribute("data-payment_type"))>-1,o=[{type:"phone",pattern:/Phone|Contact/i},{type:"email",pattern:/email|mail|e-mail/i},{type:"company",pattern:/company|organization/i}],i=$$('.form-line[data-type*="email"],.form-line[data-type*="textbox"],.form-line[data-type*="phone"],.form-line[data-type*="dropdown"],.form-line[data-type*="radio"]');sortedFields=i.sort(function(e,t){return Number(e.id.replace("id_",""))-Number(t.id.replace("id_",""))});var r={};sortedFields.each(function(i){var a=i.id.replace("id_",""),n=i.down("input, select").name.replace(/q\d+_/,""),l=i.getAttribute("data-type").replace("control_","");t&&Object.keys(r).length<3&&o.each(function(e){if("textbox"==l||l==e.type){var t=i.down("label").innerHTML.strip();e.pattern.exec(t)&&!r[e.type]&&(r[e.type]=a,-1===JotForm.fieldsToPreserve.indexOf(a)&&JotForm.fieldsToPreserve.push(a))}}),e&&JotForm.fieldsToPreserve.indexOf(a)&&(e.indexOf(n)>-1||e.indexOf(a)>-1)&&JotForm.fieldsToPreserve.push(a)})},changePaymentStrings:function(e){$("coupon-header")&&e.couponEnter&&($("coupon-header").innerHTML=e.couponEnter),$("shipping-text")&&e.shippingShipping&&($("shipping-text").innerHTML=e.shippingShipping),$("tax-text")&&e.taxTax&&($("tax-text").innerHTML=e.taxTax),$("subtotal-text")&&e.totalSubtotal&&($("subtotal-text").innerHTML=e.totalSubtotal),$("total-text")&&e.totalTotal&&($("total-text").innerHTML=e.totalTotal)},handleSubscriptionPrice:function(){navigator.userAgent.toLowerCase().indexOf("safari/")>-1&&$$(".form-product-custom_price").each(function(e){e.onclick=function(e){e.preventDefault()}});var e=$$("input[data-price-source]");if(!(e.length<1)){var t=[],o={};e.each(function(e){var i=e.getAttribute("data-price-source"),r=$("input_"+i);if(r){o[i]||(o[i]=[]);t.push(r),o[i].push(function(){e.value=function(){var e=r.value;return"number"!=typeof e&&(e=e.replace(/[^0-9\.]/gi,"")),!isNaN(e)&&e>0?e:0}()})}}),t.each(function(e){var t=e.id.replace("input_","");e.onkeyup=function(){o[t].each(function(e){e()}),JotForm.countTotal()}})}},handleDonationAmount:function(){var e=JotForm.donationField=$$('input[id*="_donation"]')[0];if(JotForm.paymentTotal=e.value||0,e.observe("keyup",function(){JotForm.paymentTotal=this.value=this.value.replace(/[^.0-9]+/g,"")}),e.observe("change",function(){JotForm.paymentTotal=this.value}),$$('input[id*="_donation"]')[0].getAttribute("data-custom-amount-field")>0){if(JotForm.donationSourceField=$("input_"+e.getAttribute("data-custom-amount-field")),!JotForm.donationSourceField)return void $$('input[id*="_donation"]')[0].removeAttribute("readonly");setTimeout(function(){JotForm.updateDonationAmount(),e.triggerEvent("keyup")},1e3),JotForm.donationSourceField.observe("keyup",JotForm.updateDonationAmount),JotForm.donationSourceField.observe("change",JotForm.updateDonationAmount)}else if(e.hasAttribute("data-min-amount")){var t=e.nextSibling.textContent.strip(),o=parseFloat(e.readAttribute("data-min-amount"));e.validateMinimum=function(){var i=this.getValue();if(isNaN(i)||i<o){var r=JotForm.texts.ccDonationMinLimitError.replace("{minAmount}",o).replace("{currency}",t);return JotForm.errored(e,r)}return JotForm.corrected(e)}}},updateDonationAmount:function(e){if(JotForm.donationSourceField&&!JotForm.donationField.up(".form-line.form-field-hidden")&&!JotForm.donationField.up("ul.form-field-hidden"))if(-1!==["undefined","object"].indexOf(typeof e)){JotForm.donationField.value=JotForm.paymentTotal=function(){var e=JotForm.donationSourceField.value;return"1"===JotForm.calculations.filter(function(e){return e.resultField===JotForm.donationSourceField.id.split("_")[1]})[0].useCommasForDecimals&&(e=e.replace(",",".")),"number"!=typeof e&&(e=e.replace(/[^0-9\.]/gi,"")),!isNaN(e)&&e>0?e:0}(),window.FORM_MODE&&"cardform"==window.FORM_MODE&&JotForm.donationField.parentNode.addClassName("isFilled")}else JotForm.donationField.value=JotForm.paymentTotal=e},isComparePaymentFormV1:function(){return"comparePaymentForm=v1"===window.location.search.substring(1)},isPaymentSelected:function(){var e=!1,t=$$('input[name="simple_fpc"]')[0]&&$$('input[name="simple_fpc"]')[0].value,o=$("id_"+t);if(!o)return!!$$('input[name="simple_fpc"]')[0];if(o.hasClassName("form-field-hidden")||o.up("ul.form-section").hasClassName("form-field-hidden")||o.up("ul.form-section-closed")&&o.up("ul.form-section-closed").hasClassName("form-field-hidden"))return!1;if($$('input[name="simple_fpc"]').length<1)return!1;if(o&&("none"===o.getStyle("display")||!JotForm.isVisible(o)&&JotForm.getSection(o).id))return!1;if(window.productID)$H(window.productID).each(function(t){var o=$(t.value);if(o&&o.checked){var i=o.up().select('select[id*="_quantity_"],input[id*="_quantity_"]');if(e=0===i.length||1===i.length&&i[0].getValue()>0,i.length>1&&(e=i.any(function(e){return e.getValue()>0})),e)throw $break}});else{if(!$("input_"+t+"_donation")){var i=$$('input[name*="q'+t+'"][type="hidden"]');return!(i.length<1)&&("false"!==i[0].readAttribute("selected")||(i[0].remove(),!1))}var r=$("input_"+t+"_donation");/^\d+(?:\.\d+)?$/.test(r.getValue())&&(e=r.getValue()>0)}return e},togglePaypalButtons:function(e){var t=$$('input[name="simple_fpc"]')[0].value;$("input_"+t+"_paymentType_express")&&!$("input_"+t+"_paymentType_express").checked&&(e=!1),$$(".paypal-button").length<1||!$("use_paypal_button")||$$(".form-submit-button").each(function(t){e?t.up().down(".paypal-button")&&(t.up().down(".paypal-button").show(),t.hide()):(t.up().down(".paypal-button")&&t.up().down(".paypal-button").hide(),t.show())})},handlePaypalButtons:function(){var e=window.productID,t=!1,o=$$('input[name="simple_fpc"]')[0].value;e?$H(e).each(function(e){if($(e.value).getAttribute("class").indexOf("[required]")>-1)throw t=!0,$break}):$("input_"+o+"_donation")&&(t=$("input_"+o+"_donation").getAttribute("class").indexOf("required")>-1),JotForm.togglePaypalButtons(t||JotForm.isPaymentSelected()),t||$H(e).each(function(e){$(e.value).observe("click",function(){JotForm.togglePaypalButtons(JotForm.isPaymentSelected())})})},checkEmbed:function(){var e=$$(".jotform-form")[0];window!==window.top&&(e.insert(new Element("input",{type:"hidden",name:"embedUrl"}).putValue(document.referrer)),JotForm.debug&&console.log(document.referrer))},handlePaypalExpress:function(){if("function"==typeof _paypalExpress&&"No"!==$("express_category").getAttribute("data-digital_goods")){(new _paypalExpress).init()}},handleBraintree:function(){if(!(window.location.pathname.match(/^\/edit/)||["edit","inlineEdit","submissionToPDF"].indexOf(document.get.mode)>-1&&document.get.sid)){if("function"!=typeof __braintree)return alert("Braintree payment script didn't work properly. Form will be reloaded"),void location.reload();JotForm.braintree=__braintree(),JotForm.braintree.init()}},handlePagseguro:function(){if(!(window.location.pathname.match(/^\/edit/)||["edit","inlineEdit","submissionToPDF"].indexOf(document.get.mode)>-1&&document.get.sid)){if("function"!=typeof __pagseguro)return alert("PagSeguro payment script didn't work properly. Form will be reloaded"),void location.reload();JotForm.pagseguro=__pagseguro(),JotForm.pagseguro.init()}},handleSquare:function(){if(!(window.location.href.match(/mode=inlineEdit/)||window.location.pathname.match(/^\/\/edit/)||window.location.pathname.match(/^\/edit/)||window.location.href.match(/mode=submissionToPDF/))||!document.get.sid)if(window!==window.top||"https:"===window.location.protocol){if("function"!=typeof __square)return alert("Square payment script didn't work properly. Form will be reloaded"),void location.reload();JotForm.squarePayment=__square(),JotForm.squarePayment.init()}else window.location.href=window.location.href.replace("http","https")},handleStripeACH:function(){if(!JotForm.isEditMode()){if("undefined"==typeof __stripeACH)return alert("Stripe ACH payments script didn't work properly. Form will be reloaded. "),void location.reload();JotForm.stripeACH=__stripeACH,JotForm.stripeACH.init()}},handlePaypalSPB:function(){JotForm.paypalSPB=__paypalSPB;try{JotForm.paypalSPB.init(),JotForm.paypalSPB.render()}catch(e){if(console.error(e),"string"==typeof e)return void alert(e);alert("There was a problem with PayPal Smart Payment Buttons integration.")}},handlePaymentSubProducts:function(){function e(e){var i=e.parentNode;e.checked?(i.shift({height:t[e.id][0]-10,duration:.3,onEnd:JotForm.handleIFrameHeight}),o[e.id]&&o[e.id].length>0&&o[e.id].each(function(e){$(e[0]).stopObserving(),$$("#"+e[0]+".form-product-custom_quantity").each(function(e,t){e.observe("blur",function(){isNaN(this.value)||this.value<1?this.value="0":this.value=parseInt(this.value)})}),$$("#"+e[0]+".form-product-custom_quantity").each(function(e,t){e.observe("focus",function(){0==this.value?this.value="":this.value})}),"SELECT"===$(e[0]).tagName?$(e[0]).selectOption(e[1]):$(e[0]).value=e[1]})):(i.shift({height:t[e.id][1],duration:.3,onEnd:JotForm.handleIFrameHeight}),o[e.id]=[],$$("#"+e.id+"_subproducts select,#"+e.id+'_subproducts input[type="text"]').each(function(t,i){var r="select"===t.tagName?t.getSelected().value:t.value;r&&o[e.id].push([t.id,r]),t.stopObserving(),"SELECT"===t.tagName?t.selectedIndex=0:t.value=0})),setTimeout(function(){JotForm.totalCounter(JotForm.prices)},300)}var t=[],o=[],i=$$(".form-section"),r=!1;$$(".form-product-has-subproducts").each(function(o){var a=!(!o.up(".form-line")||!o.up(".form-line").hasClassName("form-field-hidden"))&&o.up(".form-line").show();i.length>1?(r=r||i.filter(function(e){return o.descendantOf(e)&&o.up(".form-section")===e})[0]).isVisible()?t[o.id]=[o.parentNode.getHeight(),$$('label[for="'+o.id+'"]')[0].getHeight()]:(r.setStyle({display:"block"}),t[o.id]=[o.parentNode.getHeight(),$$('label[for="'+o.id+'"]')[0].getHeight()],r.setStyle({display:"none"})):t[o.id]=[o.parentNode.getHeight(),$$('label[for="'+o.id+'"]')[0].getHeight()],e(o),o.observe("click",function(){e(this)}),a&&o.up(".form-line").hide()})},handlePaymentSubProductsV1:function(){$$(".form-product-has-subproducts").each(function(e){e.observe("click",function(){e.checked?(e.up(".form-product-item").classList.remove("sub_product"),e.up(".form-product-item").classList.add("show_sub_product")):(e.up(".form-product-item").classList.remove("show_sub_product"),e.up(".form-product-item").classList.add("sub_product"))})})},handleProductLightbox:function(){$$(".form-product-image-with-options").forEach(function(e,t){e.observe("click",function(){onProductImageClicked(t)})})},setCurrencyFormat:function(e,t,o){var i=["BIF","CLP","DJF","GNF","JPY","KMF","KRW","MGA","PYG","RWF","VUV","XAF","XOF","XPF"].indexOf(e)>-1||!t?0:2;this.currencyFormat={curr:e,dSeparator:"comma"==o?",":".",tSeparator:"comma"==o?".":",",decimal:i}},countTotal:function(e){function t(e){return parseFloat(parseFloat(e).formatMoney(_,w,""))}e=e||JotForm.prices;var o=!1;if(Object.keys(JotForm.discounts).length>0)if(o=!0,JotForm.discounts.total||JotForm.discounts.shipping)var i=JotForm.discounts.type,r=JotForm.discounts.rate,a=JotForm.discounts.minimum,n=JotForm.discounts.code;else for(var l in e)for(var s in JotForm.discounts)-1!==l.indexOf(s)&&(e[l].discount=JotForm.discounts[s]);else $H(e).each(function(t){delete e[t.key].discount});var u=0,c=0,d=0,m=0,p=[],f=0,h=0,v=0,g=0,y=0,b=0,F=JotForm.currencyFormat.curr,_=JotForm.currencyFormat.decimal,w=JotForm.currencyFormat.dSeparator,J=JotForm.currencyFormat.tSeparator,x=0,C=0,k=[],S=[];if($H(e).each(function(e){var t=e.key.split("_"),o=t[0]+"_"+t[1]+"_"+t[2],i=$$("#"+o+"+ label")[0]&&$$("#"+o+"+ label .form-product-name")[0].textContent.trim();if(i||(i=$$("#"+o+"+ .product__header")[0]&&$$("#"+o+"+ .product__header .product__title")[0].textContent.trim()),"custom"!=e.value.price){if($(e.value.quantityField)){if(e.value.quantityField&&!(parseInt($(e.value.quantityField).getValue())>0)&&!$(e.value.quantityField).hasClassName("form-subproduct-quantity"))return;try{var r=e.key.split("_").slice(0,-1).join("_");if($(r)&&"radio"===$(r).type&&!$(r).checked)return $(e.value.quantityField).value>0&&($(e.value.quantityField).value=0,$(r+"_item_subtotal")&&$(r+"_item_subtotal").update("0.00")),void("cardform"===window.FORM_MODE&&($$("ul.products")[0]&&$$("ul.products")[0].querySelector('li[data-input="'+r+'"]')&&$$("ul.products")[0].querySelector('li[data-input="'+r+'"]').classList.remove("product--selected"),$(e.value.quantityField).up().querySelector(".jfDropdown-chip.isSingle").innerText=0))}catch(e){console.warn(e)}}var a=!!e.value.recurring;u=parseFloat(u);var n,l=0,s=parseFloat(e.value.price)||0,c=s,F=0,E=0,A=!1,N=e.value.recurring,T=!1,M=1,I=[];if(4===e.key.split("_").length?(A=!0,(n=e.key.split("_")).pop(),n=n.join("_"),p[n]=p[n]||0):n=e.key,$(e.value.specialPriceField)){var O=$(e.value.specialPriceField);if(e.value.child&&4===e.value.specialPriceField.split("_").length){var D=e.value.specialPriceField.split("_")[3];s=parseFloat(e.value.specialPriceList[D])}else{isNaN($(O).options[0].value)||$(O).options[0].value>0||$(""!=O.options[0].innerHTML.strip())?priceIndex=O.getSelected().index:priceIndex=O.getSelected().index-1;var L=null;if($(e.value.quantityField)&&$(e.value.quantityField).up("tr"))L=$(e.value.quantityField).up("tr").querySelector("th").textContent.trim();else{var j=document.querySelector("label[for="+e.value.specialPriceField+"]");L=j&&j.textContent.trim()}if(L&&I.push({name:L,value:$(O).getSelected().value}),priceIndex>-1)s=parseFloat(e.value.specialPriceList[priceIndex]),$(e.key+"_price")&&$(e.key+"_price").siblings(".freeCurr").each(function(e){e.style.display="inline"});else{var q=e.value.specialPriceList[priceIndex+1];s=0}}T=!0}if(c=s,e.value.discount){var P=e.value.discount.split("-");if(c=s,P[2]){if("all"===P[2]||"product"===P[2])a&&(N=(N-="fixed"===P[1]?P[0]:N*(P[0]/100))<0?0:N),s=(s-="fixed"===P[1]?P[0]:s*(P[0]/100))<0?0:s;else if("first"===P[2])a&&(s=(s-="fixed"===P[1]?P[0]:s*(P[0]/100))<0?0:s);else if("stripe_native"===P[2])if(a){var B=s-N;s=N-("fixed"===P[1]?P[0]:N*(P[0]/100)),P[3]||(N=s),s+=Number(B)}else s=(s-="fixed"===P[1]?P[0]:s*(P[0]/100))<0?0:s}else s=(s-="fixed"===P[1]?P[0]:s*(P[0]/100))<0?0:s}if(e.value.recurring){var R=$(e.key+"_setupfee");if(H=$(e.key+"_price")){var V=a?N:s;$(H).update(parseFloat(V).formatMoney(_,w,J))}R&&$(R).update(parseFloat(s).formatMoney(_,w,J))}else{var H=$(e.key+"_price")?$(e.key+"_price"):$(e.key.replace(e.key.substring(e.key.lastIndexOf("_")),"")+"_price")||null;if(H){H.innerHTML;"0"==s&&e.value.specialPriceList&&q?$(H).update(parseFloat(q||0).formatMoney(_,w,J)):"0"!=e.value.price||e.value.specialPriceList?($(H).parentNode.show(),$(H).update(parseFloat(s).formatMoney(_,w,J))):$(H).update(" Free")}}if(e.value.tax){var U=e.value.tax;b=parseFloat(U.rate)||0;var z=$$('select[id*="input_'+U.surcharge.field+'"], input#input_'+U.surcharge.field)[0]||!1;z&&z.value&&$H(U.surcharge.rates).each(function(e){if("object"==typeof e.value){var t=e.value[1],o=e.value[0];if(t.toLowerCase()===z.value.toLowerCase())throw b+=Number(o),$break}})}if(e.value.addons&&(s+=e.value.addons),$(e.key)&&$(e.key).checked){if(C++,($(e.value.quantityField)||$(e.value.specialPriceField))&&($(e.value.quantityField)&&e.value.specialPriceField!==e.value.quantityField&&("text"==$(e.value.quantityField).readAttribute("type")?(s=$(e.value.quantityField).value?s*Math.abs(parseInt($(e.value.quantityField).value,10)):0,c=$(e.value.quantityField).value?c*Math.abs(parseInt($(e.value.quantityField).value,10)):0,M=Math.abs(parseInt($(e.value.quantityField).value,10))):(s*=parseInt($(e.value.quantityField).getSelected().text||0,10),c*=parseInt($(e.value.quantityField).getSelected().text||0,10),M=parseFloat($(e.value.quantityField).getSelected().text)),I.push({name:"Quantity",value:M}),document.querySelector("#"+n+"_subproducts")&&I.push({name:document.querySelector("#"+n+"_subproducts th:first-child").textContent.trim(),value:$(e.value.quantityField).up("tr").querySelector("th").textContent.trim()})),A&&(p[n]+=s),$(n+"_item_subtotal")&&!isNaN(s)&&(A?$(n+"_item_subtotal").update(parseFloat(p[n]).formatMoney(_,w,J)):$(n+"_item_subtotal").update(parseFloat(s).formatMoney(_,w,J))),$(e.value.quantityField)&&("INPUT"===$(e.value.quantityField).nodeName?M=Math.abs(parseInt($(e.value.quantityField).value,10)):"SELECT"===$(e.value.quantityField).nodeName&&(M=parseFloat($(e.value.quantityField).getSelected().text)))),e.value.tax&&(F=s*(b/100),E=c*(b/100)),e.value.shipping){var W=e.value.shipping;if(W.firstItem){var Q=$(e.value.quantityField)?"text"===$(e.value.quantityField).readAttribute("type")?parseInt($(e.value.quantityField).value):parseInt($(e.value.quantityField).getSelected().text||0):1;1===Q&&(l=parseFloat(W.firstItem)),Q>1&&(l=parseFloat(W.addItem)?parseFloat(W.firstItem)+parseFloat(W.addItem)*(Q-1):parseFloat(W.firstItem))}else 0==x&&W.flatRate&&(f=x=parseFloat(W.flatRate))}h+=F,v+=E,x||(f+=l),d+=s,m+=c,g+=l+F,y+=l+E}else $(e.key+"_item_subtotal")&&$(e.key+"_item_subtotal").update("0.00");if($(e.key)&&($("coupon-button")&&!0===$(e.key).checked&&"subscription"===window.paymentType&&Array.from(document.querySelectorAll(".jfCard")).filter(function(e){return"control_stripe"===e.dataset.type}).length>0&&(selected_product_id=$(e.key).value,JotForm.checkCouponAppliedProducts()),$(e.key).checked)){var Y=T?c:parseFloat(e.value.price),Z="";T&&I.forEach(function(e){Z+=e.name+":"+e.value+" "}),s>0?k.push({name:i,unit_amount:Number(Y),quantity:T?1:M,description:Z.substr(0,124),isSetupfee:a}):"paypalSPB"===JotForm.payment&&!isNaN(M)&&M>0&&S.push({name:i,unit_amount:Number(Y),quantity:T?1:M,description:Z.substr(0,124),isSetupfee:a})}}else $(e.key)&&$(e.key).checked&&(d=parseFloat($(e.key+"_custom_price").getValue()))}),$("coupon-button"))var E=$($("coupon-button").getAttribute("data-qid")+"_coupon");if(JotForm.discounts.total){if(d>=a){var A="fixed"===i?r:r/100*parseFloat(d);d=d>A?d-A:0,E.value=n}else A=0,E.value="";var N=document.querySelector(".form-payment-total");N&&(N.parentNode.insertBefore(JotForm.discounts.container,N),$("discount_total").update(parseFloat(A).formatMoney(_,w,J)))}if("paypalSPB"!==JotForm.payment&&"Stripe"!==JotForm.payment||(g=t(g),y=t(y)),u=d+g,c=m+y,u=x>0?u+x:u,c=x>0?c+x:c,(0===u||isNaN(u))&&(u="0.00",c="0.00"),JotForm.discounts.shipping&&f>0&&d>=a){A="fixed"===i?r:r/100*parseFloat(f);var T=f;u-=T-(f=f>A?f-A:0),c-=T-f}this.paymentTotal=Number(u),$("creditCardTable")&&(C>0&&0===this.paymentTotal&&o?JotForm.setCreditCardVisibility(!1):$$('input[id*="paymentType_credit"]').length>0&&$$('input[id*="paymentType_credit"]')[0].checked&&JotForm.setCreditCardVisibility(!0)),$("payment_subtotal")&&$("payment_subtotal").update(parseFloat(d).formatMoney(_,w,J)),$("payment_tax")&&$("payment_tax").update(parseFloat(h).formatMoney(_,w,J)),$("payment_shipping")&&$("payment_shipping").update(parseFloat(f).formatMoney(_,w,J)),$("payment_total")&&($("payment_total").update(parseFloat(u).formatMoney(_,w,J)),$("payment_total").up(".form-line")&&$("payment_total").up(".form-line").triggerEvent&&$("payment_total").up(".form-line").triggerEvent("keyup")),$("payment_footer_total")&&$("payment_footer_total").update(parseFloat(u).formatMoney(_,w,J));var M=t(m),I=t(f);c=t(c)||0,u=t(u)||0,v=t(v),h=t(h);var O=0;for(var D in JotForm.discounts)O++;var L=O>0,j=t(Math.abs(M+I+h-u));j=L?j:0,JotForm.pricingInformations={items:k,noCostItems:S,general:{net_amount:u,total_amount:c,item_total:M,tax_total:h,shipping:I,discount:j,currency:F}}},prices:{},setCreditCardVisibility:function(e){e?$("creditCardTable").show():$("creditCardTable").hide()},totalCounter:function(e){Number.prototype.formatMoney||(Number.prototype.formatMoney=function(e,t,o){var i=void 0!==this.toString().split(".")[1]&&this.toString().split(".")[1].length>e&&"5"===this.toString().charAt(this.toString().length-1)?this.toString()+"1":this.toString(),r=parseFloat(i),a=(e=isNaN(e=Math.abs(e))?2:e,t=void 0===t?".":t,o=void 0===o?",":o,r<0?"-":""),n=parseInt(r=Math.abs(+r||0).toFixed(e))+"",l=(l=n.length)>3?l%3:0;return a+(l?n.substr(0,l)+o:"")+n.substr(l).replace(/(\d{3})(?=\d)/g,"$1"+o)+(e?t+Math.abs(r-n).toFixed(e).slice(2):"")}),JotForm.prices=e,document.observe("dom:loaded",JotForm.countTotal(e)),$H(e).each(function(t){function o(){if(JotForm.isVisible($(t.value.quantityField))){if("SELECT"!==$(t.value.quantityField).tagName||$(t.value.quantityField).getSelected().index>0||"0"===$(t.value.quantityField).getValue()){var o=$(t.value.quantityField).up(".form-product-item").down(".form-product-has-subproducts");o?(o.checked=!1,$H(e).each(function(e){-1===e.key.indexOf(o.id)||$(e.value.quantityField).getValue()<=0||(o.checked=!0)})):$(t.key)&&($(t.key).checked=!($(t.value.quantityField).getValue()<=0))}JotForm.countTotal(e)}}function i(){JotForm.isVisible($(t.value.specialPriceField))&&(("SELECT"!==$(t.value.specialPriceField).tagName||$(t.value.specialPriceField).getSelected().index>0)&&$(t.key)&&($(t.key).checked=!0),JotForm.countTotal(e))}if($(t.key)&&$(t.key).observe("click",function(){JotForm.countTotal(e)}),"custom"==t.value.price&&($(t.key+"_custom_price").stopObserving("keyup"),$(t.key+"_custom_price").observe("keyup",function(){JotForm.countTotal(e)})),t.value.tax){var r=t.value.tax.surcharge;$$('select[id*="input_'+r.field+'"]').length>0&&($$('select[id*="input_'+r.field+'"]')[0].stopObserving("change"),$$('select[id*="input_'+r.field+'"]')[0].observe("change",function(){setTimeout(JotForm.countTotal(),500)})),$$('input[id="input_'+r.field+'"]').length>0&&($$('input[id="input_'+r.field+'"]')[0].stopObserving("keyup"),$$('input[id="input_'+r.field+'"]')[0].observe("keyup",function(){setTimeout(JotForm.countTotal(),500)}))}var a=function(e){var t=$(e).id.match(/input_([0-9]*)_quantity_/)||$(e).id.match(/input_([0-9]*)_custom_/);setTimeout(function(){t&&$("id_"+t[1])&&$("id_"+t[1]).triggerEvent("click");var o=e.up(".form-product-item");o&&o.down("input")&&o.down("input").validateInput&&o.down("input").validateInput()},100)};$(t.value.quantityField)&&($(t.value.quantityField).observe("change",function(){setTimeout(o,50),a(this)}),$(t.value.quantityField).observe("keyup",function(){setTimeout(o,50),a(this)})),$(t.value.specialPriceField)&&($(t.value.specialPriceField).observe("change",function(){setTimeout(i,50),a(this)}),$(t.value.specialPriceField).observe("keyup",function(){setTimeout(i,50)}))})},discounts:{},handleCoupon:function(){var e=this;if(JotForm.countTotal(JotForm.prices),$("coupon-button")){var t=$("coupon-button"),o=$("coupon-loader"),i=$("coupon-message"),r=$("coupon-input");t.innerHTML=this.paymentTexts.couponApply;var a=$$('input[name="formID"]')[0].value;r.observe("keypress",function(e){13===e.keyCode&&(e.preventDefault(),t.click(),r.blur())}),r.enable(),$$('input[name="coupon"]')[0].value="",t.observe("click",function(){if(r.value){t.hide(),o.show(),r.value=r.value.replace(/\s/g,""),t.disable();var n=(r.hasAttribute("stripe")||r.hasAttribute("data-stripe"))&&"subscription"===window.paymentType;new Ajax.Jsonp(JotForm.server,{parameters:{action:"checkCoupon",coupon:r.value,formID:a,stripe:n,editMode:JotForm.isEditMode(),paymentID:$$('input[name="simple_fpc"]')[0].value},evalJSON:"force",onComplete:function(a){(a=a.responseJSON||a).success&&(-1===a.message.indexOf("{")?("expired"===a.message?i.innerHTML=e.paymentTexts.couponExpired:i.innerHTML=e.paymentTexts.couponInvalid,i.removeClassName("valid"),i.addClassName("invalid"),r.select(),o.hide(),t.show(),t.enable()):(o.hide(),t.show(),i.innerHTML=e.paymentTexts.couponValid,i.removeClassName("invalid"),i.addClassName("valid"),JotForm.applyCoupon(a.message)))}})}else $("coupon-message").innerHTML=e.paymentTexts.couponBlank}.bind(this))}},checkCouponAppliedProducts:function(){var e=$("coupon-button"),t=$("coupon-message");if(window.discounted_products){var o=Array.from(window.discounted_products);cleared_discounted_products=[],o.forEach(function(o,i){if("string"==typeof o||"number"==typeof o){if(cleared_discounted_products[i]=o.toString(),!0===cleared_discounted_products.includes(selected_product_id)||"all"===cleared_discounted_products[0])e.innerHTML="Change",t.innerHTML="Coupon is valid.";else{e.enable();var r=document.querySelectorAll("div#coupon-container > div#coupon-table > div.jfField.isFilled").length;r&&0!==r&&(t.innerHTML="<span style='color:red; '>Coupon code is not valid for this product.</span>")}$("coupon-button").addEventListener("click",function(){t.innerHTML=""})}})}},applyCoupon:function(e){var t=this;e=JSON.parse(e),window.discounted_products=[],e.products&&e.products[0]&&e.products.forEach(function(e,t){window.discounted_products[t]=e}),JotForm.discounts={};var o=$("coupon-button"),i=($("coupon-loader"),$("coupon-message")),r=$("coupon-input"),a=$(o.getAttribute("data-qid")+"_coupon");o.stopObserving("click"),a&&(a.value=e.code),o.enable(),r.disable(),o.innerHTML=this.paymentTexts.couponChange||"Change",o.observe("click",function(){JotForm.isEditMode()||(a.value="",$H(n).each(function(e){e[1].remove()}),JotForm.discounts.container&&JotForm.discounts.container.remove(),$$('span[id*="_price"]').each(function(e,t){$(e).removeClassName("underlined")}),$$('span[id*="_setupfee"]').each(function(e,t){$(e).removeClassName("underlined")}),JotForm.discounts={},o.stopObserving("click"),i.innerHTML="",o.innerHTML=t.paymentTexts.couponApply,r.enable(),r.select(),JotForm.handleCoupon())});var n={},l=function(e,t){n[t]=new Element("span");var o=new Element("span",{style:"text-decoration:line-through; display:inline-block;"});o.insert(e.innerHTML.replace("price","price_old"));var i=new Element("span",{style:"width:0; height:0; opacity: 0; position:absolute;"});i.innerHTML="Discount Price",n[t].insert({top:"&nbsp"}),n[t].insert(o),n[t].insert(i),n[t].insert({bottom:"&nbsp"}),e.insert({top:n[t]})};if(e.products&&e.products.length>0&&e.products.include("all")){e.products=[];for(var s in productID)e.products.push(productID[s].slice(-4))}if(!e.paymentType||e.paymentType&&"product"===e.paymentType)if("product"===e.apply)$A(e.products).each(function(t){JotForm.discounts[t]=e.rate+"-"+e.type,$$('span[id*="_price"]').each(function(e,o){e.id.indexOf(t)>-1&&$(e).addClassName("underlined")}),$$('label[for*="'+t+'"] span.form-product-details b')[0]&&l($$('label[for*="'+t+'"] span.form-product-details b')[0],t),$$("[id*="+t+"_subproducts]").length>0&&$$("[id*="+t+"_subproducts]")[0].down(".form-product-child-price")&&$$("#"+$$("[id*="+t+"_subproducts]")[0].id+" .form-product-child-price").each(function(e,o){l(e,t+"_"+o)})});else if("total"===e.apply){JotForm.discounts={total:!0,code:e.code,minimum:e.minimum,type:e.type,rate:e.rate};var u=document.querySelector(".form-payment-total");if(u){var c=u.innerHTML.replace(/Total|Total:/,"Discount:").replace("payment_total","discount_total").replace("<span>","<span> - ");JotForm.discounts.container=new Element("span",{class:"form-payment-discount"}).insert(c)}}else JotForm.discounts={shipping:!0,code:e.code,minimum:e.minimum,type:e.type,rate:e.rate};else $A(e.products).each(function(t){JotForm.discounts[t]=e.rate+"-"+e.type,e.apply&&(JotForm.discounts[t]+="-"+e.apply),e.duration&&1===e.duration&&(JotForm.discounts[t]+="-once"),$$('span[id*="_price"]').each(function(o,i){if(o.id.indexOf(t)>-1&&$$('span[id*="'+t+'_setupfee"]').length>0&&"all"===e.apply)throw $(o).addClassName("underlined"),$break}),$$('span[id*="_setupfee"]').each(function(e,o){if(e.id.indexOf(t)>-1)throw $(e).addClassName("underlined"),$break})});JotForm.countTotal(JotForm.prices)},setStripeSettings:function(e,t,o,i,r,a){if(!JotForm.isEditMode()&&!document.get.sid){var n=$$("#stripe-templates .stripe-sca-template")[0],l=$$("#stripe-templates .stripe-old-template")[0];if(e){void 0==JotForm.forms[0]||void 0===JotForm.forms[0]?$($$(".jotform-form")[0].id):JotForm.forms[0];var s=e.replace(/\s+/g,"");if(""==s)return void console.log("Stripe publishable key is empty. You need to connect your form using Stripe connect.");var u=n&&n.querySelector(".cc_numberMount")?"v3":"v1";this.loadScript("https://js.stripe.com/"+u+"/",function(){if(n&&n.querySelector(".cc_numberMount")){var u=new _StripeSCAValidation;JotForm.stripe=u,l&&l.remove(),u.setFields(t,o,i,r,a),u.init(e),console.log("Stripe SCA loaded")}else{u=new _StripeValidation;JotForm.stripe=u,n&&n.remove(),Stripe.setPublishableKey(s),u.setAddress_qid(t),u.init(),console.log("Stripe v1 loaded")}})}else n&&n.remove(),l&&$$(".stripe-old-template input").forEach(function(e){e.setAttribute("disabled",!0)})}},setFilePickerIOUpload:function(e){if(e&&"object"==typeof filepicker&&"function"==typeof _JF_filepickerIO){new _JF_filepickerIO(e).init()}else console.error("filepicker OR _JF_filepickerIO object library are missing")},initCaptcha:function(e){setTimeout(function(){var t=navigator.userAgent.toLowerCase(),o=-1!=t.indexOf("msie")&&parseInt(t.split("msie")[1],10);o&&o<9&&(-1==t.indexOf("windows nt 5.1")&&-1==t.indexOf("windows xp")&&-1==t.indexOf("windows nt 5.2")||(JotForm.server="https://www.jotform.com/server.php"));new Ajax.Jsonp(JotForm.url+"captcha",{evalJSON:"force",onComplete:function(t){(t=t.responseJSON||t).success&&($(e+"_captcha").src=t.img,$(e+"_captcha_id").value=t.num)}})},150)},reloadCaptcha:function(e){$(e+"_captcha").src=JotForm.url+"images/blank.gif",JotForm.initCaptcha(e)},addZeros:function(e,t){var o="";if(t>(e=e.toString()).length)for(i=0;i<t-e.length;i++)o+="0";return o+e.toString()},formatDate:function(e){var t=e.date,o=JotForm.addZeros(t.getMonth()+1,2),i=JotForm.addZeros(t.getDate(),2),r=t.getYear()<1e3?t.getYear()+1900:t.getYear(),a=e.dateField.id.replace(/\w+\_/gim,"");if($("month_"+a).value=o,$("day_"+a).value=i,$("year_"+a).value=r,$("lite_mode_"+a)){var n=$("lite_mode_"+a),l=n.readAttribute("seperator")||n.readAttribute("data-seperator"),s=n.readAttribute("format")||n.readAttribute("data-format"),u=o+l+i+l+r;"ddmmyyyy"==s?u=i+l+o+l+r:"yyyymmdd"==s&&(u=r+l+o+l+i),n.value=u}$("id_"+a).fire("date:changed")},highLightLines:function(){$$(".form-line").each(function(e,t){e.select("input, select, textarea, div, table div, button").each(function(t){t.observe("focus",function(){JotForm.isCollapsed(e)&&JotForm.getCollapseBar(e).run("click"),JotForm.highlightInputs&&(e.addClassName("form-line-active"),e.__classAdded&&(e.__classAdded=!1))}).observe("blur",function(){JotForm.highlightInputs&&e.removeClassName("form-line-active")})})})},getForm:function(e){return!!(e=$(e)).parentNode&&(!e||"BODY"!=e.tagName)&&("FORM"==e.tagName?$(e):JotForm.getForm(e.parentNode))},getContainer:function(e){return!!(e=$(e)).parentNode&&(!e||"BODY"!=e.tagName)&&(e.hasClassName("form-line")?$(e):JotForm.getContainer(e.parentNode))},getSection:function(e){return!!(e=$(e)).parentNode&&(!e||"BODY"!=e.tagName)&&(!e.hasClassName("form-section-closed")&&!e.hasClassName("form-section")||e.id.match(/^section_/)?JotForm.getSection(e.parentNode):e)},getCollapseBar:function(e){return!!(e=$(e)).parentNode&&(!e||"BODY"!=e.tagName)&&(e.hasClassName("form-section-closed")||e.hasClassName("form-section")?e.select(".form-collapse-table")[0]:JotForm.getCollapseBar(e.parentNode))},isCollapsed:function(e){return!!(e=$(e)).parentNode&&(!e||"BODY"!=e.tagName)&&("form-section-closed"==e.className||JotForm.isCollapsed(e.parentNode))},isVisible:function(e){return!!(e=$(e)).parentNode&&!e.hasClassName("always-hidden")&&(!(!e||"BODY"!=e.tagName)||(!!(e.hasClassName("form-textarea")&&e.up("div").down(".nicEdit-main")&&e.up(".form-line")&&JotForm.isVisible(e.up(".form-line")))||"none"!=e.style.display&&"hidden"!=e.style.visibility&&!e.hasClassName("js-non-displayed-page")&&JotForm.isVisible(e.parentNode)))},sectionHasVisibleiFrameWidgets:function(e){var t=!1;return e.select(".custom-field-frame").each(function(e){if(JotForm.isVisible(e))throw t=!0,$break}),t},enableDisableButtonsInMultiForms:function(){$$(".form-submit-button").each(function(e){e.up("ul.form-section")&&("none"==e.up("ul.form-section").style.display||e.up("ul.form-section").hasClassName("js-non-displayed-page")?e.disable():-1!=e.className.indexOf("disabled")||e.hasClassName("conditionallyDisabled")||e.enable())})},enableButtons:function(){setTimeout(function(){$$(".form-submit-button").each(function(e){e.hasClassName("conditionallyDisabled")||e.enable(),-1===e.innerHTML.indexOf("<img")&&"submit"===e.type&&(e.innerHTML=e.oldText||"Submit")})},60)},disableButtons:function(){setTimeout(function(){$$(".form-submit-button:not(.js-new-sacl-button)").each(function(e){-1===e.innerHTML.indexOf("<img")&&"submit"===e.type&&(e.innerHTML=JotForm.texts.pleaseWait),e.addClassName("lastDisabled"),e.disable()})},60)},setButtonActions:function(){$$(".form-submit-button:not(.forReviewButton):not(.js-new-sacl-button)").each(function(e){e.oldText=e.innerHTML,e.enable(),""===getQuerystring("qp")&&e.observe("click",function(){setTimeout(function(){if(!$$(".form-error-message")[0]&&!$$(".form-textarea-limit-indicator-error")[0]){$$(".form-submit-button:not(.js-new-sacl-button)").each(function(e){-1===e.innerHTML.indexOf("<img")&&"submit"===e.type&&(e.innerHTML=JotForm.texts.pleaseWait),e.addClassName("lastDisabled"),e.disable()})}},50)})}),$$(".form-submit-reset").each(function(e){e.onclick=function(){if(!confirm(JotForm.texts.confirmClearForm))return!1;if(JotForm.payment&&$$('span[id*="_item_subtotal"]').length>0){var e="0";JotForm.currencyFormat.decimal&&(e="0"+JotForm.currencyFormat.dSeparator+"00"),$$('span[id*="_item_subtotal"]').each(function(t){t.update(e)})}if(/chrom(e|ium)/.test(navigator.userAgent.toLowerCase())&&$("coupon-button"))return setTimeout(function(){$("payment_total")&&JotForm.totalCounter(JotForm.prices)},40),!0;$$(".form-line-error").each(function(e){e.removeClassName("form-line-error")}),$$(".form-error-message",".form-button-error").each(function(e){e.remove()}),$$(".form-textarea-limit-indicator > span").each(function(e){var t=e.innerHTML;e.innerHTML=t.replace(t.substring(0,t.indexOf("/")),"0")}),$$("span[id^=grade_point_]").each(function(e){e.innerHTML=0}),$$(".form-grading-error").each(function(e){e.innerHTML=""});$$("form")[0].readAttribute("data-autofill")&&setTimeout(function(){for(var e in JotForm.defaultValues){var t=$(e);!t||"radio"!=t.type&&"checkbox"!=t.type||(t.checked=!0)}var o=$$("form").first().readAttribute("id")+$$("form").first().readAttribute("name"),i=AutoFill.getInstance(o);i&&-1===window.location.href.indexOf("jotform.pro")&&i.saveAllData()},40),setTimeout(function(){$$(".custom-hint-group").each(function(e){e.hasContent=!(!e.value||e.value.replace(/\n/gim,"<br>")==e.readAttribute("data-customhint")),e.showCustomPlaceHolder()})},30),setTimeout(function(){$$(".nicEdit-main").each(function(e){var t=e.up(".form-line").down("textarea");t&&(t.hasClassName("custom-hint-group")&&!t.hasContent?e.setStyle({color:"#babbc0"}):e.setStyle({color:""}),e.innerHTML=t.value)})},40),setTimeout(function(){$("coupon-button")&&$("coupon-button").triggerEvent&&$("coupon-button").triggerEvent("click"),$("payment_total")&&JotForm.totalCounter(JotForm.prices)},40),setTimeout(function(){$$("input.form-widget").each(function(e){e.value="",e.fire("widget:clear",{qid:parseInt(e.id.split("_")[1])})})},40),setTimeout(function(){$$(".currentDate").each(function(e){var t=e.id.replace(/day_/,"");JotForm.formatDate({date:new Date,dateField:$("id_"+t)})}),$$(".currentTime").each(function(e){if(e.up(".form-line")){var t=e.up(".form-line").id.replace("id_","");$("hour_"+t)?JotForm.displayLocalTime("hour_"+t,"min_"+t,"ampm_"+t):JotForm.displayLocalTime("input_"+t+"_hourSelect","input_"+t+"_minuteSelect","input_"+t+"_ampm")}})},40),setTimeout(function(){JotForm.runAllConditions()},50)}}),$$(".form-submit-print").each(function(e){e.observe("click",function(){$(e.parentNode).hide();var t=[],o=[];$$(".form-textarea, .form-textbox").each(function(e){e.type||(e.value=e.value||"0");var i;(i=e.next(".date-separate"))&&i.hide();e.value.length<e.size&&e.size,-1!=e.id.indexOf("_area")||-1!=e.id.indexOf("_phone")||-1!=e.id.indexOf("_country")&&e.readAttribute("type"),e.hasClassName("form-textarea")&&"nicEditors"in window&&$$("#cid_"+e.id.split("_")[1]+" > div:nth-child(1)").each(function(i){"on"==i.readAttribute("unselectable")&&($$("#cid_"+e.id.split("_")[1]+" > div")[0].hide(),$$("#cid_"+e.id.split("_")[1]+" > div")[1].setStyle({borderTopStyle:"solid",borderWidth:"1px",borderTopColor:"rgb(204, 204, 204)"}),t.push($$("#cid_"+e.id.split("_")[1]+" > div")[0]),o.push(e))})}),window.print();for(var i=0;i<t.length;i++)t[i].show();for(i=0;i<o.length;i++)o[i].hide();$(e.parentNode).show()})})},hasHiddenValidationConflicts:function(e){var t=e.up("li.form-line");return t&&(t.hasClassName("form-field-hidden")||t.up("ul.form-section").hasClassName("form-field-hidden"))},initGradingInputs:function(){var e=this;$$(".form-grading-input").each(function(t){t.observe("blur",function(){t.validateGradingInputs()}),t.observe("keyup",function(){t.validateGradingInputs()}),t.validateGradingInputs=function(){var t=this.id.replace(/input_(\d+)_\d+/,"$1"),o=0,i=$(this.parentNode.parentNode),r=/^(\d+[\.]?)+$/,a=!1;if("cardform"===window.FORM_MODE&&(i=i.parentNode),this.errored=!1,i.select(".form-grading-input").each(function(e){if(e.value&&!r.test(e.value))throw a=!0,$break;o+=parseFloat(e.value)||0}),e.hasHiddenValidationConflicts(this))return JotForm.corrected(this);if(a)return JotForm.errored(this,JotForm.texts.numeric);if($("grade_total_"+t)){$("grade_error_"+t).innerHTML="";var n=parseFloat($("grade_total_"+t).innerHTML);return $("grade_point_"+t).innerHTML=o,o>n?($("grade_error_"+t).innerHTML=" "+JotForm.texts.lessThan+" <b>"+n+"</b>.",JotForm.errored(this,JotForm.texts.gradingScoreError+" "+n)):JotForm.corrected(this)}return JotForm.corrected(this)}})},initSpinnerInputs:function(){$$(".form-spinner-input").each(function(e){e.observe("blur",function(){e.validateSpinnerInputs()}).observe("change",function(){e.validateSpinnerInputs()});var t=e.up(".form-spinner"),o=t.select(".form-spinner-up")[0],i=t.select(".form-spinner-down")[0];o.observe("click",function(t){e.validateSpinnerInputs()}),i.observe("click",function(t){e.validateSpinnerInputs()}),e.validateSpinnerInputs=function(){this.id.replace(/input_(\d+)_\d+/,"$1");var e=this.value||0;if(this.errored=!1,!JotForm.isVisible(this))return JotForm.corrected(this);if(e&&!/^(-?\d+[\.]?)+$/.test(e)&&!/^([\.]\d+)+$/.test(e))return JotForm.errored(this,JotForm.texts.numeric);if(this.hasClassName("disallowDecimals")&&e%1!=0)return JotForm.errored(this,JotForm.texts.disallowDecimals);var t=parseInt(this.readAttribute("data-spinnermin"))||!1,o=parseInt(this.readAttribute("data-spinnermax"))||!1;return t&&e<t?JotForm.errored(this,JotForm.texts.inputCarretErrorA+" "+t):o&&e>o?JotForm.errored(this,JotForm.texts.inputCarretErrorB+" "+o):JotForm.corrected(this)}})},initTimev2Inputs:function(){for(var e=document.querySelectorAll('input[id*="timeInput"][data-version="v2"]'),t=0;t<e.length;t++)try{new Inputmask({alias:"datetime",inputFormat:e[t].dataset.mask?e[t].dataset.mask:"hh:MM",jitMasking:!0,oncomplete:function(e){var t=e.target.value.split(":"),o=e.target.parentElement.querySelector('input[id*="hourSelect"]'),i=e.target.parentElement.querySelector('input[id*="minuteSelect"]');o.value=t[0],i.value=t[1]},onincomplete:function(e){var t=e.target.value.split(":");if(e.target.parentElement.querySelector('input[id*="hourSelect"]').value=t[0],t[1]){e.target.parentElement.querySelector('input[id*="minuteSelect"]').value=2===t[1].length?t[1]:t[1]+"0"}},oncleared:function(e){var t=e.target.parentElement.querySelector('input[id*="hourSelect"]'),o=e.target.parentElement.querySelector('input[id*="minuteSelect"]');t.value="",o.value=""}}).mask(e[t]),e[t].addEventListener("mouseenter",function(e){e.target.placeholder="HH : MM"})}catch(e){return}},initDateV2Inputs:function(){document.querySelectorAll('input[id*="lite_mode_"]').forEach(function(e){try{new Inputmask({alias:"datetime",inputFormat:e.placeholder,jitMasking:!0}).mask(e)}catch(e){return}});document.querySelectorAll('input[id*="month_"').forEach(function(e){try{new Inputmask({alias:"datetime",inputFormat:"mm",jitMasking:!0}).mask(e)}catch(e){return}});document.querySelectorAll('input[id*="day_"').forEach(function(e){try{new Inputmask({alias:"datetime",inputFormat:"dd",jitMasking:!0}).mask(e)}catch(e){return}})},initOtherV2Options:function(){for(var e=function(e){var t=e.e||null,o=e.container||null,i=e.input||null;if(!t||!o||!i)return!1;("object"==typeof t.target.getAttribute("checked-before")?t.target.checked:"1"===t.target.getAttribute("checked-before"))?(o.classList.remove("is-none"),i.focus()):(o.classList.add("is-none"),i.value=""),i.addEventListener("keydown",function(e){var t=e.which||e.keyCode||e.charCode,r=o.parentNode.querySelector('input[value="other"]');38!==t&&40!==t||(o.classList.add("is-none"),i.value="",r.focus())})},t=document.querySelectorAll(".form-checkbox-other-input, .form-radio-other-input"),o=0;o<t.length;o++)t[o].parentNode.setAttribute("style",""),t[o].parentNode.setAttribute("class","other-input-container is-none");for(o=0;o<t.length;o++){var i=t[o],r=i.cloneNode(!0);i.parentNode.replaceChild(r,i),r.placeholder=r.dataset.placeholder}var a=document.querySelectorAll('li.form-line[data-type="control_checkbox"] input[type="checkbox"]');for(o=0;o<a.length;o++)a[o].addEventListener("change",function(t){var o=t.target.id+"_input",i=document.getElementById(o),r=t.target.id.replace("other","input"),a=document.getElementById(r);"other"===t.target.value&&e({e:t,container:i,input:a})});var n=document.querySelectorAll('li.form-line[data-type="control_radio"] input[type="radio"]');for(o=0;o<n.length;o++)n[o].addEventListener("click",function(t){var o=t.target.up("li.form-line").id.replace("id","other")+"_input",i=document.getElementById(o),r=t.target.up("li.form-line").id.replace("id","input"),a=document.getElementById(r);t.target.className.indexOf("form-radio-other")<0?i&&a&&(i.classList.add("is-none"),a.value=""):e({e:t,container:i,input:a})})},initRadioInputV2:function(e){for(var t=function(e){var t=e.getAttribute("for"),o=document.querySelector('input[id="'+t+'"]');o.getAttribute("checked-before")&&"0"!==o.getAttribute("checked-before")?(o.setAttribute("checked-before",0),setTimeout(function(){o.checked=!1},0)):(o.setAttribute("checked-before",1),o.checked=!0)},o=function(e){for(var t=document.querySelectorAll('li.form-line[data-type="control_radio"] input[type="radio"]'),o=0;o<t.length;o++)t[o]!==e&&t[o].getAttribute("checked-before")&&t[o].setAttribute("checked-before",0)},i=0;i<e.length;i++)e[i].addEventListener("click",function(e){e.target.previousElementSibling&&o(e.target.previousElementSibling),t(e.target)})},initHeaderSection:function(e){if(e.length<2)return!1;for(var t=null,o=document.querySelectorAll('*[data-type="control_head"]'),i=0;i<o.length&&!(o[i].getAttribute("class")&&o[i].getAttribute("class").indexOf("always-hidden")>-1);i++)!i>i&&(t=o[i]);for(var r=0;r<e.length;r++)if(r>0){var a=document.createElement("li");a.setAttribute("class","cloned-header"),a.innerHTML=t.querySelector(".form-header-group").parentNode.innerHTML,e[r].insertBefore(a,e[r].firstChild)}},initNumberInputs:function(){$$(".form-number-input").each(function(e){e.observe("blur",function(){e.validateNumberInputs()}).observe("change",function(){e.validateNumberInputs()}).observe("keyup",function(){e.validateNumberInputs()}).observe("keypress",function(t){if(!t.metaKey&&!t.ctrlKey){var o=[8,9,13,35,36,37,39].join(",").match(new RegExp(t.which));if(!t.which||48<=t.which&&t.which<=57||46==t.which||45==t.which||43==t.which||o){if(8==t.which||0==t.which||13==t.which||!(parseInt(this.value.length)>=parseInt(e.readAttribute("maxlength"))||t.which<45||t.which>57))return;t.preventDefault()}else t.preventDefault()}}),e.validateNumberInputs=function(){var e=this;e.id.replace(/input_(\d+)_\d+/,"$1");if(e.errored=!1,!JotForm.isVisible(e))return JotForm.corrected(e);if(""!==e.value&&!/^-?(\d+[\.]?)+$|([\.]\d+)+$/.test(e.value)&&!0!==e.hinted)return JotForm.errored(e,JotForm.texts.numeric);var t=parseInt(e.readAttribute("data-numbermin")),o=parseInt(e.readAttribute("data-numbermax")),i=parseInt(e.readAttribute("maxlength"));if(i&&e.value&&e.value.length>i)return JotForm.errored(e,JotForm.texts.maxDigitsError+" "+i);if((t||0==t)&&parseInt(e.value)<t)return JotForm.errored(e,JotForm.texts.inputCarretErrorA+" "+t);if((o||0==o)&&parseInt(e.value)>o)return JotForm.errored(e,JotForm.texts.inputCarretErrorB+" "+o);var r=!1;return e.up(".form-matrix-table")&&e.up(".form-matrix-table").select("input").each(function(t){t!==e&&t.hasClassName("form-validation-error")&&(r=!0)}),r?void 0:JotForm.corrected(e)}})},backStack:[],currentSection:!1,autoNext:function(e){if($("cid_"+e)){var t=$("cid_"+e).previous();if(t){var o=t.readAttribute("data-type");"control_radio"!==o&&"control_dropdown"!==o||t.observe("change",function(o){if(JotForm.isVisible(t)&&""!==o.target.value&&!o.target.hasClassName("form-radio-other")){var i=$("cid_"+e).down(".form-pagebreak-next");i&&i.triggerEvent&&(i.focus(),i.setStyle({fontWeight:"bold"}),setTimeout(function(){JotForm.currentSection===JotForm.getSection(t)&&(i.setStyle({fontWeight:"inherit"}),i.triggerEvent("mousedown"),i.triggerEvent("click"))},800))}})}}},handlePages:function(){var e,t=this,o=[];if($$(".form-label-left").length>0){var i=parseInt($$(".form-label-left")[0].getStyle("width")),r=parseInt($$(".form-all")[0].getStyle("width")),a=i>r/2?r/2:i;$$(".form-pagebreak-back-container").each(function(e){""===e.style.width&&(e.style.width=a-14+"px")})}if($$(".form-pagebreak").each(function(e,i){var r=$(e.parentNode.parentNode);i>=1?r.hide():JotForm.currentSection=r,o.push(r),r.pagesIndex=i+1,document.onkeypress=function(e){var t=(e=e||event||null).target?e.target:e.srcElement?e.srcElement:null;if(13==e.keyCode&&["text","radio","checkbox","select-one","select-multiple"].include(t.type))return!1;(13==e.keyCode||32==e.which)&&e.target.hasClassName("form-pagebreak-next")&&e.target.triggerEvent&&e.target.triggerEvent("mousedown")};var a=function(){if("undefined"!=typeof FormTranslation&&FormTranslation.properties&&"1"===FormTranslation.properties.firstPageOnly){var e=$$(".language-dd").length>0&&$$(".language-dd").first();if(!e)return;JotForm.currentSection===o.first()?e.show():e.hide()}},n=JotForm.getForm(r);r.select(".form-pagebreak-next").invoke("observe","click",function(){if(!JotForm.saving&&!JotForm.loadingPendingSubmission)if(JotForm.validateAll(n,r)||""!==getQuerystring("qp")){if(!t.noJump&&window.parent&&window.parent!=window&&window.parent.postMessage("scrollIntoView::"+n.id,"*"),!JotForm.nextPage)for(var e=$$(".form-all > .page-section"),o=e.indexOf(r);o<e.length;o++)if(!0!==JotForm.hidePages[parseInt(o,10)+2]){JotForm.nextPage=e[parseInt(o,10)+1];break}JotForm.nextPage?(JotForm.backStack.push(JotForm.hideFormSection(r)),JotForm.currentSection=JotForm.showFormSection(JotForm.nextPage),t.noJump||JotForm.currentSection.scrollIntoView(!0),JotForm.enableDisableButtonsInMultiForms()):r.next()&&(JotForm.backStack.push(JotForm.hideFormSection(r)),JotForm.currentSection=JotForm.showFormSection(r.next()),t.noJump||window.parent!=window||JotForm.currentSection.scrollIntoView(!0),JotForm.enableDisableButtonsInMultiForms()),JotForm.nextPage=!1,JotForm.saveForm&&(window.JFFormUserHelper&&window.JFFormUserHelper.SCLManager?window.JFFormUserHelper.SCLManager.hiddenSubmit():JotForm.hiddenSubmit(JotForm.getForm(r))),JotForm.iframeHeightCaller(),JotForm.runAllCalculations(!0),a(),JotForm.currentSection&&JotForm.currentSection.select(".form-html").each(function(e){e.innerHTML.match(/google.*maps/gi)&&(e.innerHTML=e.innerHTML)})}else try{JotForm.updateErrorNavigation(!0),$$(".form-button-error").invoke("remove"),$$(".form-pagebreak-next").each(function(e){if(!JotForm.isSourceTeam){var t=new Element("div",{className:"form-button-error"});t.insert(JotForm.texts.generalPageError),$(e.parentNode.parentNode).insert(t)}})}catch(e){}}),r.select(".form-pagebreak-back").invoke("observe","click",function(){if(!t.noJump&&window.parent&&window.parent!=window&&window.parent.postMessage("scrollIntoView::"+n.id,"*"),!JotForm.saving&&!JotForm.loadingPendingSubmission){JotForm.hideFormSection(r);for(var e=$$(".form-all > .page-section"),o=JotForm.backStack.pop();JotForm.backStack.length>0;){var i=e.indexOf(o)+1;{if(!0!==JotForm.hidePages[i])break;o=JotForm.backStack.pop()}}JotForm.currentSection=JotForm.showFormSection(o),t.noJump||window.parent!=window||JotForm.currentSection.scrollIntoView(!0),JotForm.nextPage=!1,JotForm.enableDisableButtonsInMultiForms(),JotForm.saveForm&&(window.JFFormUserHelper&&window.JFFormUserHelper.SCLManager?window.JFFormUserHelper.SCLManager.hiddenSubmit():JotForm.hiddenSubmit(JotForm.getForm(r))),$$(".form-button-error").invoke("remove"),JotForm.iframeHeightCaller(),a(),setTimeout(function(){JotForm.runAllCalculations(!0)},10)}})}),o.length>0){var n=$$(".form-section:not([id^=section_])");if(n.length>0&&(e=n[n.length-1]),e){e.pagesIndex=n.length,o.push(e),e.hide();var l=!1,s=null;if(JotForm.newDefaultTheme){var u=e.querySelectorAll('li[data-type="control_button"] .form-buttons-wrapper');u.length>0&&(l=!0,s=u[u.length-1])}var c=new Element("div",{className:"form-pagebreak-back-container"}),d=$$(".form-pagebreak-back-container")[0].select("button")[0];if(c.insert(d),l){s.insert({top:c});var m=s.childElements();s.innerHTML="",[".form-pagebreak-back-container",".form-submit-preview",".form-submit-print",".form-submit-reset",".paypal-submit-button-wrapper",".form-sacl-button",'.form-submit-button[type="submit"]',".form-pagebreak-next-container"].forEach(function(e){m.forEach(function(t){new Selector(e).match(t)&&s.insert({bottom:t})})})}else{var p=new Element("li",{className:"form-input-wide"}),f=new Element("div",{className:"form-pagebreak"});f.insert(c),p.insert(f),e.insert(p)}d.observe("click",function(){JotForm.saving||(e.hide(),JotForm.nextPage=!1)})}}},jumpToPage:function(){var e=document.get.jumpToPage,t=$$(".form-section:not([id^=section_])");e&&e>1&&!(e>t.length)&&(JotForm.hideFormSection(t[0]),JotForm.showFormSection(t[e-1]),e>1&&(JotForm.backStack=t.splice(0,e-1)),JotForm.runAllCalculations(!0))},hideFormSection:function(e){return e.addClassName("js-non-displayed-page"),e.style.display="none",e.style.position="absolute",e.style.top="-9999px",e.style.left="-9999px",e},showFormSection:function(e){e.removeClassName("js-non-displayed-page"),e.style.display="",e.style.position="",e.style.top="",e.style.left="";var t=e.querySelector("label");if(t&&!t.up(".form-section-closed")){var o=t.getAttribute("for");if(o){var i=document.getElementById(o);i&&i.focus()}}return setTimeout(function(){scrollTo(0,0)},50),e},handleFormCollapse:function(){var e=this,t=!1,o=0,i=JotForm.newDefaultTheme?84:60;$$(".form-collapse-table").each(function(r){var a=$(r.parentNode.parentNode);"form-section-closed"==a.className?a.closed=!0:a.select(".form-collapse-hidden").length<0&&(t=a,o++),r.observe("click",function(){if(a.closed){a.setStyle("overflow:visible; height:auto");var n=a.getHeight();t&&t!=a&&o<=1&&(t.className="form-section-closed",t.shift({height:i,duration:.5}),t.select(".form-collapse-right-show").each(function(e){e.addClassName("form-collapse-right-hide").removeClassName("form-collapse-right-show")}),t.setStyle("overflow:hidden;"),t.closed=!0),t=a,a.setStyle("overflow:hidden; height:"+i+"px"),setTimeout(function(){a.scrollTop=0,a.className="form-section"},1),a.shift({height:n,duration:.5,onStart:function(){a.select(".form-line[data-type=control_widget]").each(function(e){var t=e.id.split("_").last();JotForm.showWidget(t)})},onEnd:function(t){t.scrollTop=0,t.setStyle("height:auto; overflow:visible;"),e.noJump||t.scrollIntoView()},onStep:function(e){window.parent&&window.parent!=window&&window.parent.postMessage("setHeight:"+$$("body")[0].getHeight(),"*")}}),a.select(".form-collapse-right-hide").each(function(e){e.addClassName("form-collapse-right-show").removeClassName("form-collapse-right-hide")}),a.closed=!1,r.errored&&(r.select(".form-collapse-mid")[0].setStyle({color:""}).select("img")[0].remove(),r.errored=!1)}else a.scrollTop=0,a.shift({height:i,duration:.5,onEnd:function(e){e.className="form-section-closed"},onStep:function(e){window.parent&&window.parent!=window&&window.parent.postMessage("setHeight:"+$$("body")[0].getHeight(),"*")}}),a.setStyle("overflow:hidden;"),t&&t.select(".form-collapse-right-show").each(function(e){e.addClassName("form-collapse-right-hide").removeClassName("form-collapse-right-show")}),a.closed=!0;setTimeout(function(){e.handleIFrameHeight()},510)})})},handleAuthNet:function(){var e=$$(".jotform-form")[0],t=$$('input[name="simple_fpc"]')[0].value;Event.observe(e,"submit",function(e){if(JotForm.corrected($$(".cc_firstName")[0]),JotForm.isEditMode())return!0;if(JotForm.isPaymentSelected()&&JotForm.paymentTotal>0){var o;$$("#id_"+t+' [class*="cc"]').each(function(e){if(!e.getValue())throw o=JotForm.texts.ccMissingDetails,$break}),o?(Event.stop(e),setTimeout(function(){JotForm.errored($$(".cc_firstName")[0],o);var e=$$(".cc_number")[0];if(!e.isVisible()&&!e.up("li").hasClassName("form-field-hidden")&&!e.up("ul").hasClassName("form-field-hidden")&&$$("ul.form-section.page-section").length>1){var t=[];if($$(".form-submit-button").each(function(e){e.isVisible()&&t.push(e)}),t.length<1)return;var i=t[t.length-1];$$(".form-authnet-error").invoke("remove");var r=new Element("div",{className:"form-button-error form-authnet-error"});r.insert("<p>"+o+"</p>"),$(i.parentNode.parentNode).insert(r)}JotForm.enableButtons()},500)):JotForm.corrected($$(".cc_firstName")[0])}})},isCardinalValidationInitialized:!1,savePaypalProLog:function(e,t){new Ajax.Jsonp(JotForm.server,{parameters:{action:"saveStripeLog",formId:$$("form").first().readAttribute("id"),title:e,message:t,gateway:"PAYPALPROSCA"},evalJSON:"force",onComplete:function(e){console.log("Keep Log:",e),e.responseJSON?console.log("Log saved"):console.log("Log couldn't save")}})},handleSignatureEvents:function(){function e(t){t.removeClassName("signature-placeholder"),this.removeEventListener("mousedown",e)}var t=document.querySelectorAll(".jotform-form .signature-pad-wrapper");t&&t.length>0&&Array.from(t).forEach(function(t){var o=t.querySelector("canvas"),i=t.querySelector(".signature-line.signature-wrapper"),r=t.querySelector(".clear-pad-btn.clear-pad");o.addEventListener("mousedown",e.bind(this,i)),r.addEventListener("click",function(){i.addClassName("signature-placeholder"),o.addEventListener("mousedown",e.bind(this,i))})})},handlePaypalPro:function(){if($("creditCardTable")){var e=$$(".jotform-form")[0],t=$$('input[name="simple_fpc"]')[0].value;Event.observe(e,"submit",function(e){if(JotForm.isEditMode())return!0;if(JotForm.isPaymentSelected()&&JotForm.paymentTotal>0){var o="";JotForm.corrected($$(".paymentTypeRadios")[0]),$$(".paymentTypeRadios")[0].checked||$$(".paymentTypeRadios")[1].checked||(o="You must select a payment method"),$("input_"+t+"_paymentType_credit").checked&&$$("#id_"+t+' [class*="cc"]').each(function(e){if(!e.getValue())throw o="All fields are required",$break}),o?(JotForm.errored($$(".paymentTypeRadios")[0],o),Event.stop(e)):JotForm.corrected($$(".paymentTypeRadios")[0]);var i="subscription"===document.getElementById("payment-wrapper-songbird").getAttribute("data-paymenttype"),r="Yes"===document.getElementById("payment-wrapper-songbird").getAttribute("data-sca");if("undefined"!=typeof Cardinal&&r&&$("input_"+t+"_paymentType_credit").checked&&!i){Event.stop(e),JotForm.disableButtons();var a=document.getElementById("payment-wrapper-songbird").getAttribute("data-cardinalapikey"),n=document.getElementById("payment-wrapper-songbird").getAttribute("data-cardinalapiindentifier"),l=document.getElementById("payment-wrapper-songbird").getAttribute("data-cardinalorgunitid");(new songBirdInit).init({cardinalAPIkey:a,cardinalAPIidentifier:n,cardinalOrgUnitID:l}),JotForm.isCardinalValidationInitialized||(JotForm.isCardinalValidationInitialized=!0,Cardinal.on("payments.validated",function(e,t){var o=void 0==JotForm.forms[0]||void 0===JotForm.forms[0]?$($$(".jotform-form")[0].id):JotForm.forms[0];switch(JotForm.corrected($("creditCardTable")),e.ActionCode){case"SUCCESS":case"NOACTION":var i=e.Payment.ExtendedData.PAResStatus,r=e.Payment.ExtendedData.Enrolled,a=void 0!==e.Payment.ExtendedData.CAVV?e.Payment.ExtendedData.CAVV:"",n=void 0!==e.Payment.ExtendedData.ECIFlag?e.Payment.ExtendedData.ECIFlag:"",l=void 0!==e.Payment.ExtendedData.XID?e.Payment.ExtendedData.XID:"",s=void 0!==e.Payment.ExtendedData.DSTransactionId?e.Payment.ExtendedData.DSTransactionId:"",u=void 0!==e.Payment.ExtendedData.ThreeDSVersion?e.Payment.ExtendedData.ThreeDSVersion:"";o.insert(new Element("input",{name:"PAResStatus",type:"hidden"}).putValue(i)),o.insert(new Element("input",{name:"Enrolled",type:"hidden"}).putValue(r)),o.insert(new Element("input",{name:"CAVV",type:"hidden"}).putValue(a)),o.insert(new Element("input",{name:"ECIFlag",type:"hidden"}).putValue(n)),o.insert(new Element("input",{name:"XID",type:"hidden"}).putValue(l)),o.insert(new Element("input",{name:"DSTRANSACTIONID",type:"hidden"}).putValue(s)),o.insert(new Element("input",{name:"THREEDSVERSION",type:"hidden"}).putValue(u)),JotForm.savePaypalProLog("FORM_SUCCESS",JSON.stringify(e)),o.submit();break;case"FAILURE":JotForm.errored($("creditCardTable"),"Failed Authentication"),JotForm.enableButtons(),JotForm.savePaypalProLog("FORM_FAILURE",JSON.stringify(e));break;case"ERROR":JotForm.errored($$(".paymentTypeRadios")[0],"Failed to connect payment service please try later"),JotForm.enableButtons(),JotForm.savePaypalProLog("FORM_ERROR",JSON.stringify(e))}}))}}}),$$(".paymentTypeRadios").each(function(e){e.observe("click",function(){e.checked&&"express"===e.value&&JotForm.setCreditCardVisibility(!1),e.checked&&"credit"===e.value&&(JotForm.paymentTotal>0||0===Object.keys(JotForm.discounts).length)&&JotForm.setCreditCardVisibility(!0),JotForm.corrected($$(".paymentTypeRadios")[0]),JotForm.togglePaypalButtons(e.checked&&"express"===e.value)})})}},handlePaypalComplete:function(){if(!JotForm.isEditMode()&&!document.get.sid)try{(new _paypalCompleteJS).initialization()}catch(e){console.log("ERR::",e),JotForm.errored($$('li[data-type="control_paypalcomplete"]')[0],e),$$('li[data-type="control_paypalcomplete"]')[0]&&$$('li[data-type="control_paypalcomplete"] .form-textbox').each(function(e){e.disabled=!0})}},handleCybersource:function(){if(!(window.location.pathname.match(/^\/edit/)||["edit","inlineEdit","submissionToPDF"].indexOf(document.get.mode)>-1&&document.get.sid)){if("function"!=typeof __cybersource)return alert("PagSeguro payment script didn't work properly. Form will be reloaded"),void location.reload();JotForm.cybersource=__cybersource(),JotForm.cybersource.init()}},description:function(e,t){if("20"!=t){var o=!1;if(!$(e)){var i=e.replace(/[^\d]/gim,"");if($("id_"+i))e=$("id_"+i),o=!0;else{if(!$("section_"+i))return;e=$("section_"+i),o=!0}}$(e).setSliderValue&&(e=$($(e).parentNode));var r=JotForm.getContainer(e);if(r){var a,n=!1,l=new Element("div",{className:"form-description"}),s=new Element("div",{className:"form-description-arrow"}),u=new Element("div",{className:"form-description-arrow-small"}),c=new Element("div",{className:"form-description-content"});if("desc"in document.get&&"v2"==document.get.desc&&(n=!0,r.insert(a=new Element("div",{className:"form-description-indicator"})),l.addClassName("right")),c.insert(t),l.insert(s).insert(u).insert(c).hide(),r.insert(l),r.getWidth()/2<l.getWidth()&&l.setStyle("right: -"+(r.getWidth()-(n?100:20))+"px"),n){var d=a.measure("height");s.setStyle("top:"+(d/2-20)+"px"),u.setStyle("top:"+(d/2-17)+"px"),$(r).mouseEnter(function(){r.setStyle("z-index:10000"),r.hasClassName("form-line-active")||(r.addClassName("form-line-active"),r.__classAdded=!0),l.show()},function(){r.__classAdded&&(r.removeClassName("form-line-active"),r.__classAdded=!1),r.setStyle("z-index:0"),l.hide()}),$(e).observe("keydown",function(){r.setStyle("z-index:0"),l.hide()})}else o?($(e).addEventListener("touchstart",function(){r.setStyle("z-index:10000"),l.show()}),$(e).mouseEnter(function(){r.setStyle("z-index:10000"),l.show()}),$(e).addEventListener("mouseleave",function(){r.setStyle("z-index:0"),l.hide()})):($(r).mouseEnter(function(){r.setStyle("z-index:10000"),l.show()},function(){r.setStyle("z-index:0"),l.hide()}),$(e).observe("keyup",function(){r.setStyle("z-index:0"),l.hide()}),$(e).observe("focus",function(){r.setStyle("z-index:10000"),l.show()}),$(e).observe("blur",function(){r.setStyle("z-index:0"),l.hide()}))}}},validateAll:function(e,t){var o=function(){-1!==window.location.href.indexOf("stripeDebug")&&console.log.apply(console,arguments)};if(""!==getQuerystring("qp"))return!0;var i=!0;void 0==t&&(t=$$("body")[0]),t.select(".form-textarea-limit-indicator-error").each(function(e){JotForm.isVisible(e)&&(o("set to false because .form-textarea-limit-indicator-error"),i=!1)}),t.select(".form-datetime-validation-error").first()&&(o("set to false because .form-datetime-validation-error"),i=!1);var r=t.select(".form-spinner-input, .form-number-input, .form-grading-input");if(r.length>0&&r.each(function(e){e.id.split("_")[1];switch(e.readAttribute("data-type")){case"input-number":i=!!e.validateNumberInputs()&&i;break;case"input-spinner":i=!!e.validateSpinnerInputs()&&i;break;case"input-grading":i=!!e.validateGradingInputs()&&i}}),window.signatureForm){o("signature form");for(var a=jQuery(".pad"),n=0;n<a.length;n++){var l=a[n];if("true"===jQuery(l).attr("data-required")){jQuery("#id_"+jQuery(l).attr("data-id")).is(":visible")&&!1===JotForm.getSection(l).hasClassName("js-non-displayed-page")&&0==jQuery(l).jSignature("getData","base30")[1].length&&!jQuery(l).hasClass("edit-signature")?(i=!1,JotForm.errored(l,JotForm.texts.required)):JotForm.corrected(l)}}}if(void 0!==window.JCFServerCommon){o("widgets detected");$$(".widget-required, .widget-errored").each(function(e){if(JotForm.isVisible(e)){var t=e.hasClassName("widget-replaced");t&&e.errored&&JotForm.corrected(e);var o=e.up(".form-section");o.visible()&&"-9999px"!==o.style.top&&0===e.getValue().length&&(i=!!t&&JotForm.errored(e,JotForm.texts.required))}})}var s="";if(e&&e.id&&(s="#"+e.id+" "),$$(s+'*[class*="validate"]').each(function(e){if(JotForm.payment&&e.up(".form-line")){if(e.up(".form-line").getAttribute("data-type")=="control_"+JotForm.payment){var r=JotForm.getContainer(e).select('input[class*="validate"],select[class*="validate"]').first()==e;if(e.name&&!e.name.match("cc_")&&!r)return}}o("looping inputs with validation :"),o(e),void 0!==e.validateInput?e.validateInput&&e.validateInput()||(i=JotForm.hasHiddenValidationConflicts(e),"BODY"!==t.tagName&&e.id&&0===t.select("#"+e.id).length&&(i=!0),o("ret setted "+i)):o("no required continuing")}),!JotForm.isHermesTeam||!JotForm.handleHermesFormErrors||i)return o("final ret value "+i),i;JotForm.handleHermesFormErrors()},errored:function(e,t){if(JotForm.nextPage=!1,(e=$(e)).errored)return!1;if(e.runHint&&e.runHint(),-1==this.url.search("https"))var o="http://cdn.jotfor.ms/";else o="https://cdn.jotfor.ms/";if(JotForm.isCollapsed(e)){var i=JotForm.getCollapseBar(e);i.errored||(JotForm.newDefaultTheme?i.select(".form-collapse-mid")[0].insert({top:'<img width="30px" height= "30px" src="'+o+'images/exclamation-octagon.png"> '}).setStyle({color:"red"}):i.select(".form-collapse-mid")[0].insert({top:'<img src="'+o+'images/exclamation-octagon.png"> '}).setStyle({color:"red"}),i.errored=!0)}var r=JotForm.getContainer(e);if(!r)return!1;e.errored=!0,e.addClassName("form-validation-error"),r.addClassName("form-line-error");var a=r;return(a=r.select(".form-input")[0])||(a=r.select(".form-input-wide")[0]),a||(a=r),a.select(".form-error-message").invoke("remove"),a.insert(new Element("div",{className:"form-error-message"}).insert('<img src="'+o+'images/exclamation-octagon.png"> '+t).insert(new Element("div",{className:"form-error-arrow"}).insert(new Element("div",{className:"form-error-arrow-inner"})))),JotForm.iframeHeightCaller(),JotForm.updateErrorNavigation(),!1},corrected:function(e){(e=$(e)).errored=!1;var t=JotForm.getContainer(e);if(!t)return!0;if(t.select('*[class*="validate"]').each(function(e){e.errored=!1}),t.select(".form-validation-error").invoke("removeClassName","form-validation-error"),t.removeClassName("form-line-error"),t.select(".form-error-message").invoke("remove"),JotForm.isCollapsed(e)){var o=JotForm.getCollapseBar(e);o.errored&&o.up(".form-section-closed")&&0==o.up(".form-section-closed").select(".form-validation-error").length&&(o.select(".form-collapse-mid")[0].setStyle({color:""}).select("img")[0].remove(),o.errored=!1)}return setTimeout(function(){0==$$(".form-validation-error").length&&JotForm.hideButtonMessage()},100),JotForm.iframeHeightCaller(),JotForm.updateErrorNavigation(),!0},hideButtonMessage:function(){"cardform"==window.FORM_MODE&&$$(".form-submit-button").each(function(e){var t=e.parentNode.parentNode,o=t.select(".form-button-error")[0];if(o&&t.hasClassName("jfCard")){var i=t.getBoundingClientRect(),r=o.getBoundingClientRect(),a=t.select(".jfCard-question")[0];if(a){var n=a.getBoundingClientRect(a);t.style.maxHeight=i.height+r.height,a.style.maxHeight=n.height+r.height,t.parentNode.style.paddingBottom="unset"}}}),$$(".form-button-error").invoke("remove")},showButtonMessage:function(e){this.hideButtonMessage(),$$(".form-submit-button").each(function(t){if(!(JotForm.isSourceTeam||t&&t.getAttribute("class").indexOf("form-sacl-button")>-1)){var o=new Element("div",{className:"form-button-error",role:"alert"});o.insert("<p>"+(void 0!==e?e:JotForm.texts.generalError)+"</p>");var i=t.parentNode.parentNode;if($(i).insert(o),i.hasClassName("jfCard")){var r=i.getBoundingClientRect(),a=document.querySelector("#cardProgress"),n=a.getBoundingClientRect(),l=o.getBoundingClientRect();if(l.bottom>n.top&&"none"!==getComputedStyle(a).display){var s=i.select(".jfCard-question")[0];if(s){var u=s.getBoundingClientRect(s);i.style.maxHeight=r.height-l.height,s.style.maxHeight=u.height-l.height,i.parentNode.style.paddingBottom=l.height}}}}})},_errTimeout:null,updateErrorNavigation:function(e){void 0!==window.ErrorNavigation&&(JotForm._errTimeout&&clearTimeout(JotForm._errTimeout),JotForm._errTimeout=setTimeout(function(){window.ErrorNavigation.update(JotForm.currentSection,e),clearTimeout(JotForm._errTimeout)},50))},disableGoButton:function(){-1==navigator.appVersion.indexOf("iPhone")&&-1==navigator.appVersion.indexOf("iPad")&&-1==navigator.appVersion.indexOf("Android")||$$("input").each(function(e){e.observe("keypress",function(e){13===(e.keyCode?e.keyCode:e.which)&&e.preventDefault()})})},disableSubmitForCard:function(e,t){"cardform"===window.FORM_MODE&&window.CardForm&&window.CardForm.cards&&(JotForm.disableSubmitButton=t,JotForm.disableSubmitButtonMessage=e&&e.disableSubmitErrorMessage?e.disableSubmitErrorMessage:"You are not eligible to submit this form.",t||JotForm.toggleDisableSubmitMessage())},toggleDisableSubmitMessage:function(){var e=window.CardForm.getLastVisibleIndex();if("number"==typeof e&&document.getElementsByClassName("jfCard")){var t=document.getElementsByClassName("jfCard")[e],o=t&&t.querySelector(".jfCard-disableSubmitError");if(!t||!o)return;o.innerHTML="<p>"+JotForm.disableSubmitButtonMessage+"</p>",o.style.display=JotForm.disableSubmitButton?"block":"none",JotForm.disableSubmitButton?t.addClassName("jfCard-submitErrored"):t.classList.remove("jfCard-submitErrored")}},validator:function(){if(this.debugOptions&&this.debugOptions.stopValidations)return this.info("Validations stopped by debug parameter"),!0;$A(JotForm.forms).each(function(e){e.validationSet||(e.validationSet=!0,e.observe("submit",function(t){try{if($("payment_total_checksum")&&($("payment_total_checksum").value=JotForm.paymentTotal),$$(".form-submit-button")&&$$(".form-submit-button").length>0){var o=!1;$$(".form-submit-button").each(function(e){JotForm.isVisible(e.parentNode)&&(o=!0)}),o||(JotForm.enableButtons(),t.stop())}if(JotForm.disableSubmitButton)return JotForm.toggleDisableSubmitMessage(),JotForm.enableButtons(),void t.stop();if(!JotForm.validateAll(e)){if(JotForm.enableButtons(),JotForm.showButtonMessage(),JotForm.updateErrorNavigation(!0),JotForm.submitError)if("jumpToSubmit"==JotForm.submitError){var i=[];$$(".form-submit-button").each(function(e){JotForm.isVisible(e)&&i.push(e)}),i.length>0&&(i[i.length-1].up(".form-line")?i[i.length-1].up(".form-line").scrollIntoView(!1):i[i.length-1].scrollIntoView(!1))}else"jumpToFirstError"==JotForm.submitError&&setTimeout(function(){var e=$$(".form-error-message").first();if(e){JotForm.isCollapsed(e)&&JotForm.getCollapseBar(e).run("click");var t=e.up(".form-line");if(!JotForm.noJump&&t){t.scrollIntoView();var o=t.down("input,select,textarea");if(o&&o.isVisible())o.focus();else{var i=t.down(".form-label");if(i){var r=document.getElementById(i.getAttribute("for"));r&&r.focus()}}}}},100);return $$(".custom-hint-group").each(function(e){e.showCustomPlaceHolder()}),void t.stop()}if($$(".form-radio-other,.form-checkbox-other").each(function(e){!e.checked&&JotForm.getOptionOtherInput(e)&&JotForm.getOptionOtherInput(e).disable()}),JotForm.runAllCalculations(!0),$$("textarea.form-textarea:first-child").each(function(e){e.value&&(e.value=function(e){return e.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#039;")}(e.value),textEl=e.clone(),textEl.writeAttribute("disabled","true"),textEl.removeClassName("custom-hint-group"),textEl.innerHTML=e.value,e.up().appendChild(textEl),e.hide())}),$$("input, select, textarea").length>900&&$$(".form-matrix-table").each(function(e){var t={};e.select("input, select").each(function(e){var o=e.id.split("_"),i=o[2],r=o[3];"radio"==e.type?e.checked?t[i]=e.value:i in t||(t[i]=!1):(i in t||(t[i]={}),"checkbox"==e.type?t[i][r]=!!e.checked&&e.value:t[i][r]=e.value),e.writeAttribute("disabled","true")});try{var o=e.down("input, select").readAttribute("name").split("[")[0],i=new Element("textarea").setStyle({display:"none"});e.insert({after:i}),i.value=JSON.stringify(t),i.writeAttribute("name",o)}catch(e){console.log(e)}}),JotForm.autoFillDeployed&&!JotForm.payment){if(void 0!==window.localStorage){var r=$$("form").first().readAttribute("id")+$$("form").first().readAttribute("name");AutoFill.getInstance(r).stopSavingData(),window.localStorage.clear()}}else JotForm.isNewSaveAndContinueLaterActive&&void 0!==window.localStorage&&window.localStorage.removeItem("JFU_SCL_details_"+$$("form").first().readAttribute("id"))}catch(e){return JotForm.error(e),void t.stop()}if($$(".time-dropdown").each(function(e){e.enable()}),$$(".form-checkbox, .form-radio").each(function(e){var t=e.up(".form-line")?e.up(".form-line").getAttribute("data-type"):null,o=JotForm.stripe&&void 0!==JotForm.stripe.validateStripe;if(t&&["control_paypalcomplete","control_stripe","control_paypalSPB"].indexOf(t)>-1){if("control_stripe"===t&&o)return!1;if("control_stripe"!==t)return!1}e.up(".form-product-item")&&e.disabled&&e.checked&&e.observe("click",function(e){e.preventDefault(),setTimeout(JotForm.countTotal,20)}),e.enable()}),$$(".conditionallyDisabled").each(function(e){e.enable()}),"dontClear"!==JotForm.clearFieldOnHide&&$$(".form-field-hidden input",".form-field-hidden select",".form-field-hidden textarea").each(function(e){"simple_fpc"!=e.name&&("INPUT"==e.tagName&&["checkbox","radio"].include(e.type)?e.checked=!1:e.clear())}),JotForm.compact&&0==JotForm.imageSaved)return t.stop(),window.parent.saveAsImage(),void $(document).observe("image:loaded",function(){var t;$(document.body).insert(t=new Element("div").setStyle("position:fixed;top:0;left:0;right:0;bottom:0;background:rgba(0,0,0,0.85);")),t.insert('<table height="100%" width="100%"><tr><td align="center" valign="middle" style="font-family:Verdana;color:#fff;font-size:16px;">Please 222222 Wait...</td></tr></table>'),setTimeout(function(){e.submit()},1e3)});"cardform"==window.FORM_MODE&&Array.prototype.forEach&&CardForm&&CardForm.cards&&window.toMarkdown&&Array.prototype.forEach.call(CardForm.cards,function(e,t){e.markdownEditor&&e.markdownEditor.setMarkdownFromHtml&&e.markdownEditor.setMarkdownFromHtml()});var a=$$('[data-invisible-captcha="true"]');if(!!a.length){var n=a[0].select('[name="recaptcha_invisible"]')[0];if(!(n&&n.getValue()))return window.grecaptcha.execute(),JotForm.enableButtons(),void t.stop()}if(JotForm.isEncrypted){var l={};$A(JotForm.conditions).each(function(e){e.disabled||"url"!==e.type||(l[e.id]=JotForm.checkCondition(e))}),JotForm.encryptAll(t,function(t){t&&(Object.keys(l).length>0&&e.insert(new Element("input",{type:"hidden",name:"redirectConditions"}).putValue(JSON.stringify(l))),e.submit())})}}),$$("#"+e.id+' *[class*="validate"]').each(function(e){JotForm.setFieldValidation(e)}),$$(".form-upload").each(function(e){try{var t=!!e.validateInput,o=e.validateInput||Prototype.K;e.validateInput=function(){if(e.errored=!1,!1!==o()){if(!e.files)return!0;var t=e.readAttribute("accept")||e.readAttribute("data-file-accept")||e.readAttribute("file-accept")||"",i=e.readAttribute("maxsize")||e.readAttribute("data-file-maxsize")||e.readAttribute("file-maxsize")||"",r=e.readAttribute("minsize")||e.readAttribute("data-file-minsize")||e.readAttribute("file-minsize")||"",a=t.strip().toLowerCase().split(/\s*\,\s*/gim);for(var n in a)"string"==typeof a[n]&&(a[n]="."===a[n].slice(0,1)?a[n].slice(1):a[n]);var l=1024*parseInt(i,10),s=1024*parseInt(r,10),u=e.files[0];if(!u)return!0;u.fileName||(u.fileName=u.name);var c="";if(JotForm.getFileExtension(u.fileName)&&(c=JotForm.getFileExtension(u.fileName)),"*"!=t&&!a.include(c)&&!a.include(c.toLowerCase()))return JotForm.errored(e,JotForm.texts.uploadExtensions+"<br/>"+t);var d=e.readAttribute("data-imagevalidate")||!1,m="jpeg, jpg, png, gif, bmp";if((a.include(c)||a.include(c.toLowerCase()))&&d&&("yes"===d||"true"===d)&&(m.include(c)||m.include(c.toLowerCase()))&&void 0!==window.FileReader){var p=new FileReader;p.onloadend=function(t){var o={filename:u.name,size:u.size,binary:function(e){for(var t="",o=new Uint8Array(e),i=o.length,r=0;r<i;r++)t+=String.fromCharCode(o[r]);return t}(t.target.result)};ImageInfo.loadInfo(o,function(){if("UNKNOWN"===ImageInfo.getAllFields(u.name).format)return JotForm.errored(e,"You have uploaded an invalid image file type.")})},p.readAsArrayBuffer(u)}return u.fileSize||(u.fileSize=u.size),u.fileSize>l&&0!==l?JotForm.errored(e,JotForm.texts.uploadFilesize+" "+i+"Kb"):u.fileSize<s?JotForm.errored(e,JotForm.texts.uploadFilesizemin+" "+r+"Kb"):JotForm.corrected(e)}},t||(e.addClassName("validate[upload]"),e.observe("blur",e.validateInput))}catch(e){JotForm.error(e)}}))})},dateFromField:function(e){var t="";if((e.indexOf("-")>-1||e.indexOf("+")>-1)&&(t=e.split(/[\+\-]/)[1],t=e.indexOf("-")>-1?"-"+t:""+t,e=e.split(/[\+\-]/)[0]),e=e.replace(/[{}]/g,""),!$("year_"+e)||!$("year_"+e).value)return!1;var o=$("year_"+e).value,i=$("month_"+e).value,r=$("day_"+e).value,a=new Date(o,i-1,r);return t.length&&a.setDate(a.getDate()+parseInt(t,10)),a},getInputValidations:function(e){return e?e.className.replace(/.*validate\[(.*)\].*/,"$1").split(/\s*,\s*/):[]},setFieldValidation:function(e){var t=this,o=JotForm.validationRegexes;e.validateInput=function(i,r){function a(e){return-1!==["radio","checkbox"].indexOf(e.type)}function n(e){return a(e)?e.checked:!!e.value&&!e.value.strip(" ").empty()}if(document.get.ignoreValidation&&"true"===document.get.ignoreValidation)return!0;if(!JotForm.isVisible(e)&&!e.hasClassName("g-recaptcha-response"))return!0;if("control_appointment"===JotForm.getContainer(e).getAttribute("data-type"))return e.hasClassName("validate")&&!e.hasClassName("valid")?(JotForm.errored(e,JotForm.texts.required),!1):(JotForm.corrected(e),!0);if("control_datetime"===JotForm.getContainer(e).getAttribute("data-type")&&!JotForm.getContainer(e).down('input[id*="month_"]').dateTimeCheck(!1))return!1;if("control_time"===JotForm.getContainer(e).getAttribute("data-type")&&!JotForm.getContainer(e).down('select[id*="hourSelect"]').timeCheck())return!1;$(e.parentNode).hasClassName("form-matrix-values")||e.hasClassName("form-subproduct-option")||e.hasClassName("time-dropdown")||e.id.match(/_quantity_/)||e.id.match(/_custom_/)||JotForm.corrected(e);var l=JotForm.getInputValidations(e);if(!0===e.hinted&&(e.clearHint(),setTimeout(function(){e.hintClear()},150)),"function"==typeof e.overridenValidateInput)return e.overridenValidateInput(e,i,r);if("input-spinner"===e.readAttribute("data-type")&&e.value)return e.validateSpinnerInputs();if("input-grading"===e.readAttribute("data-type")&&e.value)return e.validateGradingInputs();if("input-number"===e.readAttribute("data-type")&&e.value)return e.validateNumberInputs();if(e.readAttribute("data-min-amount"))return e.validateMinimum();if(e.limitValidation&&e.classList.contains("mdInput")){var s=e.limitValidation();if(!1!==s)return JotForm.errored(e,s)}if(!e.up(".form-line")||!e.up(".form-line").down(".form-textarea-limit-indicator-error")){if(l.include("disallowFree"))for(var u=0;u<JotForm.freeEmailAddresses.length;u++)if(e.value.toLowerCase().indexOf("@"+JotForm.freeEmailAddresses[u]+".")>-1)return JotForm.errored(e,JotForm.texts.freeEmailError,r);if(l.include("minSelection")||l.include("minselection")){var c=parseInt(e.readAttribute("data-minselection")),d=0;if(e.up(".form-line").select("input[type=checkbox]").each(function(e){e.checked&&d++}),d<c)return JotForm.errored(e,JotForm.texts.minSelectionsError.replace(/\s*$/,"")+" "+c+".",r)}if(l.include("maxselection")){var m=parseInt(e.readAttribute("data-maxselection"));d=0;if(e.up(".form-line").select("input[type=checkbox]").each(function(e){e.checked&&d++}),d>m)return JotForm.errored(e,JotForm.texts.maxSelectionsError.replace(/\s*$/,"")+" "+m+".",r)}if(l.include("disallowPast")){var p=e.id.split("_").last(),f=JotForm.getDateValue(p).split("T")[0],h=new Date,v=h.getMonth()+1<10?"0"+(h.getMonth()+1):h.getMonth()+1,g=h.getDate()<10?"0"+h.getDate():h.getDate(),y=h.getFullYear()+"-"+v+"-"+g;if(JotForm.checkValueByOperator("before",JotForm.strToDate(y),JotForm.strToDate(f)))return JotForm.errored(e,JotForm.texts.pastDatesDisallowed,r)}if("control_datetime"===JotForm.getContainer(e).getAttribute("data-type")&&e.readAttribute("data-age")&&e.value){var b=e.readAttribute("data-age"),F=new Date,_=new Date(e.value),w=e.value.split(e.readAttribute("data-seperator"));"ddmmyyyy"===e.readAttribute("data-format")?_=new Date(w[2],parseInt(w[1],10)-1,w[0]):"mmddyyyy"===e.readAttribute("data-format")?_=new Date(w[2],parseInt(w[0],10)-1,w[1]):"yyyymmdd"===e.readAttribute("data-format")&&(_=new Date(w[0],parseInt(w[1],10)-1,w[2]));var J=F.getFullYear()-_.getFullYear(),x=F.getMonth()-_.getMonth();if((x<0||0===x&&F.getDate()<_.getDate())&&J--,J<b){var C=JotForm.texts.ageVerificationError.replace("{minAge}",b);return JotForm.errored(e,C),!1}}if(l.include("limitDate"))try{p=e.id.split("_").last();var k=JotForm.dateLimits[p];if(!1!==k&&""!=$("year_"+p).value&&""!=$("month_"+p).value&&""!=$("day_"+p).value){if("custom"in k&&!1!==k.custom&&Array.isArray(k.custom))for(var S=0;S<k.custom.length;S++)if(k.custom[S]){var E=$("year_"+p).value;v=JotForm.addZeros($("month_"+p).value,2),g=JotForm.addZeros($("day_"+p).value,2);if(k.custom[S].indexOf("{")>-1){var A=JotForm.dateFromField(k.custom[S]);if((A=JotForm.addZeros(A.getFullYear(),2)+"-"+JotForm.addZeros(A.getMonth()+1,2)+"-"+JotForm.addZeros(A.getDate(),2))==E+"-"+v+"-"+g)return JotForm.errored(e,JotForm.texts.dateLimited,r);return}if(k.custom[S]===E+"-"+v+"-"+g||"string"==typeof k.custom[S]&&5===k.custom[S].length&&k.custom[S]===v+"-"+g||"string"==typeof k.custom[S]&&2===k.custom[S].length&&k.custom[S]==g)return JotForm.errored(e,JotForm.texts.dateLimited,r)}var N=new Date($("year_"+p).value,$("month_"+p).value-1,$("day_"+p).value);if("ranges"in k&&!1!==k.ranges&&Array.isArray(k.ranges))for(S=0;S<k.ranges.length;S++)if(k.ranges[S]&&-1!==k.ranges[S].indexOf(">")){var T=k.ranges[S].split(">");if(T[0].indexOf("{")>-1)j=JotForm.dateFromField(T[0]);else{var M=T[0].split("-");j=new Date(M[0],parseInt(M[1])-1,M[2])}if(T[1].indexOf("{")>-1)q=JotForm.dateFromField(T[1]);else{var I=T[1].split("-");q=new Date(I[0],parseInt(I[1])-1,I[2])}if(q&&(q.setDate(q.getDate()+1),N.getTime()>=j.getTime()&&N.getTime()<q.getTime()))return JotForm.errored(e,JotForm.texts.dateLimited,r)}var O=JotForm.getDayOfWeek(N);if(O in k.days&&0==k.days[O])return JotForm.errored(e,JotForm.texts.dateLimited,r);if("future"in k&&!1===k.future){if(N>(D=new Date))return JotForm.errored(e,JotForm.texts.dateLimited,r)}if("past"in k&&!1===k.past){var D=new Date,L=new Date;if(L.setDate(D.getDate()-1),N<L)return JotForm.errored(e,JotForm.texts.dateLimited,r)}if("start"in k&&0!=k.start&&""!=k.start){if(3==(M=k.start.split("-")).length){if(N<(j=new Date(M[0],M[1]-1,M[2])))return JotForm.errored(e,JotForm.texts.dateLimited,r)}else if(k.start.indexOf("{")>-1){var j;if(N<(j=JotForm.dateFromField(k.start)))return JotForm.errored(e,JotForm.texts.dateLimited,r)}}if("end"in k&&0!=k.end&&""!=k.end){if(3==(I=k.end.split("-")).length){if(N>(q=new Date(I[0],I[1]-1,I[2])))return JotForm.errored(e,JotForm.texts.dateLimited,r)}else if(k.end.indexOf("{")>-1){var q;if(N>(q=JotForm.dateFromField(k.end)))return JotForm.errored(e,JotForm.texts.dateLimited,r)}}}}catch(e){console.log(e)}if(l.include("validateLiteDate")&&e.hasClassName("invalidDate")){var P=e.readAttribute("placeholder");return JotForm.errored(e,JotForm.texts.dateInvalid.replace("{format}",P),r)}if(l.include("Email_Confirm")){var B=e.id.replace(/.*_(\d+)(?:_confirm)?/gim,"$1");if($("input_"+B).value!=$("input_"+B+"_confirm").value)return JotForm.errored(e,JotForm.texts.confirmEmail,r);if($("input_"+B+"_confirm").value&&!o.email.test($("input_"+B+"_confirm").value))return JotForm.errored(e,JotForm.texts.email,r)}if(l.include("required")){if("control_signature"==JotForm.getContainer(e).getAttribute("data-type")){var R=e;if("true"===jQuery(R).attr("data-required")){if(jQuery("#id_"+jQuery(R).attr("data-id")).is(":visible"))return 0!=jQuery(R).jSignature("getData","base30")[1].length||jQuery(R).hasClass("edit-signature")?JotForm.corrected(e):JotForm.errored(e,JotForm.texts.required,r)}}if("INPUT"==e.tagName&&"file"==e.readAttribute("type")){var V=e.up(".form-input")||e.up(".form-input-wide");return"multiple"===e.readAttribute("multiple")||e.hasAttribute("multiple")?JotForm.isFillingOffline()?e.value.empty()?JotForm.errored(e,JotForm.texts.required,r):JotForm.corrected(e):e.up("div[class*=validate[multipleUpload]]").validateInput():e.value.empty()&&!(e.uploadMarked||V&&V.uploadMarked)?JotForm.errored(e,JotForm.texts.required,r):JotForm.corrected(e)}if("INPUT"!=e.tagName||$(e.parentNode).hasClassName("form-matrix-values")||"radio"!=e.readAttribute("type")&&"checkbox"!=e.readAttribute("type")){if(("INPUT"==e.tagName||"SELECT"==e.tagName)&&($(e).up().hasClassName("form-matrix-values")||$(e).up(1).hasClassName("form-matrix-values"))){var H=e.up("table")?e.up("table"):e.up(".jfMatrix"),U=Array.from(H.querySelectorAll("input,select")),z="cardform"===window.FORM_MODE?H.querySelectorAll(".jfMatrixTable-row,.jfMatrixScale,.jfMatrixInputList-item,.jfMatrixChoice-table"):H.rows,W=Array.from(z).map(function(e){return Array.from(e.querySelectorAll("input,select"))}).filter(function(e){return e.length}).map(function(e){return e.map(n).any()}).every();return l.include("requireEveryRow")&&!W?JotForm.errored(e,JotForm.texts.requireEveryRow,r):l.include("requireOneAnswer")&&!U.map(n).any()?JotForm.errored(e,JotForm.texts.requireOne,r):!l.include("requireEveryCell")||(U.map(a).every()?W:U.map(n).every())?JotForm.corrected(e):JotForm.errored(e,JotForm.texts.requireEveryCell,r)}if("INPUT"!==e.tagName&&"SELECT"!==e.tagName||!e.hasClassName("form-subproduct-option")){if(e.name&&e.name.include("["))try{if("matrix"===$(e).getAttribute("data-component")&&($(e).up().hasClassName("form-matrix-values-disabled")||$(e).up(1).hasClassName("form-matrix-values-disabled")))return!0;oe=t.getContainer(e);e.hasClassName("form-address-search")&&oe.select(".jfQuestion-clean").length>0?inputs=[e]:inputs=oe.select("input,select[name*="+e.name.replace(/\[.*$/,"")+"]");var Q=inputs.map(function(t){if(t.hasClassName("form-address-state")){var o=oe.select(".form-address-country")[0].value;if("United States"!=o&&"Canada"!=o&&""!=o)return t.removeClassName("form-validation-error"),t.__skipField=!0,!1}else t.__skipField&&(t.__skipField=!1);if(t.id.match(/_donation/))return 0==t.getValue();if("cardform"!==window.FORM_MODE&&t.name&&t.name.match(/cc_/))return 0==JotForm.paymentTotal;if(t.id.match(/input_[0-9]+_quantity_[0-9]+_[0-9]+/)){var i=$(t.id.replace("_quantity","").match(/input_[0-9]+_[0-9]+/)[0]),a=$$('[id*="'+t.id.match(/input_[0-9]*/)[0]+'"][type="'+i.getAttribute("type")+'"]');if(6===t.id.split("_").length)var n=$$('[id*="'+t.id.replace(/_[0-9]*_[0-9]*$/,"")+'"]');if(i.checked&&!n&&(isNaN(t.value)||0==t.value||t.value.empty())||!a.map(function(e){return e.checked}).any()||i.checked&&n&&!n.map(function(e){return e.value>0}).any())return t.addClassName("form-validation-error"),!0}if(t.className.replace(/.*validate\[(.*)\].*/,"$1").split(/\s*,\s*/).include("required")&&JotForm.isVisible(t)){if(t.value.empty()||"Please Select"==t.value.strip()){if("cardform"!=window.FORM_MODE&&t.hasClassName("form-dropdown")&&t.hasAttribute("multiple")){for(var l=0,s=0,u=1;u<t.length;u++)t[u].selected&&l++,t[u].selected&&t[u].value.empty()&&s++;if(0==l)return!0;if(l>=1)return!(l>s)}return r||t.addClassName("form-validation-error"),!0}if(JotForm.getContainer(t).hasClassName("form-datetime-validation-error"))return JotForm.errored(e,"Enter a valid date",r)}return t.hasClassName("js-forMixed")||t.removeClassName("form-validation-error"),!1});if(JotForm.payment&&oe.getAttribute("data-type").match(JotForm.payment)&&JotForm.isEditMode())return JotForm.corrected(e);if(Q.any()){if(JotForm.payment&&oe.getAttribute("data-type").match(JotForm.payment)&&JotForm.isPaymentSelected()&&0==JotForm.paymentTotal)return JotForm.corrected(e);if(e.hasClassName("form-address-search")&&oe.select(".jfQuestion-clean").length<1)return JotForm.corrected(e);var Y=!1,Z=JotForm.texts.required;return Q.map(function(e,t){if(e){var o=inputs[t];return o.hasClassName("js-forMixed")&&(Z=JotForm.texts.incompleteFields,o.hasClassName("forEmail")&&"function"==typeof o.validateEmailField&&(Z=JotForm.texts.email,o.validateEmailField())),Y=!0,JotForm.errored(inputs[t],Z,r)}}),!Y}JotForm.corrected(e)}catch(t){return JotForm.error(t),JotForm.corrected(e)}}else if(e.hasClassName("form-subproduct-quantity")){var G=e.id.replace(/_[0-9]*_[0-9]*$/,"");if($(G.replace(/_quantity/,"")).checked)return $A($$('[id*="'+G+'"]')).map(function(e){return e.getSelected().value>0||e.value>0}).any()?JotForm.corrected(e):JotForm.errored(e,JotForm.texts.required,r)}}else{var K=e.up(".form-"+e.type+"-item")?e.up(".form-"+e.type+"-item").down(".form-"+e.type+"-other-input"):null;if(K&&e.checked&&""==K.value)return JotForm.errored(e,JotForm.texts.required);var X=e.name.substr(0,e.name.indexOf("[")),ee=X+"[other]",te=[];if(document.getElementsByName(ee)[0]){if(te=$A(document.getElementsByName(X+"[]")),te[te.length]=document.getElementsByName(ee)[0],!te.map(function(e){return e.checked}).any())return JotForm.errored(e,JotForm.texts.required,r)}else{var oe=JotForm.getContainer(e);if(JotForm.payment&&oe.getAttribute("data-type").match(JotForm.payment)){if(!$A(document.getElementsByName(e.name)).map(function(e){if(JotForm.isVisible(e)){if(("checkbox"===e.readAttribute("type")||"radio"===e.readAttribute("type"))&&e.value.indexOf("_expanded")>-1)return!!e.checked&&$A($$("#"+e.id+"_subproducts .form-subproduct-quantity")).map(function(e){return e.getSelected().value>0||e.value>0}).any();if($(e.id+"_custom_price"))return e.checked&&$(e.id+"_custom_price").getValue()>0;var t=!!e.up(".form-product-item")&&e.up(".form-product-item").down('select[id*="quantity"], input[id*="quantity"]');return t?e.checked&&t.getValue()>0:e.checked}if(JotForm.productPages&&JotForm.productPages.totalPage>1&&oe.select(".product--selected").length>0)return JotForm.corrected(e),!0}).any()||"cardform"===window.FORM_MODE&&0===oe.select(".product--selected").length)return e.hasClassName("paymentTypeRadios")?JotForm.errored(e,"Please select payment method.",r):JotForm.errored(e,JotForm.texts.required,r);$A(oe.querySelectorAll('select[id*="quantity"], input[id*="quantity"]')).forEach(function(e){e.getValue()>0&&JotForm.corrected(e)})}else if(0===oe.select("input:checked").length)return JotForm.errored(e,JotForm.texts.required,r)}}if(e.__skipField)return JotForm.corrected(e);if("textarea"===e.tagName.toLowerCase()&&e.hasClassName("form-custom-hint")&&!e.up("div").down(".nicEdit-main"))return JotForm.errored(e,JotForm.texts.required,r);if(e.hasClassName("form-textarea")&&e.up("div").down(".nicEdit-main")){if(e.up("div").down(".nicEdit-main").innerHTML.stripTags().replace(/\s/g,"").replace(/&nbsp;/g,"").empty()||e.readAttribute("data-customhint")&&e.readAttribute("data-customhint")==e.up("div").down(".nicEdit-main").innerHTML)return JotForm.errored(e,JotForm.texts.required,r)}else if("control_datetime"===JotForm.getContainer(e).getAttribute("data-type")){if(!e.value||e.value.strip(" ").empty())return JotForm.errored(e,JotForm.texts.required,r);if(e.id&&e.id.indexOf("lite_mode_")>-1){var ie=e.readAttribute("seperator")||e.readAttribute("data-seperator");P=(e.readAttribute("format")||e.readAttribute("data-format")).toLowerCase();if(e.value.length!==2*ie.length+P.length)return JotForm.errored(e,JotForm.texts.dateInvalid.replace("{format}",P),r)}if(JotForm.getContainer(e).hasClassName("form-datetime-validation-error"))return JotForm.errored(e,"Enter a valid date",r)}else if((!e.value||e.value.strip(" ").empty()||e.value.replace("<br>","").empty()||"Please Select"==e.value)&&"radio"!=e.readAttribute("type")&&"checkbox"!=e.readAttribute("type")&&!$(e.parentNode).hasClassName("form-matrix-values")&&"control_address"!==JotForm.getContainer(e).getAttribute("data-type")){if("cardform"!=window.FORM_MODE&&e.hasClassName("form-dropdown")&&e.hasAttribute("multiple")){var re=0,ae=0;for(u=1;u<e.length;u++)e[u].selected&&re++,e[u].selected&&e[u].value.empty()&&ae++;if(0==re)return JotForm.errored(e,JotForm.texts.required,r);if(re>=1)return re>ae?JotForm.corrected(e):JotForm.errored(e,JotForm.texts.required,r)}return e.hasClassName("form-dropdown")&&$$(".jfDropdown-search:focus").length>0?JotForm.corrected(e):"cc_paypalSPB_orderID"===e.getAttribute("name")||"cc_paypalSPB_payerID"===e.getAttribute("name")?JotForm.corrected(e):(JotForm.newDefaultTheme&&e.hasClassName("form-star-rating-star")&&e.up().descendants().each(function(e){e.setStyle({backgroundPosition:"-128px 0px"})}),JotForm.errored(e,JotForm.texts.required,r))}l=l.without("required")}else if(!e.value)return!0;if(!l[0])return!0;switch(l[0]){case"Email":e.value=e.value.replace(/^\s+|\s+$/g,"");var ne="undefined"!=typeof punycode?punycode.toASCII(e.value):e.value;if(!o.email.test(ne))return JotForm.errored(e,JotForm.texts.email,r);break;case"Alphabetic":if(!o.alphabetic.test(e.value))return JotForm.errored(e,JotForm.texts.alphabetic,r);break;case"Numeric":if(!o.numeric.test(e.value)&&!o.numericDotStart.test(e.value))return JotForm.errored(e,JotForm.texts.numeric,r);break;case"AlphaNumeric":if(!o.alphanumeric.test(e.value))return JotForm.errored(e,JotForm.texts.alphanumeric,r);break;case"Cyrillic":if(!o.cyrillic.test(e.value))return JotForm.errored(e,JotForm.texts.cyrillic,r);break;case"Url":case"URL":if(!o.url.test(e.value))return JotForm.errored(e,JotForm.texts.url,r);break;case"Currency":if(e.up(".form-matrix-table")){if(e.up(".form-matrix-table").select("input").collect(function(e){return!o.currency.test(e.value)}).any())return JotForm.errored(e,JotForm.texts.currency,r)}else if(!o.currency.test(e.value))return JotForm.errored(e,JotForm.texts.currency,r);break;case"Fill Mask":if("true"==e.readAttribute("data-masked")&&!jQuery(e).inputmask("isComplete")&&e.value&&e.value!==e.readAttribute("maskvalue").replace(/\#|\@/g,"_"))return JotForm.errored(e,JotForm.texts.fillMask,r)}return JotForm.corrected(e)}e.triggerEvent("change")};var i=function(o){setTimeout(function(){try{var o=t.getContainer(e),i=o.select("[class*=validate]"),r=i[i.length-1],a=t.getContainer(t.lastFocus)==t.getContainer(e)&&r==e,n=e&&"prefix"===e.getAttribute("data-component");"control_fullname"===o.dataset.type&&n&&JotForm.newDefaultTheme&&e.validateInput(),!t.lastFocus||t.lastFocus!=e&&t.getContainer(t.lastFocus)==t.getContainer(e)&&!a||n||"cardform"===window.FORM_MODE&&"control_fullname"===o.dataset.type||"cardform"===window.FORM_MODE&&("control_checkbox"===o.dataset.type||"control_radio"===o.dataset.type)?"hidden"==e.type||"file"==e.type?e.validateInput():e.hasClassName("form-textarea")&&e.up("div").down(".nicEdit-main")?e.validateInput():e.hasClassName("pad")&&e.validateInput():e.validateInput()}catch(e){console.log(e)}},10)};if("hidden"==e.type||"file"==e.type?e.observe("change",i):e.observe("blur",i),("checkbox"==e.type||"radio"==e.type)&&((e.parentNode.hasClassName("jfCheckbox")||e.parentNode.hasClassName("jfRadio"))&&e.observe("change",function(){e.validateInput()}),e.observe("keyup",function(){e.validateInput()}),JotForm.getOptionOtherInput(e))){JotForm.getOptionOtherInput(e).observe("keyup",function(){e.validateInput()})}if(e.hasClassName("pad")&&jQuery(e).bind("change",i),e.hasClassName("form-textarea")&&e.up("div").down(".nicEdit-main")&&e.up("div").down(".nicEdit-main").observe("blur",i),e.up(".form-spinner")){var r=function(){e.validateInput()};e.up(".form-spinner").down(".form-spinner-up").observe("click",r),e.up(".form-spinner").down(".form-spinner-down").observe("click",r)}},isFillingOffline:function(){return!("true"!==getQuerystring("offline_forms")&&!JotForm.switchedToOffline)},FBInit:function(){JotForm.FBNoSubmit=!0,FB.getLoginStatus(function(e){e.authResponse?JotForm.FBCollectInformation(e.authResponse.userID):FB.Event.subscribe("auth.login",function(e){JotForm.FBCollectInformation(e.authResponse.userID)})})},FBCollectInformation:function(e){JotForm.FBNoSubmit=!1;var t=$$(".form-helper").collect(function(e){var t="",o=e.readAttribute("data-info").replace("user_","");switch(o){case"can_be_anyvalue":t="place correct one here";break;case"sex":t="gender";break;case"about_me":t="bio";break;default:t=o}return[t,e.id]}),o={},i=!1;$A(t).each(function(e){"pic_with_logo"==e[0]&&(i={fieldID:e[1]}),"username"!==e[0]&&(o[e[0]]=e[1])});var r=$H(o).keys().without("pic_with_logo"),a=function(t,o){JotForm.bringOldFBSubmissionBack(e);var i=new Element("input",{type:"hidden",name:"fb_user_id"}).setValue(e);JotForm.getForm(t).insert({top:i})};try{FB.api("/"+e,{fields:r},function(t){var r;$H(t).each(function(e){if($(o[e.key]))switch(r=$(o[e.key]),e.key){case"location":r.value=e.value.name;break;case"website":r.value=e.value.split(/\s+/).join(", ");break;default:r.value=e.value}}),i?FB.api("/"+e+"/picture",function(e){e.data.url&&$(i.fieldID)&&($(i.fieldID).value=e.data.url),a(r)}):a(r)})}catch(e){console.error(e)}$$(".fb-login-buttons").invoke("show"),$$(".fb-login-label").invoke("hide")},bringOldFBSubmissionBack:function(e){var t=$$('input[name="formID"]')[0];new Ajax.Jsonp(JotForm.url+"server.php",{parameters:{action:"bringOldFBSubmissionBack",formID:t.value,fbid:e},evalJSON:"force",onComplete:function(e){var t=e.responseJSON;t.success&&JotForm.editMode(t,!0,["control_helper","control_fileupload"])}})},setCustomHint:function(e,t){var o=$(e)||null,i=t.replace(/<br>/gim,"\n")||"";o.addClassName("custom-hint-group").writeAttribute("data-customhint",t).writeAttribute("customhinted","true"),o.hasContent=!(!o.value||o.value.replace(/\n/gim,"<br>")==t),o.showCustomPlaceHolder=function(){this.hasContent||(this.placeholder=i,this.writeAttribute("spellcheck","false").addClassName("form-custom-hint"))},o.hideCustomPlaceHolder=function(){this.hasContent||(this.placeholder="",this.removeClassName("form-custom-hint").removeAttribute("spellcheck"))},o.observe("focus",function(e){this.hasContent||this.removeClassName("form-custom-hint").removeAttribute("spellcheck")}).observe("blur",function(e){this.showCustomPlaceHolder()}).observe("keyup",function(e){this.hasContent=this.value.length>0&&this.value!==i}).observe("paste",function(e){$this=this,setTimeout(function(){$this.hasContent=$this.value.length>0&&$this.value!==i},2)}),o&&"textarea"===o.type&&o.hasAttribute("data-richtext")&&setTimeout(function(){var e=$$("#id_"+o.id.replace("input_","")+" .nicEdit-main")[0]||null,t=nicEditors.findEditor(o.id);e&&(o.hasContent||e.setStyle({color:"#babbc0"}),e.observe("blur",function(){t.getContent()&&"<br>"!==t.getContent()||(e.setStyle({color:"#babbc0"}),t.setContent(i),o.writeAttribute("spellcheck","false").addClassName("form-custom-hint"))}),e.observe("focus",function(){e.setStyle({color:""}),o.removeClassName("form-custom-hint").removeAttribute("spellcheck"),t.getContent()===i&&t.setContent("")}))},1e3),o.up("form.jotform-form").observe("submit",function(){this.select(".custom-hint-group").each(function(e){e.hideCustomPlaceHolder()})}),o.showCustomPlaceHolder()},fieldHasContent:function(e){if($("id_"+e).hasClassName("form-line-error"))return!1;if($("id_"+e).select(".form-custom-hint").length>0)return!1;switch(JotForm.getInputType(e)){case"address":case"combined":return $$("#id_"+e+" input").collect(function(e){return e.value}).any();case"number":return $$("#id_"+e+" input").collect(function(e){return e.value.length>0}).any();case"birthdate":return JotForm.getBirthDate(e);case"datetime":var t=JotForm.getDateValue(e);return!("T00:00"==t||""==t);case"time":return JotForm.get24HourTime(e);case"checkbox":case"radio":return $$("#id_"+e+" input").collect(function(e){return e.checked}).any();case"select":return $$("#id_"+e+" select").collect(function(e){return e.value}).any();case"grading":return $$("input[id^=input_"+e+"_]").collect(function(e){return e.value}).any();case"signature":return jQuery("#id_"+e).find(".pad").jSignature("getData","base30")[1].length>0;case"slider":return $("input_"+e).value>0;case"file":if("multiple"===$$("#id_"+e+" input")[0].readAttribute("multiple")||""===$$("#id_"+e+" input")[0].readAttribute("multiple")){var o=$("id_"+e).select(".qq-upload-list li");if(o.length>0){var i=!0;return o.each(function(e){e.getAttribute("class")&&e.getAttribute("class").indexOf("fail")>0&&(i=!1)}),i}return!0}return $("input_"+e).value;default:return!(!$("input_"+e)||!$("input_"+e).value)&&$("input_"+e).value}},setupProgressBar:function(){JotForm.progressBar=new ProgressBar("progressBar",{height:"20px",width:"95%"});var e=["select","radio","checkbox","file","combined","email","address","combined","datetime","time","birthdate","number","radio","number","radio","autocomplete","radio","text","textarea","signature","div","slider"],t=0,o=0,i=function(){o=0,$$(".form-line").each(function(t){var i=t.id.split("_")[1],r=JotForm.getInputType(i);$A(e).include(r)&&JotForm.fieldHasContent(i)&&o++});var i=parseInt(100/t*o);isNaN(i)&&(i=0),JotForm.progressBar.setPercent(i),$("progressPercentage").update(i+"% "),$("progressCompleted").update(o),100==i?$("progressSubmissionReminder").show():$("progressSubmissionReminder").hide()},r=function(e,t){$(e).observe(t,function(){i()})};$$(".form-line").each(function(o){var i=o.id.split("_")[1],a=JotForm.getInputType(i);if(e.include(a))switch(t++,a){case"radio":case"checkbox":r($("id_"+i),"click");break;case"select":case"file":r($("id_"+i),"change");break;case"datetime":r($("id_"+i),"date:changed"),$$("#id_"+i+" select").each(function(e){r($(e),"change")});break;case"time":case"birthdate":$$("#id_"+i+" select").each(function(e){r($(e),"change")});break;case"address":r($("id_"+i),"keyup");break;case"number":r($("id_"+i),"keyup"),r($("id_"+i),"click");break;case"signature":r($("id_"+i),"click");break;default:r($("id_"+i),"keyup")}}),$("progressTotal").update(t),i()},setupRichArea:function(e){if(Prototype.Browser.IE9||Prototype.Browser.IE10||!Prototype.Browser.IE){var t="id_"+e,o=$(t).hasClassName("always-hidden")||"none"===$(t).style.display||"hidden"===$(t).style.display;JotForm.isVisible(t)||($(t).up(".form-section")&&$(t).up(".form-section").show(),JotForm.showField(e)),new nicEditor({iconsPath:location.protocol+"//www.jotform.com/images/nicEditorIcons.gif?v2"}).panelInstance("input_"+e),JotForm.updateAreaFromRich(t),o&&this.hideField(e)}},updateAreaFromRich:function(e){try{var t=$(e).down(".nicEdit-main"),o=$(e).down("textarea");t&&o&&t.observe("keyup",function(){o.value=t.innerHTML,o.triggerEvent&&o.triggerEvent("keyup")})}catch(e){console.error(e)}},autoFillInitialize:function(e){if(!this.isEditMode()){var t=$$('input[name="formID"]')[0].value;e.name="form_"+t;var o="form#"+t,i=["formID","simple_spc","temp_upload_folder"];$$(o)[0].writeAttribute("data-autofill","true");var r=function(e){var t=e.protectedfields,o=e.protectedfieldsdata,i=0;$H(o).each(function(e){var o=t[i],r=$(o),a=e[1],n=!!a.newinputvalue&&a.newinputvalue.replace(/\n/gim,"<br>");if(r.hasAttribute("data-customhint")||r.hasAttribute("customhinted")){(l=r.readAttribute("data-customhint"))&&n&&l!=n&&(r.removeClassName("form-custom-hint"),r.hasContent=!0)}else if(r.hasAttribute("hinted")||r.hinted){var l;(l=!!a.oldinputvalue&&a.oldinputvalue.replace(/\n/gim,"<br>"))&&n&&l!=n&&r.setStyle({color:"#000"})}i++})},a=function(e){if($$(".form-grading-input").length>0&&$("grade_total_"+o)){var t=0,o=null;$$(".form-grading-input").each(function(e){o=e.id.replace(/input_(\d+)_\d+/,"$1"),t+=parseFloat(e.value)||0}),$("grade_point_"+o).innerHTML=t}},n=function(e){$$(".nicEdit-main").each(function(e){var t=e.up(".form-line").down("textarea");t&&(e.innerHTML=t.value)})},l=function(e){$$(".form-star-rating").each(function(e){"function"===e.setRating&&e.setRating(e.down("input").value)})},s=function(){$("payment_total")&&JotForm.totalCounter(JotForm.prices)};JotForm.payment&&$$(".form-product-item > input.form-product-has-subproducts").length>0&&$$('.form-line[data-type="control_authnet"] select, .form-line[data-type="control_authnet"] input').each(function(e){e.id&&i.push(e.id)});var u=Number(e.timeout)>0?e.timeout:4,c=$$("input, select, textarea").length;c>200&&(u=Math.floor(c/10)),jQuery(o).autoFill({timeout:u,sessionID:JotForm.sessionID,excludeFields:i,ttl:e.ttl,allowBindOnChange:!(!e.bindChange||"on"!=e.bindChange),onBeforeSave:function(){},onSave:function(){},onRelease:function(){},onBeforeRestore:function(){},onRestore:function(e){var t=this.restoredData[0];t&&(r(t),a(t),n(t),l(t),s(t))}}),this.runAllConditions(),this.autoFillDeployed=!0}},runAllConditions:function(){$H(JotForm.fieldConditions).each(function(e){var t=e.key,o=e.value.event;$(t)&&(["autofill","number","autocomplete"].include(o)&&(o="keyup"),$(t).run(o))}),JotForm.isEditMode()&&(JotForm.ignoreInsertionCondition=null)},hasQuestion:function(e,t){var o=!1;return e.length>0&&e.some(function(e){if(e&&e.type===t)return o=e}),o},paymentExtrasOnTheFly:function(e){var t=this;e.length>0&&e.each(function(o){if(o)switch(o.type){case"control_chargify":if(!1!==t.hasQuestion(e,"control_email")){$$('input[type="email"]')[0].observe("blur",function(e){e.target.value&&($$(".cc_email")[0].value=e.target.value)})}break;case"control_wepay":if(!1!==t.hasQuestion(e,"control_email")){$$('input[type="email"]')[0].observe("blur",function(e){e.target.value&&($$(".cc_email")[0].value=e.target.value)})}if(!1!==t.hasQuestion(e,"control_address")){$$(".form-address-postal")[0].observe("blur",function(e){e.target.value&&($$(".cc_zipcode")[0].value=e.target.value)})}}})},setQuestionMasking:function(e,t,o,i){if(o||null!==o||i){o=o.replace(/&#39;/g,"'");i=i||!1;var r=(o=o.replace(/\\/g,"")).replace(/#/g,"_").replace(/\[|\]/g,"");o=o.replace(/9/g,"\\9").replace(/a/g,"\\a").replace(/A/g,"\\A");var a={"#":{validator:"[0-9]"}};"textMasking"===t&&(Object.extend(a,{"@":{validator:"[A-Za-zА-яЁё一-鿿]"},"*":{validator:"[0-9A-Za-zА-яЁё一-鿿]"}}),r=r.replace(/\*|@/g,"_"));try{if(window.buildermode&&"card"===buildermode)return;var n=jQuery(e);i?n.inputmask("remove").off("blur").attr("placeholder",""):setTimeout(function(){n.inputmask("remove"),n.inputmask(o,{placeholder:"_",autoclear:!1,definitions:a}).on("blur",function(e){e.target.triggerEvent("change")}).attr("maskValue",o);var e=n.val().indexOf("_");n.caret(e)},0)}catch(e){console.log(e)}}},setInputTextMasking:function(e,t,o){setTimeout(function(){JotForm.setQuestionMasking("#"+e,"textMasking",t,o)},10)},setPhoneMaskingValidator:function(e,t,o){setTimeout(function(){JotForm.setQuestionMasking("#"+e,"phoneMasking",t,o)},10)},loadScript:function(){var e,t,o=arguments.length;arguments[o-1]instanceof Function?(o--,e=arguments[arguments.length-1]):e=function(){};for(var i=0;i<o;i++){if(t=document.createElement("script"),t.src=arguments[i],void 0!==t.addEventListener)t.addEventListener("load",e,!1);else{t.attachEvent("onreadystatechange",function(){"loaded"==t.readyState&&e()})}(document.head||document.getElementsByTagName("head")[0]).appendChild(t)}},loadStyleSheet:function(e,t){var o=document.createElement("link");o.setAttribute("id","form-css"),o.setAttribute("type","text/css"),o.setAttribute("rel","stylesheet"),o.setAttribute("href",e),(document.head||document.getElementsByTagName("head")[0]).appendChild(o),o.readyState?o.onreadystatechange=function(){"loaded"!=o.readyState&&"complete"!=o.readyState||(o.onreadystatechange=null,t&&t())}:navigator.userAgent.match(/safari/i)&&!navigator.userAgent.match(/chrome/i)?t&&t():o.onload=function(){t&&t()}},isStyleSheetLoaded:function(e){var t=!1,o=document.styleSheets;for(var i in o){var r=o[i];if(r.href&&~r.href.indexOf(e)){t=!0;break}}return t},track:function(e,t){var o=this;if(!($$("#event_tracking_image").length>0)){var i,r,a=$$(".jotform-form")[0],n=a.getAttribute("id");try{i=encodeURIComponent(document.referrer)}catch(e){i="undefined"}try{r=encodeURIComponent(window.top.location.href)}catch(e){r="undefined"}var l=window.screen.height,s=window.screen.width;if(!n)return!1;if(a&&location&&location.href&&-1==location.href.indexOf("&nofs")&&-1==location.href.indexOf("&sid")){var u=1*new Date+"_"+n+"_"+function(e){charSet="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789";for(var t="",o=0;o<e;o++){var i=Math.floor(Math.random()*charSet.length);t+=charSet.substring(i,i+1)}return t}(7);!function(e,t){t.parentNode.insertBefore(e,t.nextSibling)}(function(e){var t="https://events.jotform.com/";void 0!==JotForm.enterprise&&JotForm.enterprise&&(t="https://"+JotForm.enterprise+"/events/"),o.jsForm?t+="jsform/":t+="form/";var a,u=t+n+"/";l&&s&&(a=s+"x"+l),u=u+"?ref="+encodeURIComponent(i),a&&(u=u+"&res="+encodeURIComponent(a)),e&&(u=u+"&eventID="+encodeURIComponent(e)),u=u+"&loc="+encodeURIComponent(r);var c=new Image;return c.id="event_tracking_image",c.src=u,c.alt="jftr",c.style.display="none",c.width=1,c.height=1,c}(u),a),function(e){var t=document.createElement("input");t.setAttribute("type","hidden"),t.setAttribute("name","event_id"),t.value=e,a.appendChild(t)}(u)}}},additionalActionsFormEmbedded:function(){var e=this,t=getQuerystring("embeddedvia");if(t&&!("weebly"!==t||window.FORM_MODE&&"cardform"==window.FORM_MODE||e.isStyleSheetLoaded("mobile.responsive.min.css"))){e.loadStyleSheet("https://widgets.jotform.io/mobileResponsive/mobile.responsive.min.css",function(){e.handleIFrameHeight()})}},changeSubmitURL:function(e){if(e.length>0)for(var t=this.forms.length-1;t>=0;t--){var o=this.forms[t];o.action=o.action.replace(/\/\/submit\..*?\//,"//"+e+"/")}},handleChinaCensorship:function(){this.getClientCountry(function(e){var t=e.country;t.length>0&&"cn"===t.toLowerCase()&&this.changeSubmitURL("china.jotfor.ms")}.bind(this))},handlePreview:function(e){$$("body")[0].setStyle({overflowX:"hidden"}),$A(JotForm.forms).each(function(t){var o=document.createElement("input");if(o.setAttribute("type","hidden"),o.setAttribute("name","preview"),o.value="true",t.appendChild(o),!0===e){var i=document.createElement("script");i.setAttribute("type","text/javascript"),i.setAttribute("src","//cdn.jotfor.ms/js/form-tester.js?rev="+(new Date).getTime()),t.appendChild(i)}})},getClientCountry:function(e){new Ajax.Request("//china.jotfor.ms/opt/geo.ip.php",{evalJSON:"force",onComplete:function(t){e(200===t.status?t.responseJSON:{country:""})}})},updateMatrixInputs:function(e,t){var o=document.getElementById("matrix_"+e),i=(o.getAttribute("data-type"),$(o).select(".forDesktop")[0]),r=$(o).select(".forMobile")[0];if("mobile"===t)var a=r,n=i;else a=i,n=r;$(a).select(".form-matrix-values").each(function(e){$(e).removeClassName("form-matrix-values"),$(e).addClassName("form-matrix-values-disabled")});$(a).select("input, select").each(function(e){e.id.indexOf("disabled")<0&&(e.id+="_disabled",e.setAttribute("data-name",e.getAttribute("name")),e.removeAttribute("name"))});$(n).select(".form-matrix-values").each(function(e){$(e).removeClassName("form-matrix-values-disabled"),$(e).addClassName("form-matrix-values")});$(n).select("input").each(function(e){e.id=e.id.replace("_disabled",""),e.getAttribute("data-name")&&(e.setAttribute("name",e.getAttribute("data-name")),e.removeAttribute("data-name"))}),$(a).addClassName("hidden-matrix"),$(n).removeClassName("hidden-matrix")},setMatrixLayout:function(e,t,o){if(t||JotForm.isVisible("id_"+e)){var i=document.getElementById("matrix_"+e);if($(i)){var r=$(i).select(".forDesktop")[0],a=$(i).select(".forMobile")[0],n=i.getAttribute("data-type");if(t||(r&&"none"!==r.getStyle("display")&&a?this.updateMatrixInputs(e,"mobile"):a&&"none"!==a.getStyle("display")&&r&&this.updateMatrixInputs(e,"desktop")),["Slider","Emoji Slider","Yes No"].indexOf(n)>-1&&r){var l=r.getElementsByClassName("jfMatrixLabelList-item"),s=r.getElementsByClassName("jfMatrixInputList-item");Array.prototype.forEach&&Array.prototype.forEach.call(l,function(e,t){var o=s[t];o&&e&&("Yes No"===n&&(e.style.width="calc(100% - "+o.offsetWidth+"px)",o.style.width=""),o.style.height=e.offsetHeight+"px")})}var u=$(i).select(".forMobile").length>0,c=["Slider","Emoji Slider"].indexOf(n)>-1;if(c&&u){var d=$(i).select(".slider")[0],m=$(i).select(".jfMobileMatrix-nextRow")[0],p=$(i).select(".jfMobileMatrix-prevRow")[0],f=$(i).select(".jfMobileMatrix-row"),h=$(i).select(".jfMobileMatrix-columnDot"),v=f.length,g=$(i).select(".jfMobileMatrix-row.isSelected")[0],y=parseInt(g.readAttribute("data-order"),10),b=!1,F=!1;h[y]&&h[y].addClassName("isActive");var _=d.querySelectorAll(".jfMatrixInputList-item");$(i).select(".jfMobileMatrix-prevRow")[0].observe("click",function(){x()}),$(i).select(".jfMobileMatrix-nextRow")[0].observe("click",function(){J()});var w=function(){_[b].removeClassName("isHidden"),_[y].addClassName("isHidden"),h[y].removeClassName("isActive"),h[b].addClassName("isActive"),g=F,y=b},J=function(){(b=y+1)!==v&&((F=f[b]).addClassName("isSelected"),g.removeClassName("isSelected"),b>0&&(p.disabled=!1),b+1===v&&(m.disabled=!0),w())},x=function(){0!==y&&((F=f[b=y-1]).addClassName("isSelected"),g.removeClassName("isSelected"),0===b&&(p.disabled=!0),b>=v&&(m.disabled=!0),b<v-1&&(m.disabled=!1),w())}}if(!c){if($(i).select(".forDesktop").length>0){for(var C=i.getElementsByClassName("jfMatrixHeader-item"),k=i.getElementsByClassName("jfMatrixTable-cell"),S=1;S<C.length;S++){var E=k[S].down();if(C[S].getElementsByTagName("div")[0].getLayout().get("width")<5)var A=80;else A=C[S].getElementsByTagName("div")[0].getLayout().get("padding-box-width");E.style.minWidth=A+"px"}if(C&&C.length){C[0].getElementsByTagName("div")[0].style.width=k[0].getElementsByTagName("div")[0].getLayout().get("padding-box-width")+"px";var N=i.getElementsByClassName("jfMatrixTable")[0],T=i.getElementsByClassName("jfMatrixHeader")[0];N.addEventListener("scroll",function(){T.scrollLeft=N.scrollLeft})}}if(u){var M=function(e){var t=$(i).select(".jfMatrix-question"),o=$(i).select(".jfMobileMatrix-columnDot"),r=isBackEnabled=!0;t.each(function(t){t.removeClassName("isActive"),t.setAttribute("aria-hidden",!0),t.readAttribute("data-order")==e&&($(t).removeAttribute("aria-hidden"),$(t).addClassName("isActive"))}),o&&o.each(function(t){t.removeClassName("isActive"),t.setAttribute("aria-hidden",!0),t.readAttribute("data-order")==e&&($(t).addClassName("isActive"),$(t).removeAttribute("aria-hidden"))});$(i).select(".jfMatrix-choiceWrapper").each(function(t){t.removeClassName("isActive"),t.setAttribute("aria-hidden",!0),t.readAttribute("data-order")==e&&($(t).addClassName("isActive"),$(t).removeAttribute("aria-hidden"))}),parseInt(e,10)===t.length-1?r=!1:0===parseInt(e,10)&&(isBackEnabled=!1),$(i).select(".forMatrixPrev").length>0&&($(i).select(".forMatrixPrev")[0].disabled=!isBackEnabled,$(i).select(".forMatrixPrev")[0].setAttribute("aria-hidden",!isBackEnabled)),$(i).select(".forMatrixNext").length>0&&($(i).select(".forMatrixNext")[0].disabled=!r,$(i).select(".forMatrixNext")[0].setAttribute("aria-hidden",!r)),$(i).select(".jfMatrixProgress-text span")[0].innerHTML=e+1};o&&M(o);var I=function(){$(this).stopObserving("click");$(i).select(".jfMatrix-question");var e=parseInt($(i).select(".jfMatrix-question.isActive")[0].readAttribute("data-order"));e=parseInt(e,10)+1,M(e),$(this).observe("click",I)},O=function(){$(this).stopObserving("click");$(i).select(".jfMatrix-question");var e=parseInt($(i).select(".jfMatrix-question.isActive")[0].readAttribute("data-order"));e=parseInt(e,10)-1,M(e),$(this).observe("click",O)};$(i).select(".forMatrixNext").length>0&&$(i).select(".forMatrixNext")[0].observe("click",I),$(i).select(".forMatrixPrev").length>0&&$(i).select(".forMatrixPrev")[0].observe("click",O);var D=function(e,t){for(;(e=e.parentElement)&&!e.classList.contains(t););return e};t||a.hasClassName("hidden-matrix")||$(i).select("input").each(function(e){if("radio"==e.type&&"Yes No"!==n){var t=function(){if($(this).stopObserving("click"),!a.hasClassName("hidden-matrix")){var e=D(this,"jfMatrixChoice-table");if($(e)&&$(e).select(".jfMatrixChoice-row.isSelected")&&$(e).select(".jfMatrixChoice-row.isSelected").length>0){$(e).select(".jfMatrixChoice-row.isSelected")[0].removeClassName("isSelected")}D(this,"jfMatrixChoice-row").addClassName("isSelected"),setTimeout(function(){var e=$(i).select(".jfMatrixProgress-button.forMatrixNext")[0];$(e)&&null==$(e).readAttribute("disabled")&&$(e).triggerEvent("click")},500),$(this).observe("click",t)}};e.observe("click",t)}})}}}}},setRatingLayout:function(e){if(document.getElementById("stage"))return null;"object"==typeof CardForm&&CardForm.layoutParams&&!1===CardForm.layoutParams.hasTouch&&(JotForm.accessible||JotForm.setRatingClickTransfer(e));var t=document.getElementById("rating_"+e);if($(t)){var o=$(t).select(".jfRating-shortcut-input")[0],i=$(t).select(".jfRating-items")[0],r=$(t).select(".jfRating-input");JotForm.ratingFnQueues||(JotForm.ratingFnQueues=[]),JotForm.ratingFnQueues["fnQueue_"+e]=[],i.addEventListener("click",function(e){"object"==typeof CardForm&&CardForm.layoutParams&&!1===CardForm.layoutParams.hasTouch&&(JotForm.accessible||o&&o.focus())}),o.addEventListener("keyup",function(o){var i=this.value;if(i){if($(t).select(".jfRating-input:checked").length)var r=$(t).select(".jfRating-input:checked")[0].value;"-"===i&&(i=parseInt(r)-1),"+"===i&&(i=parseInt(r)+1),i=i.toString();var a=$(t).select(".jfRating-input[value="+i+"]")[0];a&&(a.checked="checked",JotForm.setRatingItemsChecked(e,i,r))}this.value=""}),r.each(function(o){o.addEventListener("mouseenter",function(){$(this).up(".jfRating-item").addClassName("indicate");$(t).select(".jfRating-items .jfRating-item.jfRating-selection").each(function(e){if($(e).hasClassName("indicate"))throw $break;$(e).addClassName("indicate")})}),o.addEventListener("mouseleave",function(){r.each(function(e){e.up(".jfRating-item").removeClassName("indicate")})}),o.addEventListener("change",function(){JotForm.setRatingItemsChecked(e,this.value)})})}},setRatingItemsChecked:function(e,t,o){JotForm.ratingFnQueues||(JotForm.ratingFnQueues=[]),JotForm.ratingFnQueues["fnQueue_"+e]||(JotForm.ratingFnQueues["fnQueue_"+e]=[]);var i=document.getElementById("rating_"+e),r=$(i).select(".jfRating-selection"),a=!isNaN(t)&&parseInt(t),n=(o=!isNaN(o)&&parseInt(o)||null,$(i).select(".jfRating-input")),l=JotForm.ratingFnQueues["fnQueue_"+e],s=null;!o&&i.dataset.oldValue&&(o=i.dataset.oldValue),i.dataset.oldValue=t;var u={enqueue:function(e){l.push(e),null===s&&(s=setInterval(function(){u.processQueue()},33))},processQueue:function(){"function"==typeof l[0]&&l[0](),l.shift(),0===l.length&&(clearInterval(s),s=null)}};n.each(function(e){e.up(".jfRating-item").removeClassName("indicate")}),(o<a||null===o)&&r.each(function(e,t){if(e.dataset){var o=e.dataset.value;if(o&&(u.enqueue(function(){e.classList.add("checked")}),o===this.value))throw $break}},{value:t}),o&&o>a&&(r.reverse(),r.each(function(e,t){if(e.dataset){var o=e.dataset.value;if(o){if(o===this.value)throw $break;u.enqueue(function(){e.classList.remove("checked")})}}},{value:t})),$("input_"+e).value=t;i.select(".form-textbox")[0].value=parseInt(t,10),JotForm.runConditionForId(e.toString())},setRatingClickTransfer:function(e){document.body.addEventListener("click",function(){document.querySelector(".jfCard-wrapper.isVisible #rating_"+e+" input")})},getScrollbarWidth:function(e){var t=document.createElement("div");t.style.visibility="hidden",t.style.width="100px",t.style.msOverflowStyle="scrollbar",e.appendChild(t);var o=t.offsetWidth;t.style.overflow="scroll";var i=document.createElement("div");i.style.width="100%",t.appendChild(i);var r=i.offsetWidth;return t.parentNode.removeChild(t),o-r},getOptionOtherInput:function(e){if(e){var t=e.up(".form-"+e.type+"-item");if(t){var o=".form-"+e.type+"-other-input";return t.down(o)}}return null},setFullNameAutoFocus:function(e){$$("#prefix_"+e)[0].observe("change",function(){setTimeout(function(){$$("#first_"+e)[0].focus()},500)})},initShoppingBag:function(){},initProductPages:function(){},initDonation:function(){},customToQueryParams:function(e,t){var o=e.strip().match(/[^#&?]*?=[^#&?]*/g);return o&&o[1]?o[1].split(t||"&").inject({},function(e,t){if((t=t.split("="))[0]){var o=decodeURIComponent(t.shift()),i=t.length>1?t.join("="):t[0];if(void 0!=i)try{i=decodeURIComponent(i)}catch(e){i=unescape(i)}o in e?(Object.isArray(e[o])||(e[o]=[e[o]]),e[o].push(i)):e[o]=i}return e}):{}},loadEmbedStyle:function(e,t){try{t=JSON.parse(t)}catch(e){t={}}if(window.parent!==window&&!(window.location.href.indexOf("disableSmartEmbed")>-1)){var o=document.getElementById("form-css");if(o){var i=document.createElement("a");i.href=o.href;var r=i.search.toQueryParams(),a=r.embedUrl||document.URL,n=getMD5(a);["resetSmartStyle","clearSmartStyle","clearInlineStyle"].each(function(e){var t=new RegExp("&?"+e+"(?:=[0-9]*)?").exec(a);if(t&&t[0]){a=a.replace(t[0],"");var o=t[0].replace("&","").split("=");r[o[0]]=void 0!==o[1]?o[1]:"1"}}),r.embedUrl&&delete r.embedUrl,r=Object.toQueryString(r),r+=(""!==r?"&":"")+"embedUrl="+a,pathname=i.pathname.split(".css")[0]+"/"+n+".css";var l=i.protocol+"//"+i.hostname+"/"+pathname+"?"+r;this.loadStyleSheet(l,function(){var i=(t[n]||{}).inlineStyle||{};void 0!==i.embedHeight&&window.parent.postMessage("setHeight:"+i.embedHeight+":"+e,"*"),o.remove()})}}},initOwnerView:function(e){if(this.jsForm){var t=this.url;this.url.include(".jotform.pro")||(t="https://www.jotform.com");var o=t+"/ownerView.php?id="+e;window.parent.postMessage(["loadScript",o,e].join(":"),"*")}},_xdr:function(e,t,o,i,r){var a;XMLHttpRequest?JotForm.createXHRRequest(e,t,o,i,r):XDomainRequest?((a=new XDomainRequest).open(t,e),a.onerror=r,a.onload=function(){i(a.responseText)},a.send(o)):r(new Error("CORS not supported"))},createXHRRequest:function(e,t,o,i,r){var a=new XMLHttpRequest;"withCredentials"in a&&(a.open(t,e,!0),a.setRequestHeader("Content-type","application/x-www-form-urlencoded"),a.onerror=r,a.onreadystatechange=function(){if(4===a.readyState)if(a.status>=200&&a.status<400){var n=JSON.parse(a.responseText);if([400,404,401,503,301].indexOf(n.responseCode)>-1)return 301===n.responseCode?(e=e.replace("api.","eu-api."),void createXHRRequest(e,t,o,i,r)):void r(n.message,n.responseCode);i(JSON.parse(a.responseText))}else r(new Error("Response returned with non-OK status"))},a.send(o))},serialize:function(e){var t=[];for(var o in e)t.push(encodeURIComponent(o)+"="+encodeURIComponent(e[o]));return t.join("&")},preparePOST:function(e,t){postData=new Object;for(var o in e)value=e[o],t&&(-1!==o.indexOf("_")&&(keys=o.split("_"),o=keys[0]+"]["+keys[1]),o="["+o+"]"),postData[t+o]=value;return postData}};window.fbAsyncInit=JotForm.FBInit.bind(JotForm);